!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).photonui=t()}}(function(){return function s(r,a,l){function h(e,t){if(!a[e]){if(!r[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[e]={exports:{}};r[e][0].call(o.exports,function(t){return h(r[e][1][t]||t)},o,o.exports,s,r,a,l)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,i){"use strict";var f=t("./annotation.js"),p=!1;var m=function(){};Object.defineProperty(m,"$class",{enumerable:!1,value:m}),Object.defineProperty(m,"$map",{enumerable:!1,value:{attributes:{},methods:{},computedProperties:{}}}),Object.defineProperty(m,"$extend",{enumerable:!1,value:function(t){var r=this,i=JSON.parse(JSON.stringify(r.$map)),n=function(){if(!p){for(var t in Object.defineProperty(this,"$class",{enumerable:!1,value:n}),Object.defineProperty(this,"$map",{enumerable:!1,value:i}),Object.defineProperty(this,"$data",{enumerable:!1,value:{}}),i.computedProperties)Object.defineProperty(this,t,{enumerable:!0,configurable:!1,get:void 0!==i.computedProperties[t].get?function(t){return function(){return this[t].apply(this,arguments)}}(i.computedProperties[t].get):void 0,set:void 0!==i.computedProperties[t].set?function(t){return function(){return this[t].apply(this,arguments)}}(i.computedProperties[t].set):void 0});for(var e in i.methods)this[e]=this[e].bind(this);return this.__init__&&this.__init__.apply(this,arguments),this}};n.prototype=function(t){p=!0;var e=new t;return p=!1,e}(this.$class);var e,o,s,a,l,h,u=(t=t||{}).__preBuild__||r.prototype.__preBuild__;if(u&&u(t,n,r),t.__include__)for(a=t.__include__.length-1;0<=a;a--){for(e in l=t.__include__[a])"__classvars__"!=e&&void 0===t[e]&&(t[e]=l[e]);if(l.__classvars__)for(e in t.__classvars__||(t.__classvars__={}),l.__classvars__)void 0===t.__classvars__[e]&&(t.__classvars__[e]=l.__classvars__[e])}for(e in t||{})if("__include__"!=e&&"__classvars__"!=e)if("function"==typeof t[e]){for(var c in o=void 0,i.methods[e]={annotations:{}},0===e.indexOf("get")?(o=e.slice(3,4).toLowerCase()+e.slice(4,e.length),i.computedProperties[o]||(i.computedProperties[o]={annotations:{}}),i.computedProperties[o].get=e):0===e.indexOf("set")?(o=e.slice(3,4).toLowerCase()+e.slice(4,e.length),i.computedProperties[o]||(i.computedProperties[o]={annotations:{}}),i.computedProperties[o].set=e):0===e.indexOf("has")?(o=e.slice(3,4).toLowerCase()+e.slice(4,e.length),i.computedProperties[o]||(i.computedProperties[o]={annotations:{}}),i.computedProperties[o].get=e):0===e.indexOf("is")&&(o=e.slice(2,3).toLowerCase()+e.slice(3,e.length),i.computedProperties[o]||(i.computedProperties[o]={annotations:{}}),i.computedProperties[o].get=e),s=f(t[e]))i.methods[e].annotations[c]=s[c],o&&(i.computedProperties[o].annotations[c]=s[c]);h=t[e],Boolean(h.toString().match(/.*(\$super|\$name|\$computedPropertyName).*/))?n.prototype[e]=function(n,o,s){return function(){var t=this.$super,e=this.$name,i=this.$computedPropertyName;this.$super=r.prototype[o],this.$name=o,this.$computedPropertyName=s;try{return n.apply(this,arguments)}finally{t?this.$super=t:delete this.$super,e?this.$name=e:delete this.$name,i?this.$computedPropertyName=i:delete this.$computedPropertyName}}}(t[e],e,o):n.prototype[e]=t[e]}else i.attributes[e]=!0,n.prototype[e]=t[e];var d=Object.getOwnPropertyNames(r);for(d=d.filter(function(t){return-1==["caller","callee","arguments","$class","$extend","$map"].indexOf(t)}),a=0;a<d.length;a++)void 0===n[d[a]]&&(n[d[a]]=r[d[a]]);if(t.__classvars__)for(e in t.__classvars__)n[e]=t.__classvars__[e];Object.defineProperty(n,"$class",{enumerable:!1,value:n}),Object.defineProperty(n,"$extend",{enumerable:!1,value:m.$extend}),Object.defineProperty(n,"$map",{enumerable:!1,value:i});var _=t.__postBuild__||r.prototype.__postBuild__;return _&&_(t,n,r),n}}),e.exports=m},{"./annotation.js":2}],2:[function(t,e,i){"use strict";e.exports=function(t){for(var e,i,n,o,s=function(t){for(var e,i,n,o=[],s=!1,r=!1,a=0;a<t.length;a++)if(n=t[a],s)r?(i+="\\"==n?"\\":"n"==n?"\n":"r"==n?"\r":"t"==n?"\t":n==e?e:"\\"+n,r=!1):"\\"==n?r=!0:n==e?(o.push(i),s=!1):i+=n;else{if('"'!=n&&"'"!=n){if(-1<[" "," ","\n","\r",";"].indexOf(n))continue;break}r=!(s=!0),e=n,i=""}return o}(function(t){for(var e,i=0,n=0;n<t.length;n++)if("("==(e=t[n]))++i;else if(")"==e)--i;else if("{"==e&&0===i){t=t.slice(n+1);break}return t=(t=(t=t.replace(/\/\*(.|\r|\n)*?\*\//g,"")).replace(/\/\/.*?\r?\n/g,"\n")).replace(/\s*\r?\n\s*/g,"")}(t.toString())),r={},a=0;a<s.length;a++)0===(e=s[a].trim()).indexOf("@")&&(i=e.slice(1,-1<e.indexOf(" ")?e.indexOf(" "):e.length),n=!0,-1<e.indexOf(" ")&&(n=(n=e.slice(e.indexOf(" ")+1,e.length)).trim(),n="true"==(o=n)||"false"!=o&&("null"==o?null:"undefined"==o?void 0:o.match(/^([0-9]+\.?|[0-9]*\.[0-9]+)$/)?parseFloat(o):o)),r[i]=n);return r}},{}],3:[function(t,e,i){var n=t("./lib/keyboard"),o=t("./lib/locale"),s=t("./lib/key-combo"),r=new n;r.setLocale("us",t("./locales/us")),(i=e.exports=r).Keyboard=n,i.Locale=o,i.KeyCombo=s},{"./lib/key-combo":4,"./lib/keyboard":5,"./lib/locale":6,"./locales/us":7}],4:[function(t,e,i){function l(t){this.sourceStr=t,this.subCombos=l.parseComboStr(t),this.keyNames=this.subCombos.reduce(function(t,e){return t.concat(e)},[])}l.sequenceDeliminator=">>",l.comboDeliminator=">",l.keyDeliminator="+",l.parseComboStr=function(t){for(var e=l._splitStr(t,l.comboDeliminator),i=[],n=0;n<e.length;n+=1)i.push(l._splitStr(e[n],l.keyDeliminator));return i},l.prototype.check=function(t){for(var e=0,i=0;i<this.subCombos.length;i+=1)if(-1===(e=this._checkSubCombo(this.subCombos[i],e,t)))return!1;return!0},l.prototype.isEqual=function(t){if(!t||"string"!=typeof t&&"object"!=typeof t)return!1;if("string"==typeof t&&(t=new l(t)),this.subCombos.length!==t.subCombos.length)return!1;for(var e=0;e<this.subCombos.length;e+=1)if(this.subCombos[e].length!==t.subCombos[e].length)return!1;for(e=0;e<this.subCombos.length;e+=1){for(var i=this.subCombos[e],n=t.subCombos[e].slice(0),o=0;o<i.length;o+=1){var s=i[o],r=n.indexOf(s);-1<r&&n.splice(r,1)}if(0!==n.length)return!1}return!0},l._splitStr=function(t,e){for(var i=t,n=e,o="",s=[],r=0;r<i.length;r+=1)0<r&&i[r]===n&&"\\"!==i[r-1]&&(s.push(o.trim()),o="",r+=1),o+=i[r];return o&&s.push(o.trim()),s},l.prototype._checkSubCombo=function(t,e,i){t=t.slice(0),i=i.slice(e);for(var n=e,o=0;o<t.length;o+=1){var s=t[o];if("\\"===s[0]){var r=s.slice(1);r!==l.comboDeliminator&&r!==l.keyDeliminator||(s=r)}var a=i.indexOf(s);if(-1<a&&(t.splice(o,1),o-=1,n<a&&(n=a),0===t.length))return n}return-1},e.exports=l},{}],5:[function(e,i,t){(function(a){var n=e("./locale"),u=e("./key-combo");function t(t,e,i,n){this._locale=null,this._currentContext=null,this._contexts={},this._listeners=[],this._appliedListeners=[],this._locales={},this._targetElement=null,this._targetWindow=null,this._targetPlatform="",this._targetUserAgent="",this._isModernBrowser=!1,this._targetKeyDownBinding=null,this._targetKeyUpBinding=null,this._targetResetBinding=null,this._paused=!1,this._callerHandler=null,this.setContext("global"),this.watch(t,e,i,n)}t.prototype.setLocale=function(t,e){var i=null;"string"==typeof t?e?e(i=new n(t),this._targetPlatform,this._targetUserAgent):i=this._locales[t]||null:t=(i=t)._localeName,this._locale=i,(this._locales[t]=i)&&(this._locale.pressedKeys=i.pressedKeys)},t.prototype.getLocale=function(t){return t||(t=this._locale.localeName),this._locales[t]||null},t.prototype.addListener=t.prototype.bind=function(t,e,i,n){if(null!==t&&"function"!=typeof t||(n=i,i=e,e=t,t=null),t&&"object"==typeof t&&"number"==typeof t.length)for(var o=0;o<t.length;o+=1)this.bind(t[o],e,i);else this._listeners.push({keyCombo:t?new u(t):null,pressHandler:e||null,releaseHandler:i||null,preventRepeat:n||!1,preventRepeatByDefault:n||!1})},t.prototype.on=t.prototype.bind,t.prototype.removeListener=t.prototype.unbind=function(t,e,i){if(null!==t&&"function"!=typeof t||(i=e,e=t,t=null),t&&"object"==typeof t&&"number"==typeof t.length)for(var n=0;n<t.length;n+=1)this.unbind(t[n],e,i);else for(n=0;n<this._listeners.length;n+=1){var o=this._listeners[n],s=!t&&!o.keyCombo||o.keyCombo&&o.keyCombo.isEqual(t),r=!e&&!i||!e&&!o.pressHandler||e===o.pressHandler,a=!e&&!i||!i&&!o.releaseHandler||i===o.releaseHandler;s&&r&&a&&(this._listeners.splice(n,1),n-=1)}},t.prototype.off=t.prototype.unbind,t.prototype.setContext=function(t){this._locale&&this.releaseAllKeys(),this._contexts[t]||(this._contexts[t]=[]),this._listeners=this._contexts[t],this._currentContext=t},t.prototype.getContext=function(){return this._currentContext},t.prototype.withContext=function(t,e){var i=this.getContext();this.setContext(t),e(),this.setContext(i)},t.prototype.watch=function(t,e,i,n){var o=this;if(this.stop(),!t){if(!a.addEventListener&&!a.attachEvent)throw new Error("Cannot find global functions addEventListener or attachEvent.");t=a}if("number"==typeof t.nodeType&&(n=i,i=e,e=t,t=a),!t.addEventListener&&!t.attachEvent)throw new Error("Cannot find addEventListener or attachEvent methods on targetWindow.");this._isModernBrowser=!!t.addEventListener;var s=t.navigator&&t.navigator.userAgent||"",r=t.navigator&&t.navigator.platform||"";e&&null!==e||(e=t.document),i&&null!==i||(i=r),n&&null!==n||(n=s),this._targetKeyDownBinding=function(t){o.pressKey(t.keyCode,t),o._handleCommandBug(t,r)},this._targetKeyUpBinding=function(t){o.releaseKey(t.keyCode,t)},this._targetResetBinding=function(t){o.releaseAllKeys(t)},this._bindEvent(e,"keydown",this._targetKeyDownBinding),this._bindEvent(e,"keyup",this._targetKeyUpBinding),this._bindEvent(t,"focus",this._targetResetBinding),this._bindEvent(t,"blur",this._targetResetBinding),this._targetElement=e,this._targetWindow=t,this._targetPlatform=i,this._targetUserAgent=n},t.prototype.stop=function(){this._targetElement&&this._targetWindow&&(this._unbindEvent(this._targetElement,"keydown",this._targetKeyDownBinding),this._unbindEvent(this._targetElement,"keyup",this._targetKeyUpBinding),this._unbindEvent(this._targetWindow,"focus",this._targetResetBinding),this._unbindEvent(this._targetWindow,"blur",this._targetResetBinding),this._targetWindow=null,this._targetElement=null)},t.prototype.pressKey=function(t,e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressKey(t),this._applyBindings(e)}},t.prototype.releaseKey=function(t,e){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.releaseKey(t),this._clearBindings(e)}},t.prototype.releaseAllKeys=function(t){if(!this._paused){if(!this._locale)throw new Error("Locale not set");this._locale.pressedKeys.length=0,this._clearBindings(t)}},t.prototype.pause=function(){this._paused||(this._locale&&this.releaseAllKeys(),this._paused=!0)},t.prototype.resume=function(){this._paused=!1},t.prototype.reset=function(){this.releaseAllKeys(),this._listeners.length=0},t.prototype._bindEvent=function(t,e,i){return this._isModernBrowser?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i)},t.prototype._unbindEvent=function(t,e,i){return this._isModernBrowser?t.removeEventListener(e,i,!1):t.detachEvent("on"+e,i)},t.prototype._getGroupedListeners=function(){var n=[],o=[],t=this._listeners;return"global"!==this._currentContext&&(t=[].concat(t,this._contexts.global)),t.sort(function(t,e){return(e.keyCombo?e.keyCombo.keyNames.length:0)-(t.keyCombo?t.keyCombo.keyNames.length:0)}).forEach(function(t){for(var e=-1,i=0;i<o.length;i+=1)(null===o[i]&&null===t.keyCombo||null!==o[i]&&o[i].isEqual(t.keyCombo))&&(e=i);-1===e&&(e=o.length,o.push(t.keyCombo)),n[e]||(n[e]=[]),n[e].push(t)}),n},t.prototype._applyBindings=function(t){var e=!1;t||(t={}),t.preventRepeat=function(){e=!0},t.pressedKeys=this._locale.pressedKeys.slice(0);for(var i=this._locale.pressedKeys.slice(0),n=this._getGroupedListeners(),o=0;o<n.length;o+=1){var s=n[o],r=s[0].keyCombo;if(null===r||r.check(i)){for(var a=0;a<s.length;a+=1){var l=s[a];null===r&&(l={keyCombo:new u(i.join("+")),pressHandler:l.pressHandler,releaseHandler:l.releaseHandler,preventRepeat:l.preventRepeat,preventRepeatByDefault:l.preventRepeatByDefault}),l.pressHandler&&!l.preventRepeat&&(l.pressHandler.call(this,t),e&&(l.preventRepeat=e,e=!1)),l.releaseHandler&&-1===this._appliedListeners.indexOf(l)&&this._appliedListeners.push(l)}if(r)for(a=0;a<r.keyNames.length;a+=1){var h=i.indexOf(r.keyNames[a]);-1!==h&&(i.splice(h,1),a-=1)}}}},t.prototype._clearBindings=function(t){t||(t={});for(var e=0;e<this._appliedListeners.length;e+=1){var i=this._appliedListeners[e],n=i.keyCombo;if(null===n||!n.check(this._locale.pressedKeys)){if(this._callerHandler!==i.releaseHandler){var o=this._callerHandler;this._callerHandler=i.releaseHandler,i.preventRepeat=i.preventRepeatByDefault,i.releaseHandler.call(this,t),this._callerHandler=o}this._appliedListeners.splice(e,1),e-=1}}},t.prototype._handleCommandBug=function(t,e){e.match("Mac")&&this._locale.pressedKeys.includes("command")&&!["shift","ctrl","alt","capslock","tab","command"].includes(this._locale.getKeyNames(t.keyCode)[0])&&this._targetKeyUpBinding(t)},i.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./key-combo":4,"./locale":6}],6:[function(t,e,i){var o=t("./key-combo");function n(t){this.localeName=t,this.pressedKeys=[],this._appliedMacros=[],this._keyMap={},this._killKeyCodes=[],this._macros=[]}n.prototype.bindKeyCode=function(t,e){"string"==typeof e&&(e=[e]),this._keyMap[t]=e},n.prototype.bindMacro=function(t,e){"string"==typeof e&&(e=[e]);var i=null;"function"==typeof e&&(i=e,e=null);var n={keyCombo:new o(t),keyNames:e,handler:i};this._macros.push(n)},n.prototype.getKeyCodes=function(t){var e=[];for(var i in this._keyMap){-1<this._keyMap[i].indexOf(t)&&e.push(0|i)}return e},n.prototype.getKeyNames=function(t){return this._keyMap[t]||[]},n.prototype.setKillKey=function(t){if("string"!=typeof t)this._killKeyCodes.push(t);else for(var e=this.getKeyCodes(t),i=0;i<e.length;i+=1)this.setKillKey(e[i])},n.prototype.pressKey=function(t){if("string"!=typeof t){var e=this.getKeyNames(t);for(n=0;n<e.length;n+=1)-1===this.pressedKeys.indexOf(e[n])&&this.pressedKeys.push(e[n]);this._applyMacros()}else for(var i=this.getKeyCodes(t),n=0;n<i.length;n+=1)this.pressKey(i[n])},n.prototype.releaseKey=function(t){if("string"==typeof t)for(var e=this.getKeyCodes(t),i=0;i<e.length;i+=1)this.releaseKey(e[i]);else{var n=this.getKeyNames(t);if(-1<this._killKeyCodes.indexOf(t))this.pressedKeys.length=0;else for(i=0;i<n.length;i+=1){var o=this.pressedKeys.indexOf(n[i]);-1<o&&this.pressedKeys.splice(o,1)}this._clearMacros()}},n.prototype._applyMacros=function(){for(var t=this._macros.slice(0),e=0;e<t.length;e+=1){var i=t[e];if(i.keyCombo.check(this.pressedKeys)){i.handler&&(i.keyNames=i.handler(this.pressedKeys));for(var n=0;n<i.keyNames.length;n+=1)-1===this.pressedKeys.indexOf(i.keyNames[n])&&this.pressedKeys.push(i.keyNames[n]);this._appliedMacros.push(i)}}},n.prototype._clearMacros=function(){for(var t=0;t<this._appliedMacros.length;t+=1){var e=this._appliedMacros[t];if(!e.keyCombo.check(this.pressedKeys)){for(var i=0;i<e.keyNames.length;i+=1){var n=this.pressedKeys.indexOf(e.keyNames[i]);-1<n&&this.pressedKeys.splice(n,1)}e.handler&&(e.keyNames=null),this._appliedMacros.splice(t,1),t-=1}}},e.exports=n},{"./key-combo":4}],7:[function(t,e,i){e.exports=function(t,e,i){t.bindKeyCode(3,["cancel"]),t.bindKeyCode(8,["backspace"]),t.bindKeyCode(9,["tab"]),t.bindKeyCode(12,["clear"]),t.bindKeyCode(13,["enter"]),t.bindKeyCode(16,["shift"]),t.bindKeyCode(17,["ctrl"]),t.bindKeyCode(18,["alt","menu"]),t.bindKeyCode(19,["pause","break"]),t.bindKeyCode(20,["capslock"]),t.bindKeyCode(27,["escape","esc"]),t.bindKeyCode(32,["space","spacebar"]),t.bindKeyCode(33,["pageup"]),t.bindKeyCode(34,["pagedown"]),t.bindKeyCode(35,["end"]),t.bindKeyCode(36,["home"]),t.bindKeyCode(37,["left"]),t.bindKeyCode(38,["up"]),t.bindKeyCode(39,["right"]),t.bindKeyCode(40,["down"]),t.bindKeyCode(41,["select"]),t.bindKeyCode(42,["printscreen"]),t.bindKeyCode(43,["execute"]),t.bindKeyCode(44,["snapshot"]),t.bindKeyCode(45,["insert","ins"]),t.bindKeyCode(46,["delete","del"]),t.bindKeyCode(47,["help"]),t.bindKeyCode(145,["scrolllock","scroll"]),t.bindKeyCode(187,["equal","equalsign","="]),t.bindKeyCode(188,["comma",","]),t.bindKeyCode(190,["period","."]),t.bindKeyCode(191,["slash","forwardslash","/"]),t.bindKeyCode(192,["graveaccent","`"]),t.bindKeyCode(219,["openbracket","["]),t.bindKeyCode(220,["backslash","\\"]),t.bindKeyCode(221,["closebracket","]"]),t.bindKeyCode(222,["apostrophe","'"]),t.bindKeyCode(48,["zero","0"]),t.bindKeyCode(49,["one","1"]),t.bindKeyCode(50,["two","2"]),t.bindKeyCode(51,["three","3"]),t.bindKeyCode(52,["four","4"]),t.bindKeyCode(53,["five","5"]),t.bindKeyCode(54,["six","6"]),t.bindKeyCode(55,["seven","7"]),t.bindKeyCode(56,["eight","8"]),t.bindKeyCode(57,["nine","9"]),t.bindKeyCode(96,["numzero","num0"]),t.bindKeyCode(97,["numone","num1"]),t.bindKeyCode(98,["numtwo","num2"]),t.bindKeyCode(99,["numthree","num3"]),t.bindKeyCode(100,["numfour","num4"]),t.bindKeyCode(101,["numfive","num5"]),t.bindKeyCode(102,["numsix","num6"]),t.bindKeyCode(103,["numseven","num7"]),t.bindKeyCode(104,["numeight","num8"]),t.bindKeyCode(105,["numnine","num9"]),t.bindKeyCode(106,["nummultiply","num*"]),t.bindKeyCode(107,["numadd","num+"]),t.bindKeyCode(108,["numenter"]),t.bindKeyCode(109,["numsubtract","num-"]),t.bindKeyCode(110,["numdecimal","num."]),t.bindKeyCode(111,["numdivide","num/"]),t.bindKeyCode(144,["numlock","num"]),t.bindKeyCode(112,["f1"]),t.bindKeyCode(113,["f2"]),t.bindKeyCode(114,["f3"]),t.bindKeyCode(115,["f4"]),t.bindKeyCode(116,["f5"]),t.bindKeyCode(117,["f6"]),t.bindKeyCode(118,["f7"]),t.bindKeyCode(119,["f8"]),t.bindKeyCode(120,["f9"]),t.bindKeyCode(121,["f10"]),t.bindKeyCode(122,["f11"]),t.bindKeyCode(123,["f12"]),t.bindMacro("shift + `",["tilde","~"]),t.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),t.bindMacro("shift + 2",["at","@"]),t.bindMacro("shift + 3",["number","#"]),t.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),t.bindMacro("shift + 5",["percent","%"]),t.bindMacro("shift + 6",["caret","^"]),t.bindMacro("shift + 7",["ampersand","and","&"]),t.bindMacro("shift + 8",["asterisk","*"]),t.bindMacro("shift + 9",["openparen","("]),t.bindMacro("shift + 0",["closeparen",")"]),t.bindMacro("shift + -",["underscore","_"]),t.bindMacro("shift + =",["plus","+"]),t.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),t.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),t.bindMacro("shift + \\",["verticalbar","|"]),t.bindMacro("shift + ;",["colon",":"]),t.bindMacro("shift + '",["quotationmark","'"]),t.bindMacro("shift + !,",["openanglebracket","<"]),t.bindMacro("shift + .",["closeanglebracket",">"]),t.bindMacro("shift + /",["questionmark","?"]),e.match("Mac")?t.bindMacro("command",["mod","modifier"]):t.bindMacro("ctrl",["mod","modifier"]);for(var n=65;n<=90;n+=1){var o=String.fromCharCode(n+32),s=String.fromCharCode(n);t.bindKeyCode(n,o),t.bindMacro("shift + "+o,s),t.bindMacro("capslock + "+o,s)}var r,a,l=i.match("Firefox")?59:186,h=i.match("Firefox")?173:189;e.match("Mac")&&(i.match("Safari")||i.match("Chrome"))?(r=91,a=93):e.match("Mac")&&i.match("Opera")?a=r=17:e.match("Mac")&&i.match("Firefox")&&(a=r=224),t.bindKeyCode(l,["semicolon",";"]),t.bindKeyCode(h,["dash","-"]),t.bindKeyCode(r,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),t.bindKeyCode(a,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),t.setKillKey("command")}},{}],8:[function(t,R,F){(function(O){(function(){var er,ir=200,nr="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",or="Expected a function",sr="__lodash_hash_undefined__",rr=500,ar="__lodash_placeholder__",lr=1,hr=2,ur=4,cr=1,dr=2,_r=1,fr=2,pr=4,mr=8,gr=16,vr=32,br=64,yr=128,wr=256,xr=512,Cr=30,kr="...",Er=800,jr=16,Nr=1,Ir=2,Sr=1/0,Hr=9007199254740991,Mr=1.7976931348623157e308,$r=NaN,Pr=4294967295,Br=Pr-1,Wr=Pr>>>1,Tr=[["ary",yr],["bind",_r],["bindKey",fr],["curry",mr],["curryRight",gr],["flip",xr],["partial",vr],["partialRight",br],["rearg",wr]],Lr="[object Arguments]",Ar="[object Array]",Dr="[object AsyncFunction]",zr="[object Boolean]",Or="[object Date]",Rr="[object DOMException]",Fr="[object Error]",Vr="[object Function]",Kr="[object GeneratorFunction]",Ur="[object Map]",Yr="[object Number]",Xr="[object Null]",qr="[object Object]",Gr="[object Promise]",Zr="[object Proxy]",Jr="[object RegExp]",Qr="[object Set]",ta="[object String]",ea="[object Symbol]",ia="[object Undefined]",na="[object WeakMap]",oa="[object WeakSet]",sa="[object ArrayBuffer]",ra="[object DataView]",aa="[object Float32Array]",la="[object Float64Array]",ha="[object Int8Array]",ua="[object Int16Array]",ca="[object Int32Array]",da="[object Uint8Array]",_a="[object Uint8ClampedArray]",fa="[object Uint16Array]",pa="[object Uint32Array]",ma=/\b__p \+= '';/g,ga=/\b(__p \+=) '' \+/g,va=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ba=/&(?:amp|lt|gt|quot|#39);/g,ya=/[&<>"']/g,wa=RegExp(ba.source),xa=RegExp(ya.source),Ca=/<%-([\s\S]+?)%>/g,ka=/<%([\s\S]+?)%>/g,Ea=/<%=([\s\S]+?)%>/g,ja=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Na=/^\w*$/,Ia=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Sa=/[\\^$.*+?()[\]{}|]/g,Ha=RegExp(Sa.source),Ma=/^\s+|\s+$/g,$a=/^\s+/,Pa=/\s+$/,Ba=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wa=/\{\n\/\* \[wrapped with (.+)\] \*/,Ta=/,? & /,La=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Aa=/\\(\\)?/g,Da=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,za=/\w*$/,Oa=/^[-+]0x[0-9a-f]+$/i,Ra=/^0b[01]+$/i,Fa=/^\[object .+?Constructor\]$/,Va=/^0o[0-7]+$/i,Ka=/^(?:0|[1-9]\d*)$/,Ua=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ya=/($^)/,Xa=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",i="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",s="\\ufe0e\\ufe0f",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="['’]",l="["+t+"]",h="["+r+"]",u="["+e+"]",c="\\d+",d="["+i+"]",_="["+n+"]",f="[^"+t+r+c+i+n+o+"]",p="\\ud83c[\\udffb-\\udfff]",m="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",b="["+o+"]",y="\\u200d",w="(?:"+_+"|"+f+")",x="(?:"+b+"|"+f+")",C="(?:['’](?:d|ll|m|re|s|t|ve))?",k="(?:['’](?:D|LL|M|RE|S|T|VE))?",E="(?:"+u+"|"+p+")"+"?",j="["+s+"]?",N=j+E+("(?:"+y+"(?:"+[m,g,v].join("|")+")"+j+E+")*"),I="(?:"+[d,g,v].join("|")+")"+N,S="(?:"+[m+u+"?",u,g,v,l].join("|")+")",qa=RegExp(a,"g"),Ga=RegExp(u,"g"),H=RegExp(p+"(?="+p+")|"+S+N,"g"),Za=RegExp([b+"?"+_+"+"+C+"(?="+[h,b,"$"].join("|")+")",x+"+"+k+"(?="+[h,b+w,"$"].join("|")+")",b+"?"+w+"+"+C,b+"+"+k,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,I].join("|"),"g"),M=RegExp("["+y+t+e+s+"]"),Ja=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qa=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],tl=-1,el={};el[aa]=el[la]=el[ha]=el[ua]=el[ca]=el[da]=el[_a]=el[fa]=el[pa]=!0,el[Lr]=el[Ar]=el[sa]=el[zr]=el[ra]=el[Or]=el[Fr]=el[Vr]=el[Ur]=el[Yr]=el[qr]=el[Jr]=el[Qr]=el[ta]=el[na]=!1;var il={};il[Lr]=il[Ar]=il[sa]=il[ra]=il[zr]=il[Or]=il[aa]=il[la]=il[ha]=il[ua]=il[ca]=il[Ur]=il[Yr]=il[qr]=il[Jr]=il[Qr]=il[ta]=il[ea]=il[da]=il[_a]=il[fa]=il[pa]=!0,il[Fr]=il[Vr]=il[na]=!1;var $={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nl=parseFloat,ol=parseInt,P="object"==typeof O&&O&&O.Object===Object&&O,B="object"==typeof self&&self&&self.Object===Object&&self,sl=P||B||Function("return this")(),W="object"==typeof F&&F&&!F.nodeType&&F,T=W&&"object"==typeof R&&R&&!R.nodeType&&R,rl=T&&T.exports===W,L=rl&&P.process,A=function(){try{return L&&L.binding&&L.binding("util")}catch(t){}}(),al=A&&A.isArrayBuffer,ll=A&&A.isDate,hl=A&&A.isMap,ul=A&&A.isRegExp,cl=A&&A.isSet,dl=A&&A.isTypedArray;function _l(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function fl(t,e,i,n){for(var o=-1,s=null==t?0:t.length;++o<s;){var r=t[o];e(n,r,i(r),t)}return n}function pl(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function ml(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function gl(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function vl(t,e){for(var i=-1,n=null==t?0:t.length,o=0,s=[];++i<n;){var r=t[i];e(r,i,t)&&(s[o++]=r)}return s}function bl(t,e){return!!(null==t?0:t.length)&&-1<Il(t,e,0)}function yl(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function wl(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function xl(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function Cl(t,e,i,n){var o=-1,s=null==t?0:t.length;for(n&&s&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);return i}function kl(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}function El(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var D=$l("length");function jl(t,n,e){var o;return e(t,function(t,e,i){if(n(t,e,i))return o=e,!1}),o}function Nl(t,e,i,n){for(var o=t.length,s=i+(n?1:-1);n?s--:++s<o;)if(e(t[s],s,t))return s;return-1}function Il(t,e,i){return e==e?function(t,e,i){var n=i-1,o=t.length;for(;++n<o;)if(t[n]===e)return n;return-1}(t,e,i):Nl(t,Hl,i)}function Sl(t,e,i,n){for(var o=i-1,s=t.length;++o<s;)if(n(t[o],e))return o;return-1}function Hl(t){return t!=t}function Ml(t,e){var i=null==t?0:t.length;return i?Bl(t,e)/i:$r}function $l(e){return function(t){return null==t?er:t[e]}}function z(e){return function(t){return null==e?er:e[t]}}function Pl(t,n,o,s,e){return e(t,function(t,e,i){o=s?(s=!1,t):n(o,t,e,i)}),o}function Bl(t,e){for(var i,n=-1,o=t.length;++n<o;){var s=e(t[n]);s!==er&&(i=i===er?s:i+s)}return i}function Wl(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function Tl(e){return function(t){return e(t)}}function Ll(e,t){return wl(t,function(t){return e[t]})}function Al(t,e){return t.has(e)}function Dl(t,e){for(var i=-1,n=t.length;++i<n&&-1<Il(e,t[i],0););return i}function zl(t,e){for(var i=t.length;i--&&-1<Il(e,t[i],0););return i}var Ol=z({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Rl=z({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Fl(t){return"\\"+$[t]}function Vl(t){return M.test(t)}function Kl(t){var i=-1,n=Array(t.size);return t.forEach(function(t,e){n[++i]=[e,t]}),n}function Ul(e,i){return function(t){return e(i(t))}}function Yl(t,e){for(var i=-1,n=t.length,o=0,s=[];++i<n;){var r=t[i];r!==e&&r!==ar||(t[i]=ar,s[o++]=i)}return s}function Xl(t,e){return"__proto__"==e?er:t[e]}function ql(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function Gl(t){return Vl(t)?function(t){var e=H.lastIndex=0;for(;H.test(t);)++e;return e}(t):D(t)}function Zl(t){return Vl(t)?t.match(H)||[]:t.split("")}var Jl=z({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ql=function t(e){var i,I=(e=null==e?sl:Ql.defaults(sl.Object(),e,Ql.pick(sl,Qa))).Array,n=e.Date,o=e.Error,m=e.Function,s=e.Math,k=e.Object,g=e.RegExp,u=e.String,S=e.TypeError,r=I.prototype,a=m.prototype,c=k.prototype,l=e["__core-js_shared__"],h=a.toString,E=c.hasOwnProperty,d=0,_=(i=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",f=c.toString,p=h.call(k),v=sl._,b=g("^"+h.call(E).replace(Sa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=rl?e.Buffer:er,w=e.Symbol,x=e.Uint8Array,C=y?y.allocUnsafe:er,j=Ul(k.getPrototypeOf,k),N=k.create,H=c.propertyIsEnumerable,M=r.splice,$=w?w.isConcatSpreadable:er,P=w?w.iterator:er,B=w?w.toStringTag:er,W=function(){try{var t=Di(k,"defineProperty");return t({},"",{}),t}catch(t){}}(),T=e.clearTimeout!==sl.clearTimeout&&e.clearTimeout,L=n&&n.now!==sl.Date.now&&n.now,A=e.setTimeout!==sl.setTimeout&&e.setTimeout,D=s.ceil,z=s.floor,O=k.getOwnPropertySymbols,R=y?y.isBuffer:er,F=e.isFinite,V=r.join,K=Ul(k.keys,k),U=s.max,Y=s.min,X=n.now,q=e.parseInt,G=s.random,Z=r.reverse,J=Di(e,"DataView"),Q=Di(e,"Map"),tt=Di(e,"Promise"),et=Di(e,"Set"),it=Di(e,"WeakMap"),nt=Di(k,"create"),ot=it&&new it,st={},rt=_n(J),at=_n(Q),lt=_n(tt),ht=_n(et),ut=_n(it),ct=w?w.prototype:er,dt=ct?ct.valueOf:er,_t=ct?ct.toString:er;function ft(t){if(Mo(t)&&!yo(t)&&!(t instanceof vt)){if(t instanceof gt)return t;if(E.call(t,"__wrapped__"))return fn(t)}return new gt(t)}var pt=function(){function i(){}return function(t){if(!Ho(t))return{};if(N)return N(t);i.prototype=t;var e=new i;return i.prototype=er,e}}();function mt(){}function gt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=er}function vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Pr,this.__views__=[]}function bt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function yt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new wt;++e<i;)this.add(t[e])}function Ct(t){var e=this.__data__=new yt(t);this.size=e.size}function kt(t,e){var i=yo(t),n=!i&&bo(t),o=!i&&!n&&ko(t),s=!i&&!n&&!o&&Do(t),r=i||n||o||s,a=r?Wl(t.length,u):[],l=a.length;for(var h in t)!e&&!E.call(t,h)||r&&("length"==h||o&&("offset"==h||"parent"==h)||s&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Ui(h,l))||a.push(h);return a}function Et(t){var e=t.length;return e?t[xe(0,e-1)]:er}function jt(t,e){return ln(ni(t),Wt(e,0,t.length))}function Nt(t){return ln(ni(t))}function It(t,e,i){(i===er||mo(t[e],i))&&(i!==er||e in t)||Pt(t,e,i)}function St(t,e,i){var n=t[e];E.call(t,e)&&mo(n,i)&&(i!==er||e in t)||Pt(t,e,i)}function Ht(t,e){for(var i=t.length;i--;)if(mo(t[i][0],e))return i;return-1}function Mt(t,n,o,s){return zt(t,function(t,e,i){n(s,t,o(t),i)}),s}function $t(t,e){return t&&oi(e,as(e),t)}function Pt(t,e,i){"__proto__"==e&&W?W(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Bt(t,e){for(var i=-1,n=e.length,o=I(n),s=null==t;++i<n;)o[i]=s?er:is(t,e[i]);return o}function Wt(t,e,i){return t==t&&(i!==er&&(t=t<=i?t:i),e!==er&&(t=e<=t?t:e)),t}function Tt(i,n,o,t,e,s){var r,a=n&lr,l=n&hr,h=n&ur;if(o&&(r=e?o(i,t,e,s):o(i)),r!==er)return r;if(!Ho(i))return i;var u,c,d,_,f,p,m,g,v,b=yo(i);if(b){if(g=(m=i).length,v=new m.constructor(g),g&&"string"==typeof m[0]&&E.call(m,"index")&&(v.index=m.index,v.input=m.input),r=v,!a)return ni(i,r)}else{var y=Ri(i),w=y==Vr||y==Kr;if(ko(i))return Ze(i,a);if(y==qr||y==Lr||w&&!e){if(r=l||w?{}:Vi(i),!a)return l?(p=d=i,_=(f=r)&&oi(p,ls(p),f),oi(d,Oi(d),_)):(c=$t(r,u=i),oi(u,zi(u),c))}else{if(!il[y])return e?i:{};r=function(t,e,i){var n,o,s,r,a,l=t.constructor;switch(e){case sa:return Je(t);case zr:case Or:return new l(+t);case ra:return r=t,a=i?Je(r.buffer):r.buffer,new r.constructor(a,r.byteOffset,r.byteLength);case aa:case la:case ha:case ua:case ca:case da:case _a:case fa:case pa:return Qe(t,i);case Ur:return new l;case Yr:case ta:return new l(t);case Jr:return(s=new(o=t).constructor(o.source,za.exec(o))).lastIndex=o.lastIndex,s;case Qr:return new l;case ea:return n=t,dt?k(dt.call(n)):{}}}(i,y,a)}}s||(s=new Ct);var x=s.get(i);if(x)return x;if(s.set(i,r),To(i))return i.forEach(function(t){r.add(Tt(t,n,o,t,i,s))}),r;if($o(i))return i.forEach(function(t,e){r.set(e,Tt(t,n,o,e,i,s))}),r;var C=b?er:(h?l?$i:Mi:l?ls:as)(i);return pl(C||i,function(t,e){C&&(t=i[e=t]),St(r,e,Tt(t,n,o,e,i,s))}),r}function Lt(t,e,i){var n=i.length;if(null==t)return!n;for(t=k(t);n--;){var o=i[n],s=e[o],r=t[o];if(r===er&&!(o in t)||!s(r))return!1}return!0}function At(t,e,i){if("function"!=typeof t)throw new S(or);return on(function(){t.apply(er,i)},e)}function Dt(t,e,i,n){var o=-1,s=bl,r=!0,a=t.length,l=[],h=e.length;if(!a)return l;i&&(e=wl(e,Tl(i))),n?(s=yl,r=!1):e.length>=ir&&(s=Al,r=!1,e=new xt(e));t:for(;++o<a;){var u=t[o],c=null==i?u:i(u);if(u=n||0!==u?u:0,r&&c==c){for(var d=h;d--;)if(e[d]===c)continue t;l.push(u)}else s(e,c,n)||l.push(u)}return l}ft.templateSettings={escape:Ca,evaluate:ka,interpolate:Ea,variable:"",imports:{_:ft}},(ft.prototype=mt.prototype).constructor=ft,(gt.prototype=pt(mt.prototype)).constructor=gt,(vt.prototype=pt(mt.prototype)).constructor=vt,bt.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},bt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},bt.prototype.get=function(t){var e=this.__data__;if(nt){var i=e[t];return i===sr?er:i}return E.call(e,t)?e[t]:er},bt.prototype.has=function(t){var e=this.__data__;return nt?e[t]!==er:E.call(e,t)},bt.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=nt&&e===er?sr:e,this},yt.prototype.clear=function(){this.__data__=[],this.size=0},yt.prototype.delete=function(t){var e=this.__data__,i=Ht(e,t);return!(i<0||(i==e.length-1?e.pop():M.call(e,i,1),--this.size,0))},yt.prototype.get=function(t){var e=this.__data__,i=Ht(e,t);return i<0?er:e[i][1]},yt.prototype.has=function(t){return-1<Ht(this.__data__,t)},yt.prototype.set=function(t,e){var i=this.__data__,n=Ht(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},wt.prototype.clear=function(){this.size=0,this.__data__={hash:new bt,map:new(Q||yt),string:new bt}},wt.prototype.delete=function(t){var e=Li(this,t).delete(t);return this.size-=e?1:0,e},wt.prototype.get=function(t){return Li(this,t).get(t)},wt.prototype.has=function(t){return Li(this,t).has(t)},wt.prototype.set=function(t,e){var i=Li(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,sr),this},xt.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.clear=function(){this.__data__=new yt,this.size=0},Ct.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var i=this.__data__;if(i instanceof yt){var n=i.__data__;if(!Q||n.length<ir-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new wt(n)}return i.set(t,e),this.size=i.size,this};var zt=ai(Xt),Ot=ai(qt,!0);function Rt(t,n){var o=!0;return zt(t,function(t,e,i){return o=!!n(t,e,i)}),o}function Ft(t,e,i){for(var n=-1,o=t.length;++n<o;){var s=t[n],r=e(s);if(null!=r&&(a===er?r==r&&!Ao(r):i(r,a)))var a=r,l=s}return l}function Vt(t,n){var o=[];return zt(t,function(t,e,i){n(t,e,i)&&o.push(t)}),o}function Kt(t,e,i,n,o){var s=-1,r=t.length;for(i||(i=Ki),o||(o=[]);++s<r;){var a=t[s];0<e&&i(a)?1<e?Kt(a,e-1,i,n,o):xl(o,a):n||(o[o.length]=a)}return o}var Ut=li(),Yt=li(!0);function Xt(t,e){return t&&Ut(t,e,as)}function qt(t,e){return t&&Yt(t,e,as)}function Gt(e,t){return vl(t,function(t){return No(e[t])})}function Zt(t,e){for(var i=0,n=(e=Ye(e,t)).length;null!=t&&i<n;)t=t[dn(e[i++])];return i&&i==n?t:er}function Jt(t,e,i){var n=e(t);return yo(t)?n:xl(n,i(t))}function Qt(t){return null==t?t===er?ia:Xr:B&&B in k(t)?function(t){var e=E.call(t,B),i=t[B];try{t[B]=er;var n=!0}catch(t){}var o=f.call(t);return n&&(e?t[B]=i:delete t[B]),o}(t):(e=t,f.call(e));var e}function te(t,e){return e<t}function ee(t,e){return null!=t&&E.call(t,e)}function ie(t,e){return null!=t&&e in k(t)}function ne(t,e,i){for(var n=i?yl:bl,o=t[0].length,s=t.length,r=s,a=I(s),l=1/0,h=[];r--;){var u=t[r];r&&e&&(u=wl(u,Tl(e))),l=Y(u.length,l),a[r]=!i&&(e||120<=o&&120<=u.length)?new xt(r&&u):er}u=t[0];var c=-1,d=a[0];t:for(;++c<o&&h.length<l;){var _=u[c],f=e?e(_):_;if(_=i||0!==_?_:0,!(d?Al(d,f):n(h,f,i))){for(r=s;--r;){var p=a[r];if(!(p?Al(p,f):n(t[r],f,i)))continue t}d&&d.push(f),h.push(_)}}return h}function oe(t,e,i){var n=null==(t=en(t,e=Ye(e,t)))?t:t[dn(En(e))];return null==n?er:_l(n,t,i)}function se(t){return Mo(t)&&Qt(t)==Lr}function re(t,e,i,n,o){return t===e||(null==t||null==e||!Mo(t)&&!Mo(e)?t!=t&&e!=e:function(t,e,i,n,o,s){var r=yo(t),a=yo(e),l=r?Ar:Ri(t),h=a?Ar:Ri(e),u=(l=l==Lr?qr:l)==qr,c=(h=h==Lr?qr:h)==qr,d=l==h;if(d&&ko(t)){if(!ko(e))return!1;u=!(r=!0)}if(d&&!u)return s||(s=new Ct),r||Do(t)?Si(t,e,i,n,o,s):function(t,e,i,n,o,s,r){switch(i){case ra:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case sa:return!(t.byteLength!=e.byteLength||!s(new x(t),new x(e)));case zr:case Or:case Yr:return mo(+t,+e);case Fr:return t.name==e.name&&t.message==e.message;case Jr:case ta:return t==e+"";case Ur:var a=Kl;case Qr:var l=n&cr;if(a||(a=ql),t.size!=e.size&&!l)return!1;var h=r.get(t);if(h)return h==e;n|=dr,r.set(t,e);var u=Si(a(t),a(e),n,o,s,r);return r.delete(t),u;case ea:if(dt)return dt.call(t)==dt.call(e)}return!1}(t,e,l,i,n,o,s);if(!(i&cr)){var _=u&&E.call(t,"__wrapped__"),f=c&&E.call(e,"__wrapped__");if(_||f){var p=_?t.value():t,m=f?e.value():e;return s||(s=new Ct),o(p,m,i,n,s)}}return!!d&&(s||(s=new Ct),function(t,e,i,n,o,s){var r=i&cr,a=Mi(t),l=a.length,h=Mi(e).length;if(l!=h&&!r)return!1;for(var u=l;u--;){var c=a[u];if(!(r?c in e:E.call(e,c)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var _=!0;s.set(t,e),s.set(e,t);for(var f=r;++u<l;){c=a[u];var p=t[c],m=e[c];if(n)var g=r?n(m,p,c,e,t,s):n(p,m,c,t,e,s);if(!(g===er?p===m||o(p,m,i,n,s):g)){_=!1;break}f||(f="constructor"==c)}if(_&&!f){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b)&&(_=!1)}return s.delete(t),s.delete(e),_}(t,e,i,n,o,s))}(t,e,i,n,re,o))}function ae(t,e,i,n){var o=i.length,s=o,r=!n;if(null==t)return!s;for(t=k(t);o--;){var a=i[o];if(r&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<s;){var l=(a=i[o])[0],h=t[l],u=a[1];if(r&&a[2]){if(h===er&&!(l in t))return!1}else{var c=new Ct;if(n)var d=n(h,u,l,t,e,c);if(!(d===er?re(u,h,cr|dr,n,c):d))return!1}}return!0}function le(t){return!(!Ho(t)||(e=t,_&&_ in e))&&(No(t)?b:Fa).test(_n(t));var e}function he(t){return"function"==typeof t?t:null==t?Ps:"object"==typeof t?yo(t)?pe(t[0],t[1]):fe(t):Rs(t)}function ue(t){if(!Zi(t))return K(t);var e=[];for(var i in k(t))E.call(t,i)&&"constructor"!=i&&e.push(i);return e}function ce(t){if(!Ho(t))return function(t){var e=[];if(null!=t)for(var i in k(t))e.push(i);return e}(t);var e=Zi(t),i=[];for(var n in t)("constructor"!=n||!e&&E.call(t,n))&&i.push(n);return i}function de(t,e){return t<e}function _e(t,n){var o=-1,s=xo(t)?I(t.length):[];return zt(t,function(t,e,i){s[++o]=n(t,e,i)}),s}function fe(e){var i=Ai(e);return 1==i.length&&i[0][2]?Qi(i[0][0],i[0][1]):function(t){return t===e||ae(t,e,i)}}function pe(i,n){return Xi(i)&&Ji(n)?Qi(dn(i),n):function(t){var e=is(t,i);return e===er&&e===n?ns(t,i):re(n,e,cr|dr)}}function me(n,o,s,r,a){n!==o&&Ut(o,function(t,e){if(Ho(t))a||(a=new Ct),function(t,e,i,n,o,s,r){var a=Xl(t,i),l=Xl(e,i),h=r.get(l);if(h)return It(t,i,h);var u=s?s(a,l,i+"",t,e,r):er,c=u===er;if(c){var d=yo(l),_=!d&&ko(l),f=!d&&!_&&Do(l);u=l,d||_||f?u=yo(a)?a:Co(a)?ni(a):_?Ze(l,!(c=!1)):f?Qe(l,!(c=!1)):[]:Bo(l)||bo(l)?bo(u=a)?u=Yo(a):(!Ho(a)||n&&No(a))&&(u=Vi(l)):c=!1}c&&(r.set(l,u),o(u,l,n,s,r),r.delete(l)),It(t,i,u)}(n,o,e,s,me,r,a);else{var i=r?r(Xl(n,e),t,e+"",n,o,a):er;i===er&&(i=t),It(n,e,i)}},ls)}function ge(t,e){var i=t.length;if(i)return Ui(e+=e<0?i:0,i)?t[e]:er}function ve(t,n,i){var o=-1;return n=wl(n.length?n:[Ps],Tl(Ti())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(_e(t,function(e,t,i){return{criteria:wl(n,function(t){return t(e)}),index:++o,value:e}}),function(t,e){return function(t,e,i){for(var n=-1,o=t.criteria,s=e.criteria,r=o.length,a=i.length;++n<r;){var l=ti(o[n],s[n]);if(l){if(a<=n)return l;var h=i[n];return l*("desc"==h?-1:1)}}return t.index-e.index}(t,e,i)})}function be(t,e,i){for(var n=-1,o=e.length,s={};++n<o;){var r=e[n],a=Zt(t,r);i(a,r)&&Ne(s,Ye(r,t),a)}return s}function ye(t,e,i,n){var o=n?Sl:Il,s=-1,r=e.length,a=t;for(t===e&&(e=ni(e)),i&&(a=wl(t,Tl(i)));++s<r;)for(var l=0,h=e[s],u=i?i(h):h;-1<(l=o(a,u,l,n));)a!==t&&M.call(a,l,1),M.call(t,l,1);return t}function we(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==s){var s=o;Ui(o)?M.call(t,o,1):De(t,o)}}return t}function xe(t,e){return t+z(G()*(e-t+1))}function Ce(t,e){var i="";if(!t||e<1||Hr<e)return i;for(;e%2&&(i+=t),(e=z(e/2))&&(t+=t),e;);return i}function ke(t,e){return sn(tn(t,e,Ps),t+"")}function Ee(t){return Et(ms(t))}function je(t,e){var i=ms(t);return ln(i,Wt(e,0,i.length))}function Ne(t,e,i,n){if(!Ho(t))return t;for(var o=-1,s=(e=Ye(e,t)).length,r=s-1,a=t;null!=a&&++o<s;){var l=dn(e[o]),h=i;if(o!=r){var u=a[l];(h=n?n(u,l,a):er)===er&&(h=Ho(u)?u:Ui(e[o+1])?[]:{})}St(a,l,h),a=a[l]}return t}var Ie=ot?function(t,e){return ot.set(t,e),t}:Ps,Se=W?function(t,e){return W(t,"toString",{configurable:!0,enumerable:!1,value:Hs(e),writable:!0})}:Ps;function He(t){return ln(ms(t))}function Me(t,e,i){var n=-1,o=t.length;e<0&&(e=o<-e?0:o+e),(i=o<i?o:i)<0&&(i+=o),o=i<e?0:i-e>>>0,e>>>=0;for(var s=I(o);++n<o;)s[n]=t[n+e];return s}function $e(t,n){var o;return zt(t,function(t,e,i){return!(o=n(t,e,i))}),!!o}function Pe(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=Wr){for(;n<o;){var s=n+o>>>1,r=t[s];null!==r&&!Ao(r)&&(i?r<=e:r<e)?n=s+1:o=s}return o}return Be(t,e,Ps,i)}function Be(t,e,i,n){e=i(e);for(var o=0,s=null==t?0:t.length,r=e!=e,a=null===e,l=Ao(e),h=e===er;o<s;){var u=z((o+s)/2),c=i(t[u]),d=c!==er,_=null===c,f=c==c,p=Ao(c);if(r)var m=n||f;else m=h?f&&(n||d):a?f&&d&&(n||!_):l?f&&d&&!_&&(n||!p):!_&&!p&&(n?c<=e:c<e);m?o=u+1:s=u}return Y(s,Br)}function We(t,e){for(var i=-1,n=t.length,o=0,s=[];++i<n;){var r=t[i],a=e?e(r):r;if(!i||!mo(a,l)){var l=a;s[o++]=0===r?0:r}}return s}function Te(t){return"number"==typeof t?t:Ao(t)?$r:+t}function Le(t){if("string"==typeof t)return t;if(yo(t))return wl(t,Le)+"";if(Ao(t))return _t?_t.call(t):"";var e=t+"";return"0"==e&&1/t==-Sr?"-0":e}function Ae(t,e,i){var n=-1,o=bl,s=t.length,r=!0,a=[],l=a;if(i)r=!1,o=yl;else if(ir<=s){var h=e?null:Ci(t);if(h)return ql(h);r=!1,o=Al,l=new xt}else l=e?[]:a;t:for(;++n<s;){var u=t[n],c=e?e(u):u;if(u=i||0!==u?u:0,r&&c==c){for(var d=l.length;d--;)if(l[d]===c)continue t;e&&l.push(c),a.push(u)}else o(l,c,i)||(l!==a&&l.push(c),a.push(u))}return a}function De(t,e){return null==(t=en(t,e=Ye(e,t)))||delete t[dn(En(e))]}function ze(t,e,i,n){return Ne(t,e,i(Zt(t,e)),n)}function Oe(t,e,i,n){for(var o=t.length,s=n?o:-1;(n?s--:++s<o)&&e(t[s],s,t););return i?Me(t,n?0:s,n?s+1:o):Me(t,n?s+1:0,n?o:s)}function Re(t,e){var i=t;return i instanceof vt&&(i=i.value()),Cl(e,function(t,e){return e.func.apply(e.thisArg,xl([t],e.args))},i)}function Fe(t,e,i){var n=t.length;if(n<2)return n?Ae(t[0]):[];for(var o=-1,s=I(n);++o<n;)for(var r=t[o],a=-1;++a<n;)a!=o&&(s[o]=Dt(s[o]||r,t[a],e,i));return Ae(Kt(s,1),e,i)}function Ve(t,e,i){for(var n=-1,o=t.length,s=e.length,r={};++n<o;){var a=n<s?e[n]:er;i(r,t[n],a)}return r}function Ke(t){return Co(t)?t:[]}function Ue(t){return"function"==typeof t?t:Ps}function Ye(t,e){return yo(t)?t:Xi(t,e)?[t]:cn(Xo(t))}var Xe=ke;function qe(t,e,i){var n=t.length;return i=i===er?n:i,!e&&n<=i?t:Me(t,e,i)}var Ge=T||function(t){return sl.clearTimeout(t)};function Ze(t,e){if(e)return t.slice();var i=t.length,n=C?C(i):new t.constructor(i);return t.copy(n),n}function Je(t){var e=new t.constructor(t.byteLength);return new x(e).set(new x(t)),e}function Qe(t,e){var i=e?Je(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function ti(t,e){if(t!==e){var i=t!==er,n=null===t,o=t==t,s=Ao(t),r=e!==er,a=null===e,l=e==e,h=Ao(e);if(!a&&!h&&!s&&e<t||s&&r&&l&&!a&&!h||n&&r&&l||!i&&l||!o)return 1;if(!n&&!s&&!h&&t<e||h&&i&&o&&!n&&!s||a&&i&&o||!r&&o||!l)return-1}return 0}function ei(t,e,i,n){for(var o=-1,s=t.length,r=i.length,a=-1,l=e.length,h=U(s-r,0),u=I(l+h),c=!n;++a<l;)u[a]=e[a];for(;++o<r;)(c||o<s)&&(u[i[o]]=t[o]);for(;h--;)u[a++]=t[o++];return u}function ii(t,e,i,n){for(var o=-1,s=t.length,r=-1,a=i.length,l=-1,h=e.length,u=U(s-a,0),c=I(u+h),d=!n;++o<u;)c[o]=t[o];for(var _=o;++l<h;)c[_+l]=e[l];for(;++r<a;)(d||o<s)&&(c[_+i[r]]=t[o++]);return c}function ni(t,e){var i=-1,n=t.length;for(e||(e=I(n));++i<n;)e[i]=t[i];return e}function oi(t,e,i,n){var o=!i;i||(i={});for(var s=-1,r=e.length;++s<r;){var a=e[s],l=n?n(i[a],t[a],a,i,t):er;l===er&&(l=t[a]),o?Pt(i,a,l):St(i,a,l)}return i}function si(o,s){return function(t,e){var i=yo(t)?fl:Mt,n=s?s():{};return i(t,o,Ti(e,2),n)}}function ri(a){return ke(function(t,e){var i=-1,n=e.length,o=1<n?e[n-1]:er,s=2<n?e[2]:er;for(o=3<a.length&&"function"==typeof o?(n--,o):er,s&&Yi(e[0],e[1],s)&&(o=n<3?er:o,n=1),t=k(t);++i<n;){var r=e[i];r&&a(t,r,i,o)}return t})}function ai(s,r){return function(t,e){if(null==t)return t;if(!xo(t))return s(t,e);for(var i=t.length,n=r?i:-1,o=k(t);(r?n--:++n<i)&&!1!==e(o[n],n,o););return t}}function li(l){return function(t,e,i){for(var n=-1,o=k(t),s=i(t),r=s.length;r--;){var a=s[l?r:++n];if(!1===e(o[a],a,o))break}return t}}function hi(o){return function(t){var e=Vl(t=Xo(t))?Zl(t):er,i=e?e[0]:t.charAt(0),n=e?qe(e,1).join(""):t.slice(1);return i[o]()+n}}function ui(e){return function(t){return Cl(Ns(bs(t).replace(qa,"")),e,"")}}function ci(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=pt(n.prototype),i=n.apply(e,t);return Ho(i)?i:e}}function di(r){return function(t,e,i){var n=k(t);if(!xo(t)){var o=Ti(e,3);t=as(t),e=function(t){return o(n[t],t,n)}}var s=r(t,e,i);return-1<s?n[o?t[s]:s]:er}}function _i(l){return Hi(function(o){var s=o.length,t=s,e=gt.prototype.thru;for(l&&o.reverse();t--;){var i=o[t];if("function"!=typeof i)throw new S(or);if(e&&!r&&"wrapper"==Bi(i))var r=new gt([],!0)}for(t=r?t:s;++t<s;){var n=Bi(i=o[t]),a="wrapper"==n?Pi(i):er;r=a&&qi(a[0])&&a[1]==(yr|mr|vr|wr)&&!a[4].length&&1==a[9]?r[Bi(a[0])].apply(r,a[3]):1==i.length&&qi(i)?r[n]():r.thru(i)}return function(){var t=arguments,e=t[0];if(r&&1==t.length&&yo(e))return r.plant(e).value();for(var i=0,n=s?o[i].apply(this,t):e;++i<s;)n=o[i].call(this,n);return n}})}function fi(h,u,c,d,_,f,p,m,g,v){var b=u&yr,y=u&_r,w=u&fr,x=u&(mr|gr),C=u&xr,k=w?er:ci(h);return function t(){for(var e=arguments.length,i=I(e),n=e;n--;)i[n]=arguments[n];if(x)var o=Wi(t),s=function(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}(i,o);if(d&&(i=ei(i,d,_,x)),f&&(i=ii(i,f,p,x)),e-=s,x&&e<v){var r=Yl(i,o);return wi(h,u,fi,t.placeholder,c,i,r,m,g,v-e)}var a=y?c:this,l=w?a[h]:h;return e=i.length,m?i=function(t,e){for(var i=t.length,n=Y(e.length,i),o=ni(t);n--;){var s=e[n];t[n]=Ui(s,i)?o[s]:er}return t}(i,m):C&&1<e&&i.reverse(),b&&g<e&&(i.length=g),this&&this!==sl&&this instanceof t&&(l=k||ci(l)),l.apply(a,i)}}function pi(r,a){return function(t,e){return i=t,n=r,o=a(e),s={},Xt(i,function(t,e,i){n(s,o(t),e,i)}),s;var i,n,o,s}}function mi(n,o){return function(t,e){var i;if(t===er&&e===er)return o;if(t!==er&&(i=t),e!==er){if(i===er)return e;"string"==typeof t||"string"==typeof e?(t=Le(t),e=Le(e)):(t=Te(t),e=Te(e)),i=n(t,e)}return i}}function gi(n){return Hi(function(t){return t=wl(t,Tl(Ti())),ke(function(e){var i=this;return n(t,function(t){return _l(t,i,e)})})})}function vi(t,e){var i=(e=e===er?" ":Le(e)).length;if(i<2)return i?Ce(e,t):e;var n=Ce(e,D(t/Gl(e)));return Vl(e)?qe(Zl(n),0,t).join(""):n.slice(0,t)}function bi(n){return function(t,e,i){return i&&"number"!=typeof i&&Yi(t,e,i)&&(e=i=er),t=Fo(t),e===er?(e=t,t=0):e=Fo(e),function(t,e,i,n){for(var o=-1,s=U(D((e-t)/(i||1)),0),r=I(s);s--;)r[n?s:++o]=t,t+=i;return r}(t,e,i=i===er?t<e?1:-1:Fo(i),n)}}function yi(i){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Uo(t),e=Uo(e)),i(t,e)}}function wi(t,e,i,n,o,s,r,a,l,h){var u=e&mr;e|=u?vr:br,(e&=~(u?br:vr))&pr||(e&=~(_r|fr));var c=[t,e,o,u?s:er,u?r:er,u?er:s,u?er:r,a,l,h],d=i.apply(er,c);return qi(t)&&nn(d,c),d.placeholder=n,rn(d,t,e)}function xi(t){var n=s[t];return function(t,e){if(t=Uo(t),e=null==e?0:Y(Vo(e),292)){var i=(Xo(t)+"e").split("e");return+((i=(Xo(n(i[0]+"e"+(+i[1]+e)))+"e").split("e"))[0]+"e"+(+i[1]-e))}return n(t)}}var Ci=et&&1/ql(new et([,-0]))[1]==Sr?function(t){return new et(t)}:As;function ki(r){return function(t){var e,i,n,o,s=Ri(t);return s==Ur?Kl(t):s==Qr?(e=t,i=-1,n=Array(e.size),e.forEach(function(t){n[++i]=[t,t]}),n):wl(r(o=t),function(t){return[t,o[t]]})}}function Ei(t,e,i,n,o,s,r,a){var l=e&fr;if(!l&&"function"!=typeof t)throw new S(or);var h=n?n.length:0;if(h||(e&=~(vr|br),n=o=er),r=r===er?r:U(Vo(r),0),a=a===er?a:Vo(a),h-=o?o.length:0,e&br){var u=n,c=o;n=o=er}var d,_,f,p,m,g,v,b,y,w,x,C,k,E=l?er:Pi(t),j=[t,e,i,n,o,u,c,s,r,a];if(E&&function(t,e){var i=t[1],n=e[1],o=i|n,s=o<(_r|fr|yr),r=n==yr&&i==mr||n==yr&&i==wr&&t[7].length<=e[8]||n==(yr|wr)&&e[7].length<=e[8]&&i==mr;if(s||r){n&_r&&(t[2]=e[2],o|=i&_r?0:pr);var a=e[3];if(a){var l=t[3];t[3]=l?ei(l,a,e[4]):a,t[4]=l?Yl(t[3],ar):e[4]}(a=e[5])&&(l=t[5],t[5]=l?ii(l,a,e[6]):a,t[6]=l?Yl(t[5],ar):e[6]),(a=e[7])&&(t[7]=a),n&yr&&(t[8]=null==t[8]?e[8]:Y(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}}(j,E),t=j[0],e=j[1],i=j[2],n=j[3],o=j[4],!(a=j[9]=j[9]===er?l?0:t.length:U(j[9]-h,0))&&e&(mr|gr)&&(e&=~(mr|gr)),e&&e!=_r)e==mr||e==gr?(v=e,b=a,y=ci(g=t),N=function t(){for(var e=arguments.length,i=I(e),n=e,o=Wi(t);n--;)i[n]=arguments[n];var s=e<3&&i[0]!==o&&i[e-1]!==o?[]:Yl(i,o);return(e-=s.length)<b?wi(g,v,fi,t.placeholder,er,i,s,er,er,b-e):_l(this&&this!==sl&&this instanceof t?y:g,this,i)}):e!=vr&&e!=(_r|vr)||o.length?N=fi.apply(er,j):(_=i,f=n,p=e&_r,m=ci(d=t),N=function t(){for(var e=-1,i=arguments.length,n=-1,o=f.length,s=I(o+i),r=this&&this!==sl&&this instanceof t?m:d;++n<o;)s[n]=f[n];for(;i--;)s[n++]=arguments[++e];return _l(r,p?_:this,s)});else var N=(x=i,C=e&_r,k=ci(w=t),function t(){return(this&&this!==sl&&this instanceof t?k:w).apply(C?x:this,arguments)});return rn((E?Ie:nn)(N,j),t,e)}function ji(t,e,i,n){return t===er||mo(t,c[i])&&!E.call(n,i)?e:t}function Ni(t,e,i,n,o,s){return Ho(t)&&Ho(e)&&(s.set(e,t),me(t,e,er,Ni,s),s.delete(e)),t}function Ii(t){return Bo(t)?er:t}function Si(t,e,i,n,o,s){var r=i&cr,a=t.length,l=e.length;if(a!=l&&!(r&&a<l))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var u=-1,c=!0,d=i&dr?new xt:er;for(s.set(t,e),s.set(e,t);++u<a;){var _=t[u],f=e[u];if(n)var p=r?n(f,_,u,e,t,s):n(_,f,u,t,e,s);if(p!==er){if(p)continue;c=!1;break}if(d){if(!El(e,function(t,e){if(!Al(d,e)&&(_===t||o(_,t,i,n,s)))return d.push(e)})){c=!1;break}}else if(_!==f&&!o(_,f,i,n,s)){c=!1;break}}return s.delete(t),s.delete(e),c}function Hi(t){return sn(tn(t,er,yn),t+"")}function Mi(t){return Jt(t,as,zi)}function $i(t){return Jt(t,ls,Oi)}var Pi=ot?function(t){return ot.get(t)}:As;function Bi(t){for(var e=t.name+"",i=st[e],n=E.call(st,e)?i.length:0;n--;){var o=i[n],s=o.func;if(null==s||s==t)return o.name}return e}function Wi(t){return(E.call(ft,"placeholder")?ft:t).placeholder}function Ti(){var t=ft.iteratee||Bs;return t=t===Bs?he:t,arguments.length?t(arguments[0],arguments[1]):t}function Li(t,e){var i,n,o=t.__data__;return("string"==(n=typeof(i=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==i:null===i)?o["string"==typeof e?"string":"hash"]:o.map}function Ai(t){for(var e=as(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,Ji(o)]}return e}function Di(t,e){var i,n,o=(n=e,null==(i=t)?er:i[n]);return le(o)?o:er}var zi=O?function(e){return null==e?[]:(e=k(e),vl(O(e),function(t){return H.call(e,t)}))}:Ks,Oi=O?function(t){for(var e=[];t;)xl(e,zi(t)),t=j(t);return e}:Ks,Ri=Qt;function Fi(t,e,i){for(var n=-1,o=(e=Ye(e,t)).length,s=!1;++n<o;){var r=dn(e[n]);if(!(s=null!=t&&i(t,r)))break;t=t[r]}return s||++n!=o?s:!!(o=null==t?0:t.length)&&So(o)&&Ui(r,o)&&(yo(t)||bo(t))}function Vi(t){return"function"!=typeof t.constructor||Zi(t)?{}:pt(j(t))}function Ki(t){return yo(t)||bo(t)||!!($&&t&&t[$])}function Ui(t,e){var i=typeof t;return!!(e=null==e?Hr:e)&&("number"==i||"symbol"!=i&&Ka.test(t))&&-1<t&&t%1==0&&t<e}function Yi(t,e,i){if(!Ho(i))return!1;var n=typeof e;return!!("number"==n?xo(i)&&Ui(e,i.length):"string"==n&&e in i)&&mo(i[e],t)}function Xi(t,e){if(yo(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Ao(t))||Na.test(t)||!ja.test(t)||null!=e&&t in k(e)}function qi(t){var e=Bi(t),i=ft[e];if("function"!=typeof i||!(e in vt.prototype))return!1;if(t===i)return!0;var n=Pi(i);return!!n&&t===n[0]}(J&&Ri(new J(new ArrayBuffer(1)))!=ra||Q&&Ri(new Q)!=Ur||tt&&Ri(tt.resolve())!=Gr||et&&Ri(new et)!=Qr||it&&Ri(new it)!=na)&&(Ri=function(t){var e=Qt(t),i=e==qr?t.constructor:er,n=i?_n(i):"";if(n)switch(n){case rt:return ra;case at:return Ur;case lt:return Gr;case ht:return Qr;case ut:return na}return e});var Gi=l?No:Us;function Zi(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||c)}function Ji(t){return t==t&&!Ho(t)}function Qi(e,i){return function(t){return null!=t&&t[e]===i&&(i!==er||e in k(t))}}function tn(s,r,a){return r=U(r===er?s.length-1:r,0),function(){for(var t=arguments,e=-1,i=U(t.length-r,0),n=I(i);++e<i;)n[e]=t[r+e];e=-1;for(var o=I(r+1);++e<r;)o[e]=t[e];return o[r]=a(n),_l(s,this,o)}}function en(t,e){return e.length<2?t:Zt(t,Me(e,0,-1))}var nn=an(Ie),on=A||function(t,e){return sl.setTimeout(t,e)},sn=an(Se);function rn(t,e,i){var n,o,s,r=e+"";return sn(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(1<i?"& ":"")+e[n],e=e.join(2<i?", ":" "),t.replace(Ba,"{\n/* [wrapped with "+e+"] */\n")}(r,(s=r.match(Wa),n=s?s[1].split(Ta):[],o=i,pl(Tr,function(t){var e="_."+t[0];o&t[1]&&!bl(n,e)&&n.push(e)}),n.sort())))}function an(i){var n=0,o=0;return function(){var t=X(),e=jr-(t-o);if(o=t,0<e){if(++n>=Er)return arguments[0]}else n=0;return i.apply(er,arguments)}}function ln(t,e){var i=-1,n=t.length,o=n-1;for(e=e===er?n:e;++i<e;){var s=xe(i,o),r=t[s];t[s]=t[i],t[i]=r}return t.length=e,t}var hn,un,cn=(hn=ho(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(Ia,function(t,e,i,n){o.push(i?n.replace(Aa,"$1"):e||t)}),o},function(t){return un.size===rr&&un.clear(),t}),un=hn.cache,hn);function dn(t){if("string"==typeof t||Ao(t))return t;var e=t+"";return"0"==e&&1/t==-Sr?"-0":e}function _n(t){if(null!=t){try{return h.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function fn(t){if(t instanceof vt)return t.clone();var e=new gt(t.__wrapped__,t.__chain__);return e.__actions__=ni(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var pn=ke(function(t,e){return Co(t)?Dt(t,Kt(e,1,Co,!0)):[]}),mn=ke(function(t,e){var i=En(e);return Co(i)&&(i=er),Co(t)?Dt(t,Kt(e,1,Co,!0),Ti(i,2)):[]}),gn=ke(function(t,e){var i=En(e);return Co(i)&&(i=er),Co(t)?Dt(t,Kt(e,1,Co,!0),er,i):[]});function vn(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:Vo(i);return o<0&&(o=U(n+o,0)),Nl(t,Ti(e,3),o)}function bn(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return i!==er&&(o=Vo(i),o=i<0?U(n+o,0):Y(o,n-1)),Nl(t,Ti(e,3),o,!0)}function yn(t){return null!=t&&t.length?Kt(t,1):[]}function wn(t){return t&&t.length?t[0]:er}var xn=ke(function(t){var e=wl(t,Ke);return e.length&&e[0]===t[0]?ne(e):[]}),Cn=ke(function(t){var e=En(t),i=wl(t,Ke);return e===En(i)?e=er:i.pop(),i.length&&i[0]===t[0]?ne(i,Ti(e,2)):[]}),kn=ke(function(t){var e=En(t),i=wl(t,Ke);return(e="function"==typeof e?e:er)&&i.pop(),i.length&&i[0]===t[0]?ne(i,er,e):[]});function En(t){var e=null==t?0:t.length;return e?t[e-1]:er}var jn=ke(Nn);function Nn(t,e){return t&&t.length&&e&&e.length?ye(t,e):t}var In=Hi(function(t,e){var i=null==t?0:t.length,n=Bt(t,e);return we(t,wl(e,function(t){return Ui(t,i)?+t:t}).sort(ti)),n});function Sn(t){return null==t?t:Z.call(t)}var Hn=ke(function(t){return Ae(Kt(t,1,Co,!0))}),Mn=ke(function(t){var e=En(t);return Co(e)&&(e=er),Ae(Kt(t,1,Co,!0),Ti(e,2))}),$n=ke(function(t){var e=En(t);return e="function"==typeof e?e:er,Ae(Kt(t,1,Co,!0),er,e)});function Pn(e){if(!e||!e.length)return[];var i=0;return e=vl(e,function(t){if(Co(t))return i=U(t.length,i),!0}),Wl(i,function(t){return wl(e,$l(t))})}function Bn(t,e){if(!t||!t.length)return[];var i=Pn(t);return null==e?i:wl(i,function(t){return _l(e,er,t)})}var Wn=ke(function(t,e){return Co(t)?Dt(t,e):[]}),Tn=ke(function(t){return Fe(vl(t,Co))}),Ln=ke(function(t){var e=En(t);return Co(e)&&(e=er),Fe(vl(t,Co),Ti(e,2))}),An=ke(function(t){var e=En(t);return e="function"==typeof e?e:er,Fe(vl(t,Co),er,e)}),Dn=ke(Pn);var zn=ke(function(t){var e=t.length,i=1<e?t[e-1]:er;return Bn(t,i="function"==typeof i?(t.pop(),i):er)});function On(t){var e=ft(t);return e.__chain__=!0,e}function Rn(t,e){return e(t)}var Fn=Hi(function(e){var i=e.length,t=i?e[0]:0,n=this.__wrapped__,o=function(t){return Bt(t,e)};return!(1<i||this.__actions__.length)&&n instanceof vt&&Ui(t)?((n=n.slice(t,+t+(i?1:0))).__actions__.push({func:Rn,args:[o],thisArg:er}),new gt(n,this.__chain__).thru(function(t){return i&&!t.length&&t.push(er),t})):this.thru(o)});var Vn=si(function(t,e,i){E.call(t,i)?++t[i]:Pt(t,i,1)});var Kn=di(vn),Un=di(bn);function Yn(t,e){return(yo(t)?pl:zt)(t,Ti(e,3))}function Xn(t,e){return(yo(t)?ml:Ot)(t,Ti(e,3))}var qn=si(function(t,e,i){E.call(t,i)?t[i].push(e):Pt(t,i,[e])});var Gn=ke(function(t,e,i){var n=-1,o="function"==typeof e,s=xo(t)?I(t.length):[];return zt(t,function(t){s[++n]=o?_l(e,t,i):oe(t,e,i)}),s}),Zn=si(function(t,e,i){Pt(t,i,e)});function Jn(t,e){return(yo(t)?wl:_e)(t,Ti(e,3))}var Qn=si(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]});var to=ke(function(t,e){if(null==t)return[];var i=e.length;return 1<i&&Yi(t,e[0],e[1])?e=[]:2<i&&Yi(e[0],e[1],e[2])&&(e=[e[0]]),ve(t,Kt(e,1),[])}),eo=L||function(){return sl.Date.now()};function io(t,e,i){return e=i?er:e,e=t&&null==e?t.length:e,Ei(t,yr,er,er,er,er,e)}function no(t,e){var i;if("function"!=typeof e)throw new S(or);return t=Vo(t),function(){return 0<--t&&(i=e.apply(this,arguments)),t<=1&&(e=er),i}}var oo=ke(function(t,e,i){var n=_r;if(i.length){var o=Yl(i,Wi(oo));n|=vr}return Ei(t,n,e,i,o)}),so=ke(function(t,e,i){var n=_r|fr;if(i.length){var o=Yl(i,Wi(so));n|=vr}return Ei(e,n,t,i,o)});function ro(n,o,t){var s,r,a,l,h,u,c=0,d=!1,_=!1,e=!0;if("function"!=typeof n)throw new S(or);function f(t){var e=s,i=r;return s=r=er,c=t,l=n.apply(i,e)}function p(t){var e=t-u;return u===er||o<=e||e<0||_&&a<=t-c}function m(){var t,e,i=eo();if(p(i))return g(i);h=on(m,(e=o-((t=i)-u),_?Y(e,a-(t-c)):e))}function g(t){return h=er,e&&s?f(t):(s=r=er,l)}function i(){var t,e=eo(),i=p(e);if(s=arguments,r=this,u=e,i){if(h===er)return c=t=u,h=on(m,o),d?f(t):l;if(_)return h=on(m,o),f(u)}return h===er&&(h=on(m,o)),l}return o=Uo(o)||0,Ho(t)&&(d=!!t.leading,a=(_="maxWait"in t)?U(Uo(t.maxWait)||0,o):a,e="trailing"in t?!!t.trailing:e),i.cancel=function(){h!==er&&Ge(h),c=0,s=u=r=h=er},i.flush=function(){return h===er?l:g(eo())},i}var ao=ke(function(t,e){return At(t,1,e)}),lo=ke(function(t,e,i){return At(t,Uo(e)||0,i)});function ho(o,s){if("function"!=typeof o||null!=s&&"function"!=typeof s)throw new S(or);var r=function(){var t=arguments,e=s?s.apply(this,t):t[0],i=r.cache;if(i.has(e))return i.get(e);var n=o.apply(this,t);return r.cache=i.set(e,n)||i,n};return r.cache=new(ho.Cache||wt),r}function uo(e){if("function"!=typeof e)throw new S(or);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ho.Cache=wt;var co=Xe(function(n,o){var s=(o=1==o.length&&yo(o[0])?wl(o[0],Tl(Ti())):wl(Kt(o,1),Tl(Ti()))).length;return ke(function(t){for(var e=-1,i=Y(t.length,s);++e<i;)t[e]=o[e].call(this,t[e]);return _l(n,this,t)})}),_o=ke(function(t,e){var i=Yl(e,Wi(_o));return Ei(t,vr,er,e,i)}),fo=ke(function(t,e){var i=Yl(e,Wi(fo));return Ei(t,br,er,e,i)}),po=Hi(function(t,e){return Ei(t,wr,er,er,er,e)});function mo(t,e){return t===e||t!=t&&e!=e}var go=yi(te),vo=yi(function(t,e){return e<=t}),bo=se(function(){return arguments}())?se:function(t){return Mo(t)&&E.call(t,"callee")&&!H.call(t,"callee")},yo=I.isArray,wo=al?Tl(al):function(t){return Mo(t)&&Qt(t)==sa};function xo(t){return null!=t&&So(t.length)&&!No(t)}function Co(t){return Mo(t)&&xo(t)}var ko=R||Us,Eo=ll?Tl(ll):function(t){return Mo(t)&&Qt(t)==Or};function jo(t){if(!Mo(t))return!1;var e=Qt(t);return e==Fr||e==Rr||"string"==typeof t.message&&"string"==typeof t.name&&!Bo(t)}function No(t){if(!Ho(t))return!1;var e=Qt(t);return e==Vr||e==Kr||e==Dr||e==Zr}function Io(t){return"number"==typeof t&&t==Vo(t)}function So(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Hr}function Ho(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Mo(t){return null!=t&&"object"==typeof t}var $o=hl?Tl(hl):function(t){return Mo(t)&&Ri(t)==Ur};function Po(t){return"number"==typeof t||Mo(t)&&Qt(t)==Yr}function Bo(t){if(!Mo(t)||Qt(t)!=qr)return!1;var e=j(t);if(null===e)return!0;var i=E.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&h.call(i)==p}var Wo=ul?Tl(ul):function(t){return Mo(t)&&Qt(t)==Jr};var To=cl?Tl(cl):function(t){return Mo(t)&&Ri(t)==Qr};function Lo(t){return"string"==typeof t||!yo(t)&&Mo(t)&&Qt(t)==ta}function Ao(t){return"symbol"==typeof t||Mo(t)&&Qt(t)==ea}var Do=dl?Tl(dl):function(t){return Mo(t)&&So(t.length)&&!!el[Qt(t)]};var zo=yi(de),Oo=yi(function(t,e){return t<=e});function Ro(t){if(!t)return[];if(xo(t))return Lo(t)?Zl(t):ni(t);if(P&&t[P])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[P]());var e=Ri(t);return(e==Ur?Kl:e==Qr?ql:ms)(t)}function Fo(t){return t?(t=Uo(t))===Sr||t===-Sr?(t<0?-1:1)*Mr:t==t?t:0:0===t?t:0}function Vo(t){var e=Fo(t),i=e%1;return e==e?i?e-i:e:0}function Ko(t){return t?Wt(Vo(t),0,Pr):0}function Uo(t){if("number"==typeof t)return t;if(Ao(t))return $r;if(Ho(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ho(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ma,"");var i=Ra.test(t);return i||Va.test(t)?ol(t.slice(2),i?2:8):Oa.test(t)?$r:+t}function Yo(t){return oi(t,ls(t))}function Xo(t){return null==t?"":Le(t)}var qo=ri(function(t,e){if(Zi(e)||xo(e))oi(e,as(e),t);else for(var i in e)E.call(e,i)&&St(t,i,e[i])}),Go=ri(function(t,e){oi(e,ls(e),t)}),Zo=ri(function(t,e,i,n){oi(e,ls(e),t,n)}),Jo=ri(function(t,e,i,n){oi(e,as(e),t,n)}),Qo=Hi(Bt);var ts=ke(function(t,e){t=k(t);var i=-1,n=e.length,o=2<n?e[2]:er;for(o&&Yi(e[0],e[1],o)&&(n=1);++i<n;)for(var s=e[i],r=ls(s),a=-1,l=r.length;++a<l;){var h=r[a],u=t[h];(u===er||mo(u,c[h])&&!E.call(t,h))&&(t[h]=s[h])}return t}),es=ke(function(t){return t.push(er,Ni),_l(us,er,t)});function is(t,e,i){var n=null==t?er:Zt(t,e);return n===er?i:n}function ns(t,e){return null!=t&&Fi(t,e,ie)}var os=pi(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=f.call(e)),t[e]=i},Hs(Ps)),ss=pi(function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=f.call(e)),E.call(t,e)?t[e].push(i):t[e]=[i]},Ti),rs=ke(oe);function as(t){return xo(t)?kt(t):ue(t)}function ls(t){return xo(t)?kt(t,!0):ce(t)}var hs=ri(function(t,e,i){me(t,e,i)}),us=ri(function(t,e,i,n){me(t,e,i,n)}),cs=Hi(function(e,t){var i={};if(null==e)return i;var n=!1;t=wl(t,function(t){return t=Ye(t,e),n||(n=1<t.length),t}),oi(e,$i(e),i),n&&(i=Tt(i,lr|hr|ur,Ii));for(var o=t.length;o--;)De(i,t[o]);return i});var ds=Hi(function(t,e){return null==t?{}:be(i=t,e,function(t,e){return ns(i,e)});var i});function _s(t,i){if(null==t)return{};var e=wl($i(t),function(t){return[t]});return i=Ti(i),be(t,e,function(t,e){return i(t,e[0])})}var fs=ki(as),ps=ki(ls);function ms(t){return null==t?[]:Ll(t,as(t))}var gs=ui(function(t,e,i){return e=e.toLowerCase(),t+(i?vs(e):e)});function vs(t){return js(Xo(t).toLowerCase())}function bs(t){return(t=Xo(t))&&t.replace(Ua,Ol).replace(Ga,"")}var ys=ui(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),ws=ui(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),xs=hi("toLowerCase");var Cs=ui(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()});var ks=ui(function(t,e,i){return t+(i?" ":"")+js(e)});var Es=ui(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),js=hi("toUpperCase");function Ns(t,e,i){return t=Xo(t),(e=i?er:e)===er?(n=t,Ja.test(n)?t.match(Za)||[]:t.match(La)||[]):t.match(e)||[];var n}var Is=ke(function(t,e){try{return _l(t,er,e)}catch(t){return jo(t)?t:new o(t)}}),Ss=Hi(function(e,t){return pl(t,function(t){t=dn(t),Pt(e,t,oo(e[t],e))}),e});function Hs(t){return function(){return t}}var Ms=_i(),$s=_i(!0);function Ps(t){return t}function Bs(t){return he("function"==typeof t?t:Tt(t,lr))}var Ws=ke(function(e,i){return function(t){return oe(t,e,i)}}),Ts=ke(function(e,i){return function(t){return oe(e,t,i)}});function Ls(n,e,t){var i=as(e),o=Gt(e,i);null!=t||Ho(e)&&(o.length||!i.length)||(t=e,e=n,n=this,o=Gt(e,as(e)));var s=!(Ho(t)&&"chain"in t&&!t.chain),r=No(n);return pl(o,function(t){var i=e[t];n[t]=i,r&&(n.prototype[t]=function(){var t=this.__chain__;if(s||t){var e=n(this.__wrapped__);return(e.__actions__=ni(this.__actions__)).push({func:i,args:arguments,thisArg:n}),e.__chain__=t,e}return i.apply(n,xl([this.value()],arguments))})}),n}function As(){}var Ds=gi(wl),zs=gi(gl),Os=gi(El);function Rs(t){return Xi(t)?$l(dn(t)):(e=t,function(t){return Zt(t,e)});var e}var Fs=bi(),Vs=bi(!0);function Ks(){return[]}function Us(){return!1}var Ys=mi(function(t,e){return t+e},0),Xs=xi("ceil"),qs=mi(function(t,e){return t/e},1),Gs=xi("floor");var Zs,Js=mi(function(t,e){return t*e},1),Qs=xi("round"),tr=mi(function(t,e){return t-e},0);return ft.after=function(t,e){if("function"!=typeof e)throw new S(or);return t=Vo(t),function(){if(--t<1)return e.apply(this,arguments)}},ft.ary=io,ft.assign=qo,ft.assignIn=Go,ft.assignInWith=Zo,ft.assignWith=Jo,ft.at=Qo,ft.before=no,ft.bind=oo,ft.bindAll=Ss,ft.bindKey=so,ft.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return yo(t)?t:[t]},ft.chain=On,ft.chunk=function(t,e,i){e=(i?Yi(t,e,i):e===er)?1:U(Vo(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,s=0,r=I(D(n/e));o<n;)r[s++]=Me(t,o,o+=e);return r},ft.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var s=t[e];s&&(o[n++]=s)}return o},ft.concat=function(){var t=arguments.length;if(!t)return[];for(var e=I(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return xl(yo(i)?ni(i):[i],Kt(e,1))},ft.cond=function(n){var o=null==n?0:n.length,e=Ti();return n=o?wl(n,function(t){if("function"!=typeof t[1])throw new S(or);return[e(t[0]),t[1]]}):[],ke(function(t){for(var e=-1;++e<o;){var i=n[e];if(_l(i[0],this,t))return _l(i[1],this,t)}})},ft.conforms=function(t){return e=Tt(t,lr),i=as(e),function(t){return Lt(t,e,i)};var e,i},ft.constant=Hs,ft.countBy=Vn,ft.create=function(t,e){var i=pt(t);return null==e?i:$t(i,e)},ft.curry=function t(e,i,n){var o=Ei(e,mr,er,er,er,er,er,i=n?er:i);return o.placeholder=t.placeholder,o},ft.curryRight=function t(e,i,n){var o=Ei(e,gr,er,er,er,er,er,i=n?er:i);return o.placeholder=t.placeholder,o},ft.debounce=ro,ft.defaults=ts,ft.defaultsDeep=es,ft.defer=ao,ft.delay=lo,ft.difference=pn,ft.differenceBy=mn,ft.differenceWith=gn,ft.drop=function(t,e,i){var n=null==t?0:t.length;return n?Me(t,(e=i||e===er?1:Vo(e))<0?0:e,n):[]},ft.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Me(t,0,(e=n-(e=i||e===er?1:Vo(e)))<0?0:e):[]},ft.dropRightWhile=function(t,e){return t&&t.length?Oe(t,Ti(e,3),!0,!0):[]},ft.dropWhile=function(t,e){return t&&t.length?Oe(t,Ti(e,3),!0):[]},ft.fill=function(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&Yi(t,e,i)&&(i=0,n=o),function(t,e,i,n){var o=t.length;for((i=Vo(i))<0&&(i=o<-i?0:o+i),(n=n===er||o<n?o:Vo(n))<0&&(n+=o),n=n<i?0:Ko(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},ft.filter=function(t,e){return(yo(t)?vl:Vt)(t,Ti(e,3))},ft.flatMap=function(t,e){return Kt(Jn(t,e),1)},ft.flatMapDeep=function(t,e){return Kt(Jn(t,e),Sr)},ft.flatMapDepth=function(t,e,i){return i=i===er?1:Vo(i),Kt(Jn(t,e),i)},ft.flatten=yn,ft.flattenDeep=function(t){return null!=t&&t.length?Kt(t,Sr):[]},ft.flattenDepth=function(t,e){return null!=t&&t.length?Kt(t,e=e===er?1:Vo(e)):[]},ft.flip=function(t){return Ei(t,xr)},ft.flow=Ms,ft.flowRight=$s,ft.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n},ft.functions=function(t){return null==t?[]:Gt(t,as(t))},ft.functionsIn=function(t){return null==t?[]:Gt(t,ls(t))},ft.groupBy=qn,ft.initial=function(t){return null!=t&&t.length?Me(t,0,-1):[]},ft.intersection=xn,ft.intersectionBy=Cn,ft.intersectionWith=kn,ft.invert=os,ft.invertBy=ss,ft.invokeMap=Gn,ft.iteratee=Bs,ft.keyBy=Zn,ft.keys=as,ft.keysIn=ls,ft.map=Jn,ft.mapKeys=function(t,n){var o={};return n=Ti(n,3),Xt(t,function(t,e,i){Pt(o,n(t,e,i),t)}),o},ft.mapValues=function(t,n){var o={};return n=Ti(n,3),Xt(t,function(t,e,i){Pt(o,e,n(t,e,i))}),o},ft.matches=function(t){return fe(Tt(t,lr))},ft.matchesProperty=function(t,e){return pe(t,Tt(e,lr))},ft.memoize=ho,ft.merge=hs,ft.mergeWith=us,ft.method=Ws,ft.methodOf=Ts,ft.mixin=Ls,ft.negate=uo,ft.nthArg=function(e){return e=Vo(e),ke(function(t){return ge(t,e)})},ft.omit=cs,ft.omitBy=function(t,e){return _s(t,uo(Ti(e)))},ft.once=function(t){return no(2,t)},ft.orderBy=function(t,e,i,n){return null==t?[]:(yo(e)||(e=null==e?[]:[e]),yo(i=n?er:i)||(i=null==i?[]:[i]),ve(t,e,i))},ft.over=Ds,ft.overArgs=co,ft.overEvery=zs,ft.overSome=Os,ft.partial=_o,ft.partialRight=fo,ft.partition=Qn,ft.pick=ds,ft.pickBy=_s,ft.property=Rs,ft.propertyOf=function(e){return function(t){return null==e?er:Zt(e,t)}},ft.pull=jn,ft.pullAll=Nn,ft.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?ye(t,e,Ti(i,2)):t},ft.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?ye(t,e,er,i):t},ft.pullAt=In,ft.range=Fs,ft.rangeRight=Vs,ft.rearg=po,ft.reject=function(t,e){return(yo(t)?vl:Vt)(t,uo(Ti(e,3)))},ft.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],s=t.length;for(e=Ti(e,3);++n<s;){var r=t[n];e(r,n,t)&&(i.push(r),o.push(n))}return we(t,o),i},ft.rest=function(t,e){if("function"!=typeof t)throw new S(or);return ke(t,e=e===er?e:Vo(e))},ft.reverse=Sn,ft.sampleSize=function(t,e,i){return e=(i?Yi(t,e,i):e===er)?1:Vo(e),(yo(t)?jt:je)(t,e)},ft.set=function(t,e,i){return null==t?t:Ne(t,e,i)},ft.setWith=function(t,e,i,n){return n="function"==typeof n?n:er,null==t?t:Ne(t,e,i,n)},ft.shuffle=function(t){return(yo(t)?Nt:He)(t)},ft.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&Yi(t,e,i)?(e=0,i=n):(e=null==e?0:Vo(e),i=i===er?n:Vo(i)),Me(t,e,i)):[]},ft.sortBy=to,ft.sortedUniq=function(t){return t&&t.length?We(t):[]},ft.sortedUniqBy=function(t,e){return t&&t.length?We(t,Ti(e,2)):[]},ft.split=function(t,e,i){return i&&"number"!=typeof i&&Yi(t,e,i)&&(e=i=er),(i=i===er?Pr:i>>>0)?(t=Xo(t))&&("string"==typeof e||null!=e&&!Wo(e))&&!(e=Le(e))&&Vl(t)?qe(Zl(t),0,i):t.split(e,i):[]},ft.spread=function(n,o){if("function"!=typeof n)throw new S(or);return o=null==o?0:U(Vo(o),0),ke(function(t){var e=t[o],i=qe(t,0,o);return e&&xl(i,e),_l(n,this,i)})},ft.tail=function(t){var e=null==t?0:t.length;return e?Me(t,1,e):[]},ft.take=function(t,e,i){return t&&t.length?Me(t,0,(e=i||e===er?1:Vo(e))<0?0:e):[]},ft.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Me(t,(e=n-(e=i||e===er?1:Vo(e)))<0?0:e,n):[]},ft.takeRightWhile=function(t,e){return t&&t.length?Oe(t,Ti(e,3),!1,!0):[]},ft.takeWhile=function(t,e){return t&&t.length?Oe(t,Ti(e,3)):[]},ft.tap=function(t,e){return e(t),t},ft.throttle=function(t,e,i){var n=!0,o=!0;if("function"!=typeof t)throw new S(or);return Ho(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),ro(t,e,{leading:n,maxWait:e,trailing:o})},ft.thru=Rn,ft.toArray=Ro,ft.toPairs=fs,ft.toPairsIn=ps,ft.toPath=function(t){return yo(t)?wl(t,dn):Ao(t)?[t]:ni(cn(Xo(t)))},ft.toPlainObject=Yo,ft.transform=function(t,n,o){var e=yo(t),i=e||ko(t)||Do(t);if(n=Ti(n,4),null==o){var s=t&&t.constructor;o=i?e?new s:[]:Ho(t)&&No(s)?pt(j(t)):{}}return(i?pl:Xt)(t,function(t,e,i){return n(o,t,e,i)}),o},ft.unary=function(t){return io(t,1)},ft.union=Hn,ft.unionBy=Mn,ft.unionWith=$n,ft.uniq=function(t){return t&&t.length?Ae(t):[]},ft.uniqBy=function(t,e){return t&&t.length?Ae(t,Ti(e,2)):[]},ft.uniqWith=function(t,e){return e="function"==typeof e?e:er,t&&t.length?Ae(t,er,e):[]},ft.unset=function(t,e){return null==t||De(t,e)},ft.unzip=Pn,ft.unzipWith=Bn,ft.update=function(t,e,i){return null==t?t:ze(t,e,Ue(i))},ft.updateWith=function(t,e,i,n){return n="function"==typeof n?n:er,null==t?t:ze(t,e,Ue(i),n)},ft.values=ms,ft.valuesIn=function(t){return null==t?[]:Ll(t,ls(t))},ft.without=Wn,ft.words=Ns,ft.wrap=function(t,e){return _o(Ue(e),t)},ft.xor=Tn,ft.xorBy=Ln,ft.xorWith=An,ft.zip=Dn,ft.zipObject=function(t,e){return Ve(t||[],e||[],St)},ft.zipObjectDeep=function(t,e){return Ve(t||[],e||[],Ne)},ft.zipWith=zn,ft.entries=fs,ft.entriesIn=ps,ft.extend=Go,ft.extendWith=Zo,Ls(ft,ft),ft.add=Ys,ft.attempt=Is,ft.camelCase=gs,ft.capitalize=vs,ft.ceil=Xs,ft.clamp=function(t,e,i){return i===er&&(i=e,e=er),i!==er&&(i=(i=Uo(i))==i?i:0),e!==er&&(e=(e=Uo(e))==e?e:0),Wt(Uo(t),e,i)},ft.clone=function(t){return Tt(t,ur)},ft.cloneDeep=function(t){return Tt(t,lr|ur)},ft.cloneDeepWith=function(t,e){return Tt(t,lr|ur,e="function"==typeof e?e:er)},ft.cloneWith=function(t,e){return Tt(t,ur,e="function"==typeof e?e:er)},ft.conformsTo=function(t,e){return null==e||Lt(t,e,as(e))},ft.deburr=bs,ft.defaultTo=function(t,e){return null==t||t!=t?e:t},ft.divide=qs,ft.endsWith=function(t,e,i){t=Xo(t),e=Le(e);var n=t.length,o=i=i===er?n:Wt(Vo(i),0,n);return 0<=(i-=e.length)&&t.slice(i,o)==e},ft.eq=mo,ft.escape=function(t){return(t=Xo(t))&&xa.test(t)?t.replace(ya,Rl):t},ft.escapeRegExp=function(t){return(t=Xo(t))&&Ha.test(t)?t.replace(Sa,"\\$&"):t},ft.every=function(t,e,i){var n=yo(t)?gl:Rt;return i&&Yi(t,e,i)&&(e=er),n(t,Ti(e,3))},ft.find=Kn,ft.findIndex=vn,ft.findKey=function(t,e){return jl(t,Ti(e,3),Xt)},ft.findLast=Un,ft.findLastIndex=bn,ft.findLastKey=function(t,e){return jl(t,Ti(e,3),qt)},ft.floor=Gs,ft.forEach=Yn,ft.forEachRight=Xn,ft.forIn=function(t,e){return null==t?t:Ut(t,Ti(e,3),ls)},ft.forInRight=function(t,e){return null==t?t:Yt(t,Ti(e,3),ls)},ft.forOwn=function(t,e){return t&&Xt(t,Ti(e,3))},ft.forOwnRight=function(t,e){return t&&qt(t,Ti(e,3))},ft.get=is,ft.gt=go,ft.gte=vo,ft.has=function(t,e){return null!=t&&Fi(t,e,ee)},ft.hasIn=ns,ft.head=wn,ft.identity=Ps,ft.includes=function(t,e,i,n){t=xo(t)?t:ms(t),i=i&&!n?Vo(i):0;var o=t.length;return i<0&&(i=U(o+i,0)),Lo(t)?i<=o&&-1<t.indexOf(e,i):!!o&&-1<Il(t,e,i)},ft.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:Vo(i);return o<0&&(o=U(n+o,0)),Il(t,e,o)},ft.inRange=function(t,e,i){return e=Fo(e),i===er?(i=e,e=0):i=Fo(i),t=Uo(t),(n=t)>=Y(o=e,s=i)&&n<U(o,s);var n,o,s},ft.invoke=rs,ft.isArguments=bo,ft.isArray=yo,ft.isArrayBuffer=wo,ft.isArrayLike=xo,ft.isArrayLikeObject=Co,ft.isBoolean=function(t){return!0===t||!1===t||Mo(t)&&Qt(t)==zr},ft.isBuffer=ko,ft.isDate=Eo,ft.isElement=function(t){return Mo(t)&&1===t.nodeType&&!Bo(t)},ft.isEmpty=function(t){if(null==t)return!0;if(xo(t)&&(yo(t)||"string"==typeof t||"function"==typeof t.splice||ko(t)||Do(t)||bo(t)))return!t.length;var e=Ri(t);if(e==Ur||e==Qr)return!t.size;if(Zi(t))return!ue(t).length;for(var i in t)if(E.call(t,i))return!1;return!0},ft.isEqual=function(t,e){return re(t,e)},ft.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:er)?i(t,e):er;return n===er?re(t,e,er,i):!!n},ft.isError=jo,ft.isFinite=function(t){return"number"==typeof t&&F(t)},ft.isFunction=No,ft.isInteger=Io,ft.isLength=So,ft.isMap=$o,ft.isMatch=function(t,e){return t===e||ae(t,e,Ai(e))},ft.isMatchWith=function(t,e,i){return i="function"==typeof i?i:er,ae(t,e,Ai(e),i)},ft.isNaN=function(t){return Po(t)&&t!=+t},ft.isNative=function(t){if(Gi(t))throw new o(nr);return le(t)},ft.isNil=function(t){return null==t},ft.isNull=function(t){return null===t},ft.isNumber=Po,ft.isObject=Ho,ft.isObjectLike=Mo,ft.isPlainObject=Bo,ft.isRegExp=Wo,ft.isSafeInteger=function(t){return Io(t)&&-Hr<=t&&t<=Hr},ft.isSet=To,ft.isString=Lo,ft.isSymbol=Ao,ft.isTypedArray=Do,ft.isUndefined=function(t){return t===er},ft.isWeakMap=function(t){return Mo(t)&&Ri(t)==na},ft.isWeakSet=function(t){return Mo(t)&&Qt(t)==oa},ft.join=function(t,e){return null==t?"":V.call(t,e)},ft.kebabCase=ys,ft.last=En,ft.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return i!==er&&(o=(o=Vo(i))<0?U(n+o,0):Y(o,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,o):Nl(t,Hl,o,!0)},ft.lowerCase=ws,ft.lowerFirst=xs,ft.lt=zo,ft.lte=Oo,ft.max=function(t){return t&&t.length?Ft(t,Ps,te):er},ft.maxBy=function(t,e){return t&&t.length?Ft(t,Ti(e,2),te):er},ft.mean=function(t){return Ml(t,Ps)},ft.meanBy=function(t,e){return Ml(t,Ti(e,2))},ft.min=function(t){return t&&t.length?Ft(t,Ps,de):er},ft.minBy=function(t,e){return t&&t.length?Ft(t,Ti(e,2),de):er},ft.stubArray=Ks,ft.stubFalse=Us,ft.stubObject=function(){return{}},ft.stubString=function(){return""},ft.stubTrue=function(){return!0},ft.multiply=Js,ft.nth=function(t,e){return t&&t.length?ge(t,Vo(e)):er},ft.noConflict=function(){return sl._===this&&(sl._=v),this},ft.noop=As,ft.now=eo,ft.pad=function(t,e,i){t=Xo(t);var n=(e=Vo(e))?Gl(t):0;if(!e||e<=n)return t;var o=(e-n)/2;return vi(z(o),i)+t+vi(D(o),i)},ft.padEnd=function(t,e,i){t=Xo(t);var n=(e=Vo(e))?Gl(t):0;return e&&n<e?t+vi(e-n,i):t},ft.padStart=function(t,e,i){t=Xo(t);var n=(e=Vo(e))?Gl(t):0;return e&&n<e?vi(e-n,i)+t:t},ft.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),q(Xo(t).replace($a,""),e||0)},ft.random=function(t,e,i){if(i&&"boolean"!=typeof i&&Yi(t,e,i)&&(e=i=er),i===er&&("boolean"==typeof e?(i=e,e=er):"boolean"==typeof t&&(i=t,t=er)),t===er&&e===er?(t=0,e=1):(t=Fo(t),e===er?(e=t,t=0):e=Fo(e)),e<t){var n=t;t=e,e=n}if(i||t%1||e%1){var o=G();return Y(t+o*(e-t+nl("1e-"+((o+"").length-1))),e)}return xe(t,e)},ft.reduce=function(t,e,i){var n=yo(t)?Cl:Pl,o=arguments.length<3;return n(t,Ti(e,4),i,o,zt)},ft.reduceRight=function(t,e,i){var n=yo(t)?kl:Pl,o=arguments.length<3;return n(t,Ti(e,4),i,o,Ot)},ft.repeat=function(t,e,i){return e=(i?Yi(t,e,i):e===er)?1:Vo(e),Ce(Xo(t),e)},ft.replace=function(){var t=arguments,e=Xo(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ft.result=function(t,e,i){var n=-1,o=(e=Ye(e,t)).length;for(o||(o=1,t=er);++n<o;){var s=null==t?er:t[dn(e[n])];s===er&&(n=o,s=i),t=No(s)?s.call(t):s}return t},ft.round=Qs,ft.runInContext=t,ft.sample=function(t){return(yo(t)?Et:Ee)(t)},ft.size=function(t){if(null==t)return 0;if(xo(t))return Lo(t)?Gl(t):t.length;var e=Ri(t);return e==Ur||e==Qr?t.size:ue(t).length},ft.snakeCase=Cs,ft.some=function(t,e,i){var n=yo(t)?El:$e;return i&&Yi(t,e,i)&&(e=er),n(t,Ti(e,3))},ft.sortedIndex=function(t,e){return Pe(t,e)},ft.sortedIndexBy=function(t,e,i){return Be(t,e,Ti(i,2))},ft.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Pe(t,e);if(n<i&&mo(t[n],e))return n}return-1},ft.sortedLastIndex=function(t,e){return Pe(t,e,!0)},ft.sortedLastIndexBy=function(t,e,i){return Be(t,e,Ti(i,2),!0)},ft.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=Pe(t,e,!0)-1;if(mo(t[i],e))return i}return-1},ft.startCase=ks,ft.startsWith=function(t,e,i){return t=Xo(t),i=null==i?0:Wt(Vo(i),0,t.length),e=Le(e),t.slice(i,i+e.length)==e},ft.subtract=tr,ft.sum=function(t){return t&&t.length?Bl(t,Ps):0},ft.sumBy=function(t,e){return t&&t.length?Bl(t,Ti(e,2)):0},ft.template=function(r,t,e){var i=ft.templateSettings;e&&Yi(r,t,e)&&(t=er),r=Xo(r),t=Zo({},t,i,ji);var a,l,n=Zo({},t.imports,i.imports,ji),o=as(n),s=Ll(n,o),h=0,u=t.interpolate||Ya,c="__p += '",d=g((t.escape||Ya).source+"|"+u.source+"|"+(u===Ea?Da:Ya).source+"|"+(t.evaluate||Ya).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++tl+"]")+"\n";r.replace(d,function(t,e,i,n,o,s){return i||(i=n),c+=r.slice(h,s).replace(Xa,Fl),e&&(a=!0,c+="' +\n__e("+e+") +\n'"),o&&(l=!0,c+="';\n"+o+";\n__p += '"),i&&(c+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=s+t.length,t}),c+="';\n";var f=t.variable;f||(c="with (obj) {\n"+c+"\n}\n"),c=(l?c.replace(ma,""):c).replace(ga,"$1").replace(va,"$1;"),c="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var p=Is(function(){return m(o,_+"return "+c).apply(er,s)});if(p.source=c,jo(p))throw p;return p},ft.times=function(t,e){if((t=Vo(t))<1||Hr<t)return[];var i=Pr,n=Y(t,Pr);e=Ti(e),t-=Pr;for(var o=Wl(n,e);++i<t;)e(i);return o},ft.toFinite=Fo,ft.toInteger=Vo,ft.toLength=Ko,ft.toLower=function(t){return Xo(t).toLowerCase()},ft.toNumber=Uo,ft.toSafeInteger=function(t){return t?Wt(Vo(t),-Hr,Hr):0===t?t:0},ft.toString=Xo,ft.toUpper=function(t){return Xo(t).toUpperCase()},ft.trim=function(t,e,i){if((t=Xo(t))&&(i||e===er))return t.replace(Ma,"");if(!t||!(e=Le(e)))return t;var n=Zl(t),o=Zl(e);return qe(n,Dl(n,o),zl(n,o)+1).join("")},ft.trimEnd=function(t,e,i){if((t=Xo(t))&&(i||e===er))return t.replace(Pa,"");if(!t||!(e=Le(e)))return t;var n=Zl(t);return qe(n,0,zl(n,Zl(e))+1).join("")},ft.trimStart=function(t,e,i){if((t=Xo(t))&&(i||e===er))return t.replace($a,"");if(!t||!(e=Le(e)))return t;var n=Zl(t);return qe(n,Dl(n,Zl(e))).join("")},ft.truncate=function(t,e){var i=Cr,n=kr;if(Ho(e)){var o="separator"in e?e.separator:o;i="length"in e?Vo(e.length):i,n="omission"in e?Le(e.omission):n}var s=(t=Xo(t)).length;if(Vl(t)){var r=Zl(t);s=r.length}if(s<=i)return t;var a=i-Gl(n);if(a<1)return n;var l=r?qe(r,0,a).join(""):t.slice(0,a);if(o===er)return l+n;if(r&&(a+=l.length-a),Wo(o)){if(t.slice(a).search(o)){var h,u=l;for(o.global||(o=g(o.source,Xo(za.exec(o))+"g")),o.lastIndex=0;h=o.exec(u);)var c=h.index;l=l.slice(0,c===er?a:c)}}else if(t.indexOf(Le(o),a)!=a){var d=l.lastIndexOf(o);-1<d&&(l=l.slice(0,d))}return l+n},ft.unescape=function(t){return(t=Xo(t))&&wa.test(t)?t.replace(ba,Jl):t},ft.uniqueId=function(t){var e=++d;return Xo(t)+e},ft.upperCase=Es,ft.upperFirst=js,ft.each=Yn,ft.eachRight=Xn,ft.first=wn,Ls(ft,(Zs={},Xt(ft,function(t,e){E.call(ft.prototype,e)||(Zs[e]=t)}),Zs),{chain:!1}),ft.VERSION="4.17.5",pl(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ft[t].placeholder=ft}),pl(["drop","take"],function(i,n){vt.prototype[i]=function(t){t=t===er?1:U(Vo(t),0);var e=this.__filtered__&&!n?new vt(this):this.clone();return e.__filtered__?e.__takeCount__=Y(t,e.__takeCount__):e.__views__.push({size:Y(t,Pr),type:i+(e.__dir__<0?"Right":"")}),e},vt.prototype[i+"Right"]=function(t){return this.reverse()[i](t).reverse()}}),pl(["filter","map","takeWhile"],function(t,e){var i=e+1,n=i==Nr||3==i;vt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ti(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}}),pl(["head","last"],function(t,e){var i="take"+(e?"Right":"");vt.prototype[t]=function(){return this[i](1).value()[0]}}),pl(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");vt.prototype[t]=function(){return this.__filtered__?new vt(this):this[i](1)}}),vt.prototype.compact=function(){return this.filter(Ps)},vt.prototype.find=function(t){return this.filter(t).head()},vt.prototype.findLast=function(t){return this.reverse().find(t)},vt.prototype.invokeMap=ke(function(e,i){return"function"==typeof e?new vt(this):this.map(function(t){return oe(t,e,i)})}),vt.prototype.reject=function(t){return this.filter(uo(Ti(t)))},vt.prototype.slice=function(t,e){t=Vo(t);var i=this;return i.__filtered__&&(0<t||e<0)?new vt(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==er&&(i=(e=Vo(e))<0?i.dropRight(-e):i.take(e-t)),i)},vt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vt.prototype.toArray=function(){return this.take(Pr)},Xt(vt.prototype,function(c,t){var d=/^(?:filter|find|map|reject)|While$/.test(t),_=/^(?:head|last)$/.test(t),f=ft[_?"take"+("last"==t?"Right":""):t],p=_||/^find/.test(t);f&&(ft.prototype[t]=function(){var t=this.__wrapped__,i=_?[1]:arguments,e=t instanceof vt,n=i[0],o=e||yo(t),s=function(t){var e=f.apply(ft,xl([t],i));return _&&r?e[0]:e};o&&d&&"function"==typeof n&&1!=n.length&&(e=o=!1);var r=this.__chain__,a=!!this.__actions__.length,l=p&&!r,h=e&&!a;if(!p&&o){t=h?t:new vt(this);var u=c.apply(t,i);return u.__actions__.push({func:Rn,args:[s],thisArg:er}),new gt(u,r)}return l&&h?c.apply(this,i):(u=this.thru(s),l?_?u.value()[0]:u.value():u)})}),pl(["pop","push","shift","sort","splice","unshift"],function(t){var i=r[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);ft.prototype[t]=function(){var e=arguments;if(o&&!this.__chain__){var t=this.value();return i.apply(yo(t)?t:[],e)}return this[n](function(t){return i.apply(yo(t)?t:[],e)})}}),Xt(vt.prototype,function(t,e){var i=ft[e];if(i){var n=i.name+"";(st[n]||(st[n]=[])).push({name:e,func:i})}}),st[fi(er,fr).name]=[{name:"wrapper",func:er}],vt.prototype.clone=function(){var t=new vt(this.__wrapped__);return t.__actions__=ni(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ni(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ni(this.__views__),t},vt.prototype.reverse=function(){if(this.__filtered__){var t=new vt(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},vt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=yo(t),n=e<0,o=i?t.length:0,s=function(t,e,i){for(var n=-1,o=i.length;++n<o;){var s=i[n],r=s.size;switch(s.type){case"drop":t+=r;break;case"dropRight":e-=r;break;case"take":e=Y(e,t+r);break;case"takeRight":t=U(t,e-r)}}return{start:t,end:e}}(0,o,this.__views__),r=s.start,a=s.end,l=a-r,h=n?a:r-1,u=this.__iteratees__,c=u.length,d=0,_=Y(l,this.__takeCount__);if(!i||!n&&o==l&&_==l)return Re(t,this.__actions__);var f=[];t:for(;l--&&d<_;){for(var p=-1,m=t[h+=e];++p<c;){var g=u[p],v=g.iteratee,b=g.type,y=v(m);if(b==Ir)m=y;else if(!y){if(b==Nr)continue t;break t}}f[d++]=m}return f},ft.prototype.at=Fn,ft.prototype.chain=function(){return On(this)},ft.prototype.commit=function(){return new gt(this.value(),this.__chain__)},ft.prototype.next=function(){this.__values__===er&&(this.__values__=Ro(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?er:this.__values__[this.__index__++]}},ft.prototype.plant=function(t){for(var e,i=this;i instanceof mt;){var n=fn(i);n.__index__=0,n.__values__=er,e?o.__wrapped__=n:e=n;var o=n;i=i.__wrapped__}return o.__wrapped__=t,e},ft.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vt){var e=t;return this.__actions__.length&&(e=new vt(this)),(e=e.reverse()).__actions__.push({func:Rn,args:[Sn],thisArg:er}),new gt(e,this.__chain__)}return this.thru(Sn)},ft.prototype.toJSON=ft.prototype.valueOf=ft.prototype.value=function(){return Re(this.__wrapped__,this.__actions__)},ft.prototype.first=ft.prototype.head,P&&(ft.prototype[P]=function(){return this}),ft}();T?((T.exports=Ql)._=Ql,W._=Ql):sl._=Ql}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,i){"use strict";var s=t("./gettext.js").gettext,r=!1;function n(){if(r){var t=document.getElementsByTagName("*"),e=null,i=null,n=0,o=0;for(n=0;n<t.length;n++)if(t[n].hasAttribute("stonejs")){for(t[n].hasAttribute("stonejs-orig-string")||t[n].setAttribute("stonejs-orig-string",t[n].innerHTML),e={},i=t[n].attributes,o=0;o<i.length;o++)0===i[o].name.indexOf("stonejs-param-")&&(e[i[o].name.substr(14)]=i[o].value);t[n].innerHTML=s(t[n].getAttribute("stonejs-orig-string"),e)}}}e.exports={enableDomScan:function(t){r=Boolean(t),n()},updateDomTranslation:n}},{"./gettext.js":10}],10:[function(t,e,i){"use strict";var n=t("./helpers.js"),o={},s=null;function r(t,e){var i=t;if(s&&o[s]&&o[s].messages&&o[s].messages[t]&&0<o[s].messages[t].length&&""!==o[s].messages[t][0]&&(i=o[s].messages[t][0]),e)for(var n in e)i=i.replace(new RegExp("{"+n+"}","g"),e[n]);return i}function a(t,e){this.toString=r.bind(this,t,e);for(var i=Object.getOwnPropertyNames(String.prototype),n=0;n<i.length;n++)"toString"!=i[n]&&("function"==typeof String.prototype[i[n]]?this[i[n]]=function(){var t=this.self.toString();return t[this.prop].apply(t,arguments)}.bind({self:this,prop:i[n]}):Object.defineProperty(this,i[n],{get:function(){return this.self.toString()[this.prop]}.bind({self:this,prop:i[n]}),enumerable:!1,configurable:!1}))}function l(t){s=t}e.exports={catalogs:o,LazyString:a,gettext:r,lazyGettext:function(t,e){return new a(t,e)},clearCatalogs:function(){for(var t in o)delete o[t]},addCatalogs:function(t){for(var e in t)if(o[e])for(var i in o[e]["plural-forms"]=t[e]["plural-forms"],t[e].messages)o[e].messages[i]=t[e].messages[i];else o[e]=t[e]},getLocale:function(){return s},setLocale:l,setBestMatchingLocale:function(t){t||(t=n.extractLanguages());var e=Object.keys(o);l(n.findBestMatchingLocale(t,e))}}},{"./helpers.js":11}],11:[function(t,e,i){"use strict";function h(t){var e={lang:null,lect:null,q:1},i="";return-1<(t=t.toLowerCase().replace(/-/g,"_")).indexOf(";")?(2==(i=t.split(";")).length&&i[1].match(/^q=(1|0\.[0-9]+)$/)&&(e.q=parseFloat(i[1].split("=")[1])),i=i[0]||""):i=t,-1<i.indexOf("_")?2==(i=i.split("_")).length?2==i[0].length&&(e.lang=i[0],2==i[1].length&&(e.lect=i[1])):2==i[0].length&&(e=i[0]):2==i.length&&(e.lang=i),e}e.exports={sendEvent:function(e,t){t=t||{};var i=null;try{i=new Event(e)}catch(t){(i=document.createEvent("Event")).initEvent(e,!0,!1)}for(var n in t)i[n]=t[n];document.dispatchEvent(i)},parseLanguageCode:h,extractLanguages:function(t){if(void 0===t&&(t=navigator.language||navigator.userLanguage||navigator.systemLanguage||navigator.browserLanguage),!t||""===t)return["en"];for(var e,i,n=[],o=t.split(","),s=0;s<o.length;s++)(i=h(o[s])).lang&&n.push(i);if(0===n.length)return["en"];n=n.sort(function(t,e){return e.q-t.q});var r=[];for(s=0;s<n.length;s++)e=n[s].lang,n[s].lect&&(e+="_",e+=n[s].lect.toUpperCase()),r.push(e);return r},findBestMatchingLocale:function(t,e){var i;Array.isArray(t)||(t=[t]);for(var n=[],o=0;o<e.length;o++)(i=h(e[o])).cat=e[o],n.push(i);var s=[];for(o=0;o<t.length;o++)s.push(h(t[o]));function r(t,e,i){if(null===t)return null;for(var n=0;n<i.length;n++){if("*"==e&&i[n].lang===t)return i[n];if(i[n].lang===t&&i[n].lect===e)return i[n]}}var a=null,l=0;for(o=0;o<s.length&&((i=r(s[o].lang,s[o].lect,n))&&!a?(a=i,l=o):i&&a&&i.lang===a.lang&&null===a.lect&&null!==i.lect&&(a=i,l=o),!(a&&a.lang&&a.lect));o++);for(o=0;o<s.length;o++)if((i=r(s[o].lang,null,n))&&(!a||a&&o<=l&&a.lang!==i.lang))return i.cat;for(o=0;o<s.length;o++)if((i=r(s[o].lang,s[o].lang,n))&&(!a||a&&o<=l&&a.lang!==i.lang))return i.cat;if(a)return a.cat;for(o=0;o<s.length;o++)if(i=r(s[o].lang,"*",n))return i.cat;for(o=0;o<t.length;o++)if(0<=e.indexOf(t[o]))return t[o];return"c"}}},{}],12:[function(t,e,i){"use strict";var n=t("./helpers.js"),o=t("./gettext.js"),s=t("./dom.js");document.addEventListener("stonejs-autoload-catalogs",function(t){o.addCatalogs(t.catalog)},!0),e.exports={LazyString:o.LazyString,gettext:o.gettext,lazyGettext:o.lazyGettext,clearCatalogs:o.clearCatalogs,addCatalogs:o.addCatalogs,getLocale:o.getLocale,setLocale:function(t){o.setLocale(t),s.updateDomTranslation(),n.sendEvent("stonejs-locale-changed")},setBestMatchingLocale:o.setBestMatchingLocale,findBestMatchingLocale:n.findBestMatchingLocale,guessUserLanguage:function(){return n.extractLanguages()[0]},enableDomScan:s.enableDomScan,updateDomTranslation:s.updateDomTranslation}},{"./dom.js":9,"./gettext.js":10,"./helpers.js":11}],13:[function(t,e,i){var n=t("./v1"),o=t("./v4"),s=o;s.v1=n,s.v4=o,e.exports=s},{"./v1":16,"./v4":17}],14:[function(t,e,i){for(var o=[],n=0;n<256;++n)o[n]=(n+256).toString(16).substr(1);e.exports=function(t,e){var i=e||0,n=o;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}},{}],15:[function(t,e,i){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var o=new Uint8Array(16);e.exports=function(){return n(o),o}}else{var s=new Array(16);e.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),s[e]=t>>>((3&e)<<3)&255;return s}}},{}],16:[function(t,e,i){var f,p,m=t("./lib/rng"),g=t("./lib/bytesToUuid"),v=0,b=0;e.exports=function(t,e,i){var n=e&&i||0,o=e||[],s=(t=t||{}).node||f,r=void 0!==t.clockseq?t.clockseq:p;if(null==s||null==r){var a=m();null==s&&(s=f=[1|a[0],a[1],a[2],a[3],a[4],a[5]]),null==r&&(r=p=16383&(a[6]<<8|a[7]))}var l=void 0!==t.msecs?t.msecs:(new Date).getTime(),h=void 0!==t.nsecs?t.nsecs:b+1,u=l-v+(h-b)/1e4;if(u<0&&void 0===t.clockseq&&(r=r+1&16383),(u<0||v<l)&&void 0===t.nsecs&&(h=0),1e4<=h)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=l,p=r;var c=(1e4*(268435455&(l+=122192928e5))+(b=h))%4294967296;o[n++]=c>>>24&255,o[n++]=c>>>16&255,o[n++]=c>>>8&255,o[n++]=255&c;var d=l/4294967296*1e4&268435455;o[n++]=d>>>8&255,o[n++]=255&d,o[n++]=d>>>24&15|16,o[n++]=d>>>16&255,o[n++]=r>>>8|128,o[n++]=255&r;for(var _=0;_<6;++_)o[n+_]=s[_];return e||g(o)}},{"./lib/bytesToUuid":14,"./lib/rng":15}],17:[function(t,e,i){var r=t("./lib/rng"),a=t("./lib/bytesToUuid");e.exports=function(t,e,i){var n=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;s<16;++s)e[n+s]=o[s];return e||a(o)}},{"./lib/bytesToUuid":14,"./lib/rng":15}],18:[function(t,e,i){var n=t("abitbol"),l=t("uuid"),o=t("./helpers.js"),s=n.$extend({__init__:function(t){for(var e in this.__events={},this._data={},this._registerWEvents(["destroy"]),t=t||{})this.$map.computedProperties[e]&&(this[e]=t[e]);for(var i in this.$map.computedProperties){var n=this.$map.computedProperties[i];void 0===t[i]&&n.annotations["photonui-update"]&&n.get&&n.set&&(this[i]=this[i])}var o=null,s=0,r="";if(t.callbacks)for(var a in t.callbacks)if("function"==typeof(o=t.callbacks[a]))this.registerCallback(l.v4(),a,o);else if(o instanceof Array)for(s=0;s<o.length;s++)this.registerCallback(l.v4(),a,o[s]);else for(r in o)this.registerCallback(r,a,o[r])},_data:null,getData:function(){return this._data},setData:function(t){this._data=t},__events:null,__callbacks:null,destroy:function(){for(var t in this._callCallbacks("destroy"),this.__events)this._unbindEvent(t)},registerCallback:function(t,e,i,n){this.__callbacks[e]?this.__callbacks[e][t]={callback:i,thisArg:n||null}:o.log("error","This widget has no '"+e+"' wEvent.")},removeCallback:function(t){for(var e in this.__callbacks)this.__callbacks[e][t]&&delete this.__callbacks[e][t]},_updateProperties:function(t){o.log("warn","'photonui.Base._updateProperties()' is deprecated. One should use '@photonui-update' abitbol's annotation on concerned properties.");for(var e=0;e<t.length;e++)this[t[e]]=this[t[e]]},_bindEvent:function(t,e,i,n){this._unbindEvent(t),this.__events[t]={evName:i,element:e,callback:n},this.__events[t].element.addEventListener(this.__events[t].evName,this.__events[t].callback,!1)},_unbindEvent:function(t){this.__events[t]&&(this.__events[t].element.removeEventListener(this.__events[t].evName,this.__events[t].callback,!1),delete this.__events[t])},_registerWEvents:function(t){for(var e in null===this.__callbacks&&(this.__callbacks={}),t)this.__callbacks[t[e]]={}},_callCallbacks:function(t,e){for(var i in e=e||[],this.__callbacks[t])this.__callbacks[t][i].callback.apply(this.__callbacks[t][i].thisArg||this,[this].concat(e))}});e.exports=s},{"./helpers.js":39,abitbol:1,uuid:13}],19:[function(t,e,i){var n=t("stonejs").gettext,o=t("../interactive/button.js"),s=t("../nonvisual/color.js"),r=t("../interactive/colorpalette.js"),a=t("../container/popupwindow.js"),l=t("../layout/boxlayout.js"),h=t("./colorpickerdialog.js"),u=o.$extend({__init__:function(t){this.__widgets={},this._color=new s,this._registerWEvents(["value-changed"]),this.$super(t),this._buildUi()},getValue:function(){return this.color.rgbHexString},setValue:function(t){this.color.fromString(t)},_color:null,getColor:function(){"@photonui-update";return this._color},setColor:function(t){t instanceof s&&(this._color&&this._color.removeCallback("photonui.colorbutton.value-changed::"+this.name),this._color=t,this._color.registerCallback("photonui.colorbutton.value-changed::"+this.name,"value-changed",this.__onColorChanged,this)),this.__onColorChanged(),t instanceof s&&(this._color=t)},_dialogOnly:!1,isDialogOnly:function(){return this._dialogOnly},setDialogOnly:function(t){this._dialogOnly=Boolean(t)},destroy:function(){this._color.removeCallback("photonui.colorbutton.value-changed::"+this.name),this.$super()},_update:function(){},_buildHtml:function(){this.$super(),this.__html.button=document.createElement("button"),this.__html.button.className="photonui-widget photonui-button",this.__html.button.className+=" photonui-colorbutton",this.__html.color=document.createElement("span"),this.__html.button.appendChild(this.__html.color)},_buildUi:function(){this.__widgets.popup=new a,this.__widgets.vbox=new l({verticalSpacing:0,horizontalSpacing:0}),this.__widgets.popup.child=this.__widgets.vbox,this.__widgets.palette=new r,this.__widgets.vbox.addChild(this.__widgets.palette),this.__widgets.custom=new o({text:n("Custom color..."),appearance:"flat"}),this.__widgets.custom.addClass("photonui-colorbutton-custombutton"),this.__widgets.vbox.addChild(this.__widgets.custom),this.__widgets.colorPickerDialog=new h,this.__widgets.palette.registerCallback("value-changed","value-changed",this.__onValueChanged,this),this.__widgets.colorPickerDialog.registerCallback("value-changed","value-changed",this.__onValueChanged,this),this.__widgets.custom.registerCallback("click","click",this.__onCustomButtonClicked,this),this.__widgets.palette.color=this.color,this.__widgets.colorPickerDialog.color=this.color},__onButtonClicked:function(t){this._callCallbacks("click",[t]),this.dialogOnly?(this.__widgets.colorPickerDialog.show(),this.__widgets.colorPickerDialog.center()):this.__widgets.popup.popupWidget(this)},__onValueChanged:function(t,e){this._callCallbacks("value-changed",[this.color])},__onColorChanged:function(){this.__html.color.style.backgroundColor=this.color.rgbHexString},__onCustomButtonClicked:function(){this.__widgets.colorPickerDialog.show(),this.__widgets.colorPickerDialog.center()}});e.exports=u},{"../container/popupwindow.js":29,"../interactive/button.js":40,"../interactive/colorpalette.js":42,"../layout/boxlayout.js":52,"../nonvisual/color.js":59,"./colorpickerdialog.js":20,stonejs:12}],20:[function(t,e,i){var n=t("stonejs").gettext,o=t("../container/dialog.js"),s=t("../layout/boxlayout.js"),r=t("../layout/gridlayout.js"),a=t("../nonvisual/color.js"),l=t("../interactive/colorpalette.js"),h=t("../interactive/colorpicker.js"),u=t("../interactive/button.js"),c=t("../interactive/slider.js"),d=t("../visual/separator.js"),_=t("../visual/label.js"),f=t("../visual/faicon.js"),p=o.$extend({__init__:function(t){this.__widgets={},this._color=new a,void 0===(t=t||{}).title&&(t.title=n("Select a color...")),this._registerWEvents(["value-changed"]),this.$super(t),this._buildUi()},_padding:10,_color:null,getColor:function(){"@photonui-update";return this._color},setColor:function(t){t instanceof a&&(this._color&&this._color.removeCallback("photonui.colorpickerdialog.value-changed::"+this.name),this._color=t,this._color.registerCallback("photonui.colorpickerdialog.value-changed::"+this.name,"value-changed",this.__onColorChanged,this),this.__onColorChanged())},getValue:function(){return this._color.rgbHexString},setValue:function(t){this._color.fromString(t)},setVisible:function(t){this.$super(t),this._color&&t&&this.__widgets.labelRed&&this._updateUi()},destroy:function(){this._color.removeCallback("photonui.colorpickerdialog.value-changed::"+this.name),this.$super()},_buildUi:function(){this.html.className+=" photonui-colorpickerdialog",this.__widgets.hbox=new s({orientation:"horizontal"}),this.child=this.__widgets.hbox,this.__widgets.colorPicker=new h,null!==this._color&&this.__widgets.colorPicker.color.setHSB(this._color.hue,this._color.saturation,this._color.brightness),this.__widgets.hbox.addChild(this.__widgets.colorPicker),this.__widgets.colorPalette=new l,this.__widgets.hbox.addChild(this.__widgets.colorPalette),this.__widgets.separator=new d({orientation:"vertical"}),this.__widgets.hbox.addChild(this.__widgets.separator),this.__widgets.grid=new r,this.__widgets.hbox.addChild(this.__widgets.grid),this.__widgets.fieldRed=new c({value:this._color?this._color.red:void 0,min:0,max:255,decimalDigits:0}),this.__widgets.labelRed=new _({text:n("Red:"),forInput:this.__widgets.fieldRed}),this.__widgets.grid.addChild(this.__widgets.labelRed,{gridX:0,gridY:0,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldRed,{gridX:1,gridY:0,verticalExpansion:!1}),this.__widgets.fieldGreen=new c({value:this._color?this._color.green:void 0,min:0,max:255,decimalDigits:0}),this.__widgets.labelGreen=new _({text:n("Green:"),forInput:this.__widgets.fieldGreen}),this.__widgets.grid.addChild(this.__widgets.labelGreen,{gridX:0,gridY:1,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldGreen,{gridX:1,gridY:1,verticalExpansion:!1}),this.__widgets.fieldBlue=new c({value:this._color?this._color.blue:void 0,min:0,max:255,decimalDigits:0}),this.__widgets.labelBlue=new _({text:n("Blue:"),forInput:this.__widgets.fieldBlue}),this.__widgets.grid.addChild(this.__widgets.labelBlue,{gridX:0,gridY:2,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldBlue,{gridX:1,gridY:2,verticalExpansion:!1}),this.__widgets.separator2=new d,this.__widgets.grid.addChild(this.__widgets.separator2,{gridX:0,gridY:3,verticalExpansion:!1,gridWidth:2}),this.__widgets.fieldHue=new c({value:this._color?this._color.hue:void 0,min:0,max:360,decimalDigits:0}),this.__widgets.labelHue=new _({text:n("Hue:"),forInput:this.__widgets.fieldHue}),this.__widgets.grid.addChild(this.__widgets.labelHue,{gridX:0,gridY:4,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldHue,{gridX:1,gridY:4,verticalExpansion:!1}),this.__widgets.fieldSaturation=new c({value:this._color?this._color.saturation:void 0,min:0,max:100,decimalDigits:0}),this.__widgets.labelSaturation=new _({text:n("Saturation:"),forInput:this.__widgets.fieldSaturation}),this.__widgets.grid.addChild(this.__widgets.labelSaturation,{gridX:0,gridY:5,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldSaturation,{gridX:1,gridY:5,verticalExpansion:!1}),this.__widgets.fieldBrightness=new c({value:this._color?this._color.brightness:void 0,min:0,max:100,decimalDigits:0}),this.__widgets.labelBrightness=new _({text:n("Brightness:"),forInput:this.__widgets.fieldBrightness}),this.__widgets.grid.addChild(this.__widgets.labelBrightness,{gridX:0,gridY:6,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldBrightness,{gridX:1,gridY:6,verticalExpansion:!1}),this.__widgets.buttonOk=new u({text:n("Ok")}),f&&(this.__widgets.buttonOk.leftIcon=new f("fa-check")),this.__widgets.buttonCancel=new u({text:n("Cancel")}),this.buttons=[this.__widgets.buttonOk,this.__widgets.buttonCancel],f&&(this.__widgets.buttonCancel.leftIcon=new f("fa-times")),this.__widgets.colorPalette.color=this.__widgets.colorPicker.color,this.__widgets.colorPicker.color.registerCallback("colorpickerdialog.colorPicker.value-changed","value-changed",this._updateUi,this),this.__widgets.fieldRed.registerCallback("colorpickerdialog.fieldRed.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.red=e},this),this.__widgets.fieldGreen.registerCallback("colorpickerdialog.fieldGreen.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.green=e},this),this.__widgets.fieldBlue.registerCallback("colorpickerdialog.fieldBlue.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.blue=e},this),this.__widgets.fieldHue.registerCallback("colorpickerdialog.fieldHue.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.hue=e},this),this.__widgets.fieldSaturation.registerCallback("colorpickerdialog.fieldSaturation.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.saturation=e},this),this.__widgets.fieldBrightness.registerCallback("colorpickerdialog.fieldBrightness.value-changed","value-changed",function(t,e){this.__widgets.colorPicker.color.brightness=e},this),this.__widgets.buttonOk.registerCallback("colorpickerdialog.buttonOk.click","click",this.__onValidate,this),this.__widgets.buttonCancel.registerCallback("colorpickerdialog.buttonCancel.click","click",this.__onCancel,this),this.registerCallback("colorpickerdialog.close","close-button-clicked",this.__onCancel,this)},_updateUi:function(t){t=t||this.color,this.__widgets.fieldRed.value=t.red,this.__widgets.fieldGreen.value=t.green,this.__widgets.fieldBlue.value=t.blue,this.__widgets.fieldHue.value=t.hue,this.__widgets.fieldSaturation.value=t.saturation,this.__widgets.fieldBrightness.value=t.brightness},__onCancel:function(){this.__widgets.colorPicker.color.setHSB(this._color.hue,this._color.saturation,this._color.brightness),this.hide()},__onValidate:function(){this._color.setHSB(this.__widgets.colorPicker.color.hue,this.__widgets.colorPicker.color.saturation,this.__widgets.colorPicker.color.brightness),this.hide(),this._callCallbacks("value-changed",[this.color])},__onColorChanged:function(){this.__widgets.colorPicker&&this.__widgets.colorPicker.color.setHSB(this._color.hue,this._color.saturation,this._color.brightness)}});e.exports=p},{"../container/dialog.js":26,"../interactive/button.js":40,"../interactive/colorpalette.js":42,"../interactive/colorpicker.js":43,"../interactive/slider.js":47,"../layout/boxlayout.js":52,"../layout/gridlayout.js":54,"../nonvisual/color.js":59,"../visual/faicon.js":68,"../visual/label.js":70,"../visual/separator.js":72,stonejs:12}],21:[function(t,e,i){var n=t("stonejs"),o=t("./select.js"),s=t("../container/menuitem.js"),r=o.$extend({__init__:function(t){t=t||{},this._fonts=[],this.$super(t),0===this.fonts.length&&(this.fonts=["sans-serif","serif","monospace"]),this.value=void 0!==t.value?t.value:"sans-serif"},_fonts:null,getFonts:function(){return this._fonts},setFonts:function(t){this._fonts=[];for(var e=0;e<t.length;e++)this.addFont(t[e])},_placeholder:n.lazyGettext("Select a font..."),addFont:function(t){var e=new s({value:t,text:t});e.html.style.fontFamily=t,this.addChild(e),this._fonts.push(t)},_buildHtml:function(){this.$super(),this.__html.select.className+=" photonui-fontselect"}});e.exports=r},{"../container/menuitem.js":28,"./select.js":23,stonejs:12}],22:[function(t,e,i){var n=t("../container/popupwindow.js"),o=t("../layout/menu.js"),s=n.$extend({__init__:function(t){this._childrenNames=[],this.$super(t)},__include__:[{getChildrenNames:o.prototype.getChildrenNames,setChildrenNames:o.prototype.setChildrenNames,getChildren:o.prototype.getChildren,setChildren:o.prototype.setChildren,getChildName:o.prototype.getChildName,setChildName:o.prototype.setChildName,getChild:o.prototype.getChild,setChild:o.prototype.setChild,_iconVisible:o.prototype._iconVisible,isIconVisible:o.prototype.isIconVisible,setIconVisible:o.prototype.setIconVisible,addChild:o.prototype.addChild,removeChild:o.prototype.removeChild,empty:o.prototype.empty,destroy:o.prototype.destroy,_updateLayout:o.prototype._updateLayout,_lockUpdate:o.prototype._lockUpdate}],_buildHtml:function(){this.$super(),o.prototype._buildHtml.call(this),this.__html.inner.appendChild(this.__html.outer),this.__html.window.className+=" photonui-popupmenu",this.__html.outer.className="photonui-widget photonui-menu photonui-menu-style-popupmenu"},__onLocaleChanged:function(){}});e.exports=s},{"../container/popupwindow.js":29,"../layout/menu.js":56}],23:[function(t,e,i){var n=t("stonejs"),s=t("../helpers.js"),o=t("../widget.js"),r=t("./popupmenu.js"),a=t("../container/menuitem.js"),l=o.$extend({__init__:function(t){t=t||{},this.__popupMenu=new r({maxHeight:300,className:"photonui-select-popup",iconVisible:!1}),this._registerWEvents(["value-changed"]),this.$super(t),this._bindEvent("popup",this.html,"click",this.__onClick.bind(this)),this._bindEvent("mouse-down",this.html,"mousedown",this.__onMouseDown.bind(this)),this.setValue(t.value||this.value,!0)},_value:"",getValue:function(){"@photonui-update";return this._value},setValue:function(t,e){if(this.value!=t||e){for(var i=this.__popupMenu.children,n=0;n<i.length;n++)if(i[n]instanceof a&&i[n].value==t)return this._value=t,s.cleanNode(this.__html.select),void this.__html.select.appendChild(i[n].html.cloneNode(!0));this._value="";var o=new a({text:this.placeholder,className:"photonui-select-placeholder"});s.cleanNode(this.__html.select),this.__html.select.appendChild(o.html)}},_placeholder:n.lazyGettext("Select..."),getPlaceholder:function(){return this._placeholder},setPlaceholder:function(t){this._placeholder=t},getChildren:function(){return this.__popupMenu.getChildren()},setChildren:function(t){this.__popupMenu.setChildren(t),this._updateItemsBinding()},getChildrenNames:function(){return this.__popupMenu.getChildrenNames()},setChildrenNames:function(t){this.__popupMenu.setChildrenNames(t),this._updateItemsBinding()},getPopupWidth:function(){return this.__popupMenu.getWidth()},setPopupWidth:function(t){this.__popupMenu.setWidth(t)},getPopupHeight:function(){return this.__popupMenu.getHeight()},setPopupHeight:function(t){this.__popupMenu.setHeight(t)},getPopupMaxWidth:function(){return this.__popupMenu.getMaxWidth()},setPopupMaxWidth:function(t){this.__popupMenu.setMaxWidth(t)},_minWidthDefined:!1,getPopupMinWidth:function(){return this.__popupMenu.getMinWidth()},setPopupMinWidth:function(t){this._minWidthDefined=!0,this.__popupMenu.setMinWidth(t)},getPopupMaxHeight:function(){return this.__popupMenu.getMaxHeight()},setPopupMaxHeight:function(t){this.__popupMenu.setMaxHeight(t)},getPopupMinHeight:function(){return this.__popupMenu.getMinHeight()},setPopupMinHeight:function(t){this.__popupMenu.setMinHeight(t)},getPopupOffsetWidth:function(){return this.__popupMenu.getOffsetWidth()},getPopupOffsetHeight:function(){return this.__popupMenu.getOffsetHeight()},getPopupPadding:function(){return this.__popupMenu.getPadding()},setPopupPadding:function(t){this.__popupMenu.setPadding(t)},isIconVisible:function(){"@photonui-update";return this.__popupMenu.isIconVisible()},setIconVisible:function(t){t?this.removeClass("photonui-select-noicon"):this.addClass("photonui-select-noicon"),this.__popupMenu.setIconVisible(t)},setVisible:function(t){this.$super(t),t||this.__popupMenu.hide()},getHtml:function(){return this.__html.select},__popupMenu:null,addChild:function(t,e){this.__popupMenu.addChild(t,e),this._updateItemsBinding()},destroy:function(){this.__popupMenu.destroy(),this.$super()},_buildHtml:function(){this.__html.select=document.createElement("div"),this.__html.select.className="photonui-widget photonui-select",this.__html.select.tabIndex="0"},_updateItemsBinding:function(){for(var t=this.__popupMenu.children,e=0;e<t.length;e++)t[e]instanceof a&&t[e].registerCallback(this.name+"-click","click",this.__onItemClicked,this)},__onClick:function(t){this._minWidthDefined||(this.popupMinWidth=this.offsetWidth),this.__popupMenu.visible?this.__popupMenu.hide():this.__popupMenu.popupWidget(this)},__onMouseDown:function(t){this.__popupMenu.visible&&t.stopPropagation()},__onItemClicked:function(t){this.value=t.value,this._callCallbacks("value-changed",[this.value])},__onLocaleChanged:function(){this.$super(),this.setValue(this.value,!0)}});e.exports=l},{"../container/menuitem.js":28,"../helpers.js":39,"../widget.js":76,"./popupmenu.js":22,stonejs:12}],24:[function(t,e,i){var n=t("./container.js"),o=t("../widget.js"),s=n.$extend({__init__:function(t){this._registerWEvents(["position-changed"]),this.$super(t),void 0===(t=t||{}).visible&&(this.visible=!1),o.domInsert(this)},getPosition:function(){"@photonui-update";return this.visible&&this.html.parentNode?this.absolutePosition:{x:this._x,y:this._y}},setPosition:function(t,e){"object"==typeof t&&void 0===e?(this.html.style.left=t.x+"px",this.html.style.top=t.y+"px",this._x=t.x,this._y=t.y):("number"==typeof t&&(this.html.style.left=t+"px",this._x=t),"number"==typeof e&&(this.html.style.top=e+"px",this._y=e)),this._callCallbacks("position-changed",[this.x,this.y])},_x:0,getX:function(){return this.position.x},setX:function(t){this.setPosition(t,null)},_y:0,getY:function(){return this.position.y},setY:function(t){this.setPosition(null,t)},_width:null,getWidth:function(){"@photonui-update";return this.visible&&this.html.parenNode?this.containerNode.offsetWidth:this._width||0},setWidth:function(t){this._width=t||null,this._width?this.containerNode.style.width=t+"px":this.containerNode.style.width="auto"},_height:null,getHeight:function(){"@photonui-update";return this.visible&&this.html.parenNode?this.containerNode.offsetHeight:this._height||0},setHeight:function(t){this._height=t||null,this._height?this.containerNode.style.height=t+"px":this.containerNode.style.height="auto"},_minWidth:null,getMinWidth:function(){"@photonui-update";return this._minWidth},setMinWidth:function(t){this._minWidth=t||null,this._minWidth?this.containerNode.style.minWidth=t+"px":this.containerNode.style.minWidth="0"},_minHeight:null,getMinHeight:function(){"@photonui-update";return this._minHeight},setMinHeight:function(t){this._minHeight=t||null,this._minHeight?this.containerNode.style.minHeight=t+"px":this.containerNode.style.minHeight="0"},_maxWidth:null,getMaxWidth:function(){"@photonui-update";return this._maxWidth},setMaxWidth:function(t){this._maxWidth=t||null,this._maxWidth?this.containerNode.style.maxWidth=t+"px":this.containerNode.style.maxWidth="auto"},_maxHeight:null,getMaxHeight:function(){"@photonui-update";return this._maxHeight},setMaxHeight:function(t){this._maxHeight=t||null,this._maxHeight?this.containerNode.style.maxHeight=t+"px":this.containerNode.style.maxHeight="auto"},_padding:0,getPadding:function(){"@photonui-update";return this._padding},setPadding:function(t){this._padding=t,this.containerNode.style.padding=t+"px"},getHtml:function(){return this.__html.window},getContainerNode:function(){return this.html},center:function(){var t=o.e_parent||document.getElementsByTagName("body")[0];t&&this.setPosition(0|Math.max((t.offsetWidth-this.offsetWidth)/2,0),0|Math.max((t.offsetHeight-this.offsetHeight)/2,0))},_buildHtml:function(){this.__html.window=document.createElement("div"),this.__html.window.className="photonui-widget photonui-basewindow"}});e.exports=s},{"../widget.js":76,"./container.js":25}],25:[function(t,e,i){var n=t("../widget.js"),o=n.$extend({__init__:function(t){this.$super(t),this._childName&&(this.child._parentName=this.name)},_horizontalChildExpansion:!0,getHorizontalChildExpansion:function(){"@photonui-update";return this._horizontalChildExpansion},setHorizontalChildExpansion:function(t){this._horizontalChildExpansion=Boolean(t),this.containerNode&&(t?this.containerNode.classList.add("photonui-container-expand-child-horizontal"):this.containerNode.classList.remove("photonui-container-expand-child-horizontal"))},_verticalChildExpansion:!1,getVerticalChildExpansion:function(){"@photonui-update";return this._verticalChildExpansion},setVerticalChildExpansion:function(t){this._verticalChildExpansion=Boolean(t),this.containerNode&&(t?this.containerNode.classList.add("photonui-container-expand-child-vertical"):this.containerNode.classList.remove("photonui-container-expand-child-vertical"))},_childName:null,getChildName:function(){return this._childName},setChildName:function(t){this.childName&&this.containerNode&&this.child&&this.child.html&&(this.containerNode.removeChild(this.child.html),this.child._parentName=null),this._childName=t,this.child&&this.child._parentName&&this.child.parent.removeChild(this.child),this.childName&&this.containerNode&&this.child&&this.child.html&&(this.containerNode.appendChild(this.child.html),this.child._parentName=this.name)},getChild:function(){return n.getWidget(this.childName)},setChild:function(t){this.childName=t&&t instanceof n?t.name:null},getContainerNode:function(){return null},removeChild:function(t){this.child===t&&(this.child=null)},destroy:function(){this.childName&&this.child&&this.child.destroy(),this.$super()},_visibilityChanged:function(t){t=void 0!==t?t:this.visible,this.child instanceof n&&this.child._visibilityChanged(t),this.$super(t)}});e.exports=o},{"../widget.js":76}],26:[function(t,e,i){var n=t("../helpers.js"),o=t("../widget.js"),s=t("./window.js").$extend({__init__:function(t){this._buttonsNames=[],this.$super(t);for(var e=this.buttons,i=0;i<e.length;i++)e[i]._parentName=this.name},_buttonsNames:[],getButtonsNames:function(){return this._buttonsNames},setButtonsNames:function(t){var e,i;for(e=0;e<this._buttonsNames.length;e++){i=o.getWidget(this._buttonsNames[e]),0<=this._buttonsNames.indexOf(i.name)&&(i._parentName=null)}for(this._buttonsNames=[],e=0;e<t.length;e++)(i=o.getWidget(t[e]))&&(i.parent&&i.unparent(),this._buttonsNames.push(i.name),i._parentName=this.name);this._updateButtons()},getButtons:function(){for(var t,e=[],i=0;i<this._buttonsNames.length;i++)(t=o.getWidget(this._buttonsNames[i]))instanceof o&&e.push(t);return e},setButtons:function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof o&&e.push(t[i].name);this.buttonsNames=e},addButton:function(t,e){t.parent&&t.unparent(),e&&(t.layoutOptions=e),this._buttonsNames.push(t.name),t._parentName=this.name,this._updateButtons()},removeButton:function(t){var e=this._buttonsNames.indexOf(t.name);0<=e&&(this._buttonsNames.splice(e,1),t._parentName=null),this._updateButtons()},removeChild:function(){this.$super.apply(this,arguments),this.removeButton.apply(this,arguments)},destroy:function(){for(var t=this.buttons,e=0;e<t.length;e++)t[e]&&t[e].destroy();this.$super()},_updateButtons:function(){n.cleanNode(this.__html.buttons);for(var t=this.buttons,e=t.length-1;0<=e;e--)this.__html.buttons.appendChild(t[e].html)},_buildHtml:function(){this.$super(),this.__html.window.className+=" photonui-dialog",this.__html.buttons=document.createElement("div"),this.__html.buttons.className="photonui-dialog-buttons",this.__html.window.appendChild(this.__html.buttons)},_visibilityChanged:function(t){t=void 0!==t?t:this.visible;for(var e=this.buttons,i=0;i<e.length;i++)e[i]instanceof o&&e[i]._visibilityChanged(t);this.$super(t)}});e.exports=s},{"../helpers.js":39,"../widget.js":76,"./window.js":33}],27:[function(t,e,i){var n=t("../helpers.js"),o=(t("../widget.js"),t("./container.js").$extend({__init__:function(t){this._registerWEvents(["folded","unfolded"]),this.$super(t),this._bindEvent("keypress",this.__html.title,"keypress",this.__onTitleKeyPress),this._bindEvent("click",this.__html.title,"click",this.__onTitleClicked)},_title:"Expander",getTitle:function(){"@photonui-update";return this._title},setTitle:function(t){this._title=t,n.cleanNode(this.__html.title),this.__html.title.appendChild(document.createTextNode(t))},_folded:!1,getFolded:function(){"@photonui-update";return this._folded},setFolded:function(t){this._folded=t,this._folded?(this.__html.content.style.display="none",this.addClass("photonui-expander-folded")):(this.__html.content.style.display="block",this.removeClass("photonui-expander-folded"))},_padding:0,getPadding:function(){"@photonui-update";return this._padding},setPadding:function(t){this._padding=t,this.__html.content.style.padding=t+"px"},getHtml:function(){return this.__html.outer},getContainerNode:function(){return this.__html.content},toggleFolded:function(){this.folded=!this._folded,this._folded?this._callCallbacks("folded",[]):this._callCallbacks("unfolded",[])},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-expander",this.__html.title=document.createElement("div"),this.__html.title.className="photonui-expander-title",this.__html.title.tabIndex="0",this.__html.outer.appendChild(this.__html.title),this.__html.content=document.createElement("div"),this.__html.content.className="photonui-container photonui-expander-content",this.__html.outer.appendChild(this.__html.content)},__onTitleClicked:function(t,e){this.toggleFolded()},__onTitleKeyPress:function(t){32!=t.charCode&&13!=t.keyCode||this.toggleFolded()}}));e.exports=o},{"../helpers.js":39,"../widget.js":76,"./container.js":25}],28:[function(t,e,i){var n=t("../helpers.js"),o=t("../widget.js"),s=t("./container.js"),r=t("../visual/baseicon.js"),a=t("../visual/image.js"),l=s.$extend({__init__:function(t){this._registerWEvents(["click"]),this.$super(t),this._bindEvent("click",this.__html.outer,"click",function(t){this._callCallbacks("click",[t])}.bind(this))},_value:"",getValue:function(){return this._value},setValue:function(t){this._value=t},_text:"Menu Item",getText:function(){"@photonui-update";return this._text},setText:function(t){this._text=t,n.cleanNode(this.__html.text),this.__html.text.appendChild(document.createTextNode(t))},_iconName:null,getIconName:function(){return this._iconName},setIconName:function(t){this._iconName=t,n.cleanNode(this.__html.icon),this._iconName&&this.__html.icon.appendChild(this.icon.html)},getIcon:function(){"@photonui-update";return o.getWidget(this._iconName)},setIcon:function(t){this.iconName=t instanceof r||t instanceof a?t.name:null},_active:!1,getActive:function(){"@photonui-update";return this._active},setActive:function(t){(this._active=t)?this.addClass("photonui-menuitem-active"):this.removeClass("photonui-menuitem-active")},getHtml:function(){return this.__html.outer},getContainerNode:function(){return this.__html.widget},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-menuitem",this.__html.icon=document.createElement("span"),this.__html.icon.className="photonui-menuitem-icon",this.__html.outer.appendChild(this.__html.icon),this.__html.text=document.createElement("span"),this.__html.text.className="photonui-menuitem-text",this.__html.outer.appendChild(this.__html.text),this.__html.widget=document.createElement("span"),this.__html.widget.className="photonui-container photonui-menuitem-widget",this.__html.outer.appendChild(this.__html.widget)}});e.exports=l},{"../helpers.js":39,"../visual/baseicon.js":66,"../visual/image.js":69,"../widget.js":76,"./container.js":25}],29:[function(t,e,i){var n=t("./basewindow.js").$extend({__init__:function(t){this.$super(t),this._bindEvent("document-mousedown-close",document,"mousedown",this.hide.bind(this)),this._bindEvent("popup-click-close",this.html,"click",this.hide.bind(this)),this._bindEvent("mousedown-preventclose",this.html,"mousedown",function(t){t.stopPropagation()}.bind(this))},getContainerNode:function(){return this.__html.inner},popupXY:function(t,e){this.setPosition(-1337,-1337),this.show();var i=document.getElementsByTagName("body")[0].offsetWidth,n=document.getElementsByTagName("body")[0].offsetHeight,o=this.offsetWidth,s=this.offsetHeight;i<t+o&&(t=i-o),n<e+s&&(e-=s),t<0&&(t=0),e<0&&(e=0),this.setPosition(t,e)},popupWidget:function(t){this.setPosition(-1337,-1337),this.show();var e=document.getElementsByTagName("body")[0],i=0,n=0,o=t.absolutePosition,s=t.offsetHeight,r=t.offsetWidth,a=this.offsetWidth,l=this.offsetHeight;i=o.x+a<e.offsetWidth?o.x:o.x+r<e.offsetWidth?o.x+r-a:e.offsetWidth-a,o.y+s+l<e.offsetHeight?n=o.y+s+1:0<=o.y-l&&(n=o.y-l-1),i<0&&(i=0),n<0&&(n=0),this.setPosition(i,n)},_buildHtml:function(){this.$super(),this.__html.window.className+=" photonui-popupwindow",this.__html.inner=document.createElement("div"),this.__html.window.appendChild(this.__html.inner)}});e.exports=n},{"./basewindow.js":24}],30:[function(t,e,i){var n=t("../widget.js"),o=t("./menuitem.js"),s=t("../layout/menu.js"),r=o.$extend({__init__:function(t){this.$super(t),this.addClass("photonui-submenuitem"),this.registerCallback("toggle-folding","click",this.__onItemClicked,this)},_menuName:null,getMenuName:function(){"@photonui-update";return this._menuName},setMenuName:function(t){var e=this;function i(){e.menu&&(e.menu.registerCallback("fold","hide",e.__onToggleFold,e),e.menu.registerCallback("unfold","show",e.__onToggleFold,e),e.active=e.menu.visible)}this.menuName&&this.menu&&(this.menu.removeCallback("fold"),this.menu.removeCallback("unfold")),this._menuName=t,this.menuName&&(this.menu?i():setTimeout(i,10))},getMenu:function(){return n.getWidget(this.menuName)},setMenu:function(t){this.menuName=t instanceof s?t.name:null},__onToggleFold:function(t){this.active=t.visible},__onItemClicked:function(t){this.menu.visible=!this.menu.visible}});e.exports=r},{"../layout/menu.js":56,"../widget.js":76,"./menuitem.js":28}],31:[function(t,e,i){var n=t("../helpers.js"),o=t("../widget.js"),s=t("../visual/baseicon.js"),r=t("./container.js"),a=t("../interactive/iconbutton.js"),l=t("../visual/image.js"),h=r.$extend({__init__:function(t){this._registerWEvents(["click"]),this.$super(t),this._bindEvent("tab-click",this.__html.tab,"click",this.__onClick.bind(this)),this._update()},_title:"Tab",getTitle:function(){"@photonui-update";return this._title},setTitle:function(t){this._title=t,n.cleanNode(this.__html.title),this.__html.title.appendChild(document.createTextNode(t))},_titleVisible:!0,isTitleVisible:function(){return this._titleVisible},setTitleVisible:function(t){this._titleVisible=t,this._update()},getHtml:function(){return this.__html.div},getTabHtml:function(){return this.__html.tab},getContainerNode:function(){return this.__html.div},_visible:!1,setVisible:function(t,e){if(this.$super(t),t){if(this.parent){for(var i=this.parent.children,n=0;n<i.length;n++)i[n]instanceof h&&i[n]!==this&&i[n].visible&&i[n].setVisible(!1,!0);this.parent._activeTabName=this.name}this.addClass("photonui-tabitem-active"),this.__html.tab.className="photonui-tabitem-tab photonui-tabitem-active"}else this.parent&&!e&&(this.parent.activeTab=null),this.removeClass("photonui-tabitem-active"),this.__html.tab.className="photonui-tabitem-tab"},_leftIconName:null,getLeftIconName:function(){"@photonui-update";return this._leftIconName},setLeftIconName:function(t){this._leftIconName=t,n.cleanNode(this.__html.leftIcon),this._leftIconName&&(this.__html.leftIcon.appendChild(this.leftIcon.html),this.leftIconVisible=!0)},getLeftIcon:function(){return o.getWidget(this._leftIconName)},setLeftIcon:function(t){this.leftIconName=t instanceof s||t instanceof a||t instanceof l?t.name:null},_leftIconVisible:!0,isLeftIconVisible:function(){return this._leftIconVisible},setLeftIconVisible:function(t){this._leftIconVisible=t,this._update()},_rightIconName:null,getRightIconName:function(){"@photonui-update";return this._rightIconName},setRightIconName:function(t){this._rightIconName=t,n.cleanNode(this.__html.rightIcon),this._rightIconName&&(this.__html.rightIcon.appendChild(this.rightIcon.html),this.rightIconVisible=!0)},getRightIcon:function(){return o.getWidget(this._rightIconName)},setRightIcon:function(t){this.rightIconName=t instanceof s||t instanceof a||t instanceof l?t.name:null},_rightIconVisible:!0,isRightIconVisible:function(){return this._rightIconVisible},setRightIconVisible:function(t){this._rightIconVisible=t,this._update()},_update:function(){this.__html.leftIcon.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.leftIcon),this.__html.title.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.title),this.__html.rightIcon.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.rightIcon),this.leftIconName&&this.leftIconVisible&&this.__html.tab.appendChild(this.__html.leftIcon),this.title&&this.titleVisible&&this.__html.tab.appendChild(this.__html.title),this.rightIconName&&this.rightIconVisible&&this.__html.tab.appendChild(this.__html.rightIcon)},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-tabitem photonui-container",this.__html.tab=document.createElement("div"),this.__html.tab.className="photonui-tabitem-tab",this.__html.leftIcon=document.createElement("span"),this.__html.leftIcon.className="photonui-tabitem-lefticon",this.__html.tab.appendChild(this.__html.leftIcon),this.__html.title=document.createElement("span"),this.__html.title.className="photonui-tabitem-title",this.__html.tab.appendChild(this.__html.title),this.__html.rightIcon=document.createElement("span"),this.__html.rightIcon.className="photonui-tabitem-righticon",this.__html.tab.appendChild(this.__html.rightIcon)},__onClick:function(t){this.show(),this._callCallbacks("click",[t])}});e.exports=h},{"../helpers.js":39,"../interactive/iconbutton.js":45,"../visual/baseicon.js":66,"../visual/image.js":69,"../widget.js":76,"./container.js":25}],32:[function(t,e,i){var n=t("./container.js"),o=t("../helpers.js").numberToCssSize,s=n.$extend({__init__:function(t){this.$super(t)},_padding:0,getPadding:function(){"@photonui-update";return this._padding},setPadding:function(t){this._padding=t,this.containerNode.style.padding=t+"px"},_verticalScrollbar:null,getVerticalScrollbar:function(){"@photonui-update";return this._verticalScrollbar},setVerticalScrollbar:function(t){this._verticalScrollbar=t,this.__html.viewport.style.overflowY=!0===t?"scroll":!1===t?"hidden":"auto"},_horizontalScrollbar:null,getHorizontalScrollbar:function(){"@photonui-update";return this._horizontalScrollbar},setHorizontalScrollbar:function(t){this._horizontalScrollbar=t,this.__html.viewport.style.overflowX=!0===t?"scroll":!1===t?"hidden":"auto"},_minWidth:null,getMinWidth:function(){"@photonui-update";return this._minWidth},setMinWidth:function(t){this._minWidth=t,this.__html.viewport.style.minWidth=o(t,null,0)},_maxWidth:null,getMaxWidth:function(){"@photonui-update";return this._maxWidth},setMaxWidth:function(t){this._maxWidth=t,this.__html.viewport.style.maxWidth=o(t,null,1/0)},_width:1/0,getWidth:function(){"@photonui-update";return this._width},setWidth:function(t){this._width=t,this.__html.viewport.style.width=o(t,null)},_minHeight:null,getMinHeight:function(){"@photonui-update";return this._minHeight},setMinHeight:function(t){this._minHeight=t,this.__html.viewport.style.minHeight=o(t,null,0)},_maxHeight:null,getMaxHeight:function(){"@photonui-update";return this._maxHeight},setMaxHeight:function(t){this._maxHeight=t,this.__html.viewport.style.maxHeight=o(t,null,1/0)},_height:1/0,getHeight:function(){"@photonui-update";return this._height},setHeight:function(t){this._height=t,this.__html.viewport.style.height=o(t,null)},getHtml:function(){return setTimeout(this._sizingHack.bind(this),10),this.__html.viewport},getContainerNode:function(){return this.__html.viewport},_buildHtml:function(){this.__html.viewport=document.createElement("div"),this.__html.viewport.className="photonui-widget photonui-viewport photonui-container"},_visibilityChanged:function(t){(t=void 0!==t?t:this.visible)&&this._sizingHack(),this.$super(t)},_sizingHack:function(){if(this.height===1/0&&this.visible&&this.__html.viewport.parentNode){var t=this.__html.viewport,e=0;for(this.__html.viewport.style.display="none";(t=t.parentNode)&&t;)if(0<t.offsetHeight){e=t.offsetHeight;var i=getComputedStyle(t);e-=parseFloat(i.paddingTop),e-=parseFloat(i.paddingBottom),e-=parseFloat(i.borderTopWidth),e-=parseFloat(i.borderBottomWidth);break}null!==this.maxHeight&&(e=Math.min(this.maxHeight,e)),null!==this.minHeight&&(e=Math.max(this.minHeight,e)),this.__html.viewport.style.height=e+"px",this.__html.viewport.style.display=""}},__onLocaleChanged:function(){}});e.exports=s},{"../helpers.js":39,"./container.js":25}],33:[function(t,e,i){var n=t("stonejs"),o=t("../helpers.js"),s=t("../widget.js"),r=t("./basewindow.js"),a=[],l=r.$extend({__init__:function(t){this._registerWEvents(["close-button-clicked"]),this.$super(t),this._bindEvent("move.dragstart",this.__html.windowTitle,"mousedown",this.__moveDragStart.bind(this)),this._bindEvent("move.touchstart",this.__html.windowTitle,"touchstart",this.__moveTouchStart.bind(this)),this._bindEvent("closeButton.click",this.__html.windowTitleCloseButton,"click",this.__closeButtonClicked.bind(this)),this._bindEvent("totop",this.__html.window,"mousedown",this.moveToFront.bind(this)),this._bindEvent("totop-touch",this.__html.window,"touchstart",this.moveToFront.bind(this)),this.moveToFront()},_title:"Window",getTitle:function(){"@photonui-update";return this._title},setTitle:function(t){this._title=t,o.cleanNode(this.__html.windowTitleText),this.__html.windowTitleText.appendChild(document.createTextNode(t))},_movable:!0,isMovable:function(){return this._movable&&!this._fullscreen},setMovable:function(t){this._movable=t},_fullscreen:!1,isFullscreen:function(){return this._fullscreen},setFullscreen:function(t){this._fullscreen=Boolean(t),this._fullscreen?this.addClass("photonui-window-fullscreen"):this.removeClass("photonui-window-fullscreen")},_closeButtonVisible:!0,getCloseButtonVisible:function(){"@photonui-update";return this._closeButtonVisible},setCloseButtonVisible:function(t){(this._closeButtonVisible=t)?(this.addClass("photonui-window-have-button"),this.__html.windowTitleCloseButton.style.display="block"):(this.removeClass("photonui-window-have-button"),this.__html.windowTitleCloseButton.style.display="none")},_modal:!1,isModal:function(){return this._modal},setModal:function(t){(this._modal=t)&&!this.__html.modalBox?(this.__html.modalBox=document.createElement("div"),this.__html.modalBox.className="photonui-window-modalbox",(s.e_parent||document.getElementsByTagName("body")[0]).appendChild(this.__html.modalBox),this.visible=this.visible):!t&&this.__html.modalBox&&(this.__html.modalBox.parentNode.removeChild(this.__html.modalBox),delete this.__html.modalBox)},getContainerNode:function(){return this.__html.windowContent},setVisible:function(t){this.$super(t),this.visible?(this.moveToFront(),this.modal&&(this.__html.modalBox.style.display="block")):(this.moveToBack(),this.modal&&(this.__html.modalBox.style.display="none"))},moveToFront:function(){var t=a.indexOf(this);0<=t&&a.splice(t,1),a.unshift(this),this._updateWindowList()},moveToBack:function(){var t=a.indexOf(this);0<=t&&a.splice(t,1),a.push(this),this._updateWindowList()},destroy:function(){this.modal=!1;var t=a.indexOf(this);0<=t&&a.splice(t,1),this.$super()},_buildHtml:function(){var t=n.lazyGettext;this.$super(),this.__html.window.className+=" photonui-window",this.__html.windowTitle=document.createElement("div"),this.__html.windowTitle.className="photonui-window-title",this.__html.window.appendChild(this.__html.windowTitle),this.__html.windowTitleCloseButton=document.createElement("button"),this.__html.windowTitleCloseButton.className="photonui-window-title-close-button fa fa-times",this.__html.windowTitleCloseButton.title=t("Close"),this.__html.windowTitle.appendChild(this.__html.windowTitleCloseButton),this.__html.windowTitleText=document.createElement("span"),this.__html.windowTitleText.className="photonui-window-title-text",this.__html.windowTitle.appendChild(this.__html.windowTitleText),this.__html.windowContent=document.createElement("div"),this.__html.windowContent.className="photonui-container photonui-window-content",this.__html.window.appendChild(this.__html.windowContent)},_updateWindowList:function(){for(var t=a.length-1,e=0;0<=t;t--,e++)0===t?(a[t].html.style.zIndex=2001,a[t].addClass("photonui-active")):(a[t].html.style.zIndex=1e3+e,a[t].removeClass("photonui-active")),a[t].modal&&(a[t].html.style.zIndex=3001)},__moveDragStart:function(t){if(this.movable&&!(0<t.button)&&t.target!==this.__html.windowTitleCloseButton){var e=void 0!==t.offsetX?t.offsetX:t.layerX,i=void 0!==t.offsetY?t.offsetY:t.layerY;this.__html.windowTitle.style.cursor="move",this._bindEvent("move.dragging",document,"mousemove",this.__moveDragging.bind(this,e,i)),this._bindEvent("move.dragend",document,"mouseup",this.__moveDragEnd.bind(this))}},__moveDragging:function(t,e,i){this.__internalDragging(t,e,i.pageX,i.pageY)},__moveDragEnd:function(t){this.__html.windowTitle.style.cursor="default",this._unbindEvent("move.dragging"),this._unbindEvent("move.dragend")},__internalDragging:function(t,e,i,n){var o=document.getElementsByTagName("body")[0],s=Math.min(Math.max(i-t,40-this.offsetWidth),o.offsetWidth-40),r=Math.max(n-e,0);0<o.offsetHeight&&(r=Math.min(r,o.offsetHeight-this.__html.windowTitle.offsetHeight)),this.setPosition(s,r)},__moveTouchStart:function(t){if(this.movable&&t.target===this.__html.windowTitle){var e=this.__getTouchEvent(t);this.__html.windowTitle.style.cursor="move",this._bindEvent("move.touchmove",document,"touchmove",this.__moveTouchMove.bind(this,e.offsetX,e.offsetY)),this._bindEvent("move.touchend",document,"touchend",this.__moveTouchEnd.bind(this)),this._bindEvent("move.touchcancel",document,"touchcancel",this.__moveTouchEnd.bind(this))}},__moveTouchMove:function(t,e,i){var n=this.__getTouchEvent(i);this.__internalDragging(t,e,n.pageX,n.pageY)},__moveTouchEnd:function(t){this.__html.windowTitle.style.cursor="default",this._unbindEvent("move.touchmove"),this._unbindEvent("move.touchend"),this._unbindEvent("move.touchcancel")},__getTouchEvent:function(t){if(t.touches&&t.touches.length){t.preventDefault();var e=t.touches[0];e.pageX=e.pageX||e.clientX,e.pageY=e.pageX||e.clientY;var i=o.getAbsolutePosition(t.target);return e.offsetX=e.offsetX||e.pageX-i.x,e.offsetY=e.offsetY||e.pageY-i.y,e}return t},__closeButtonClicked:function(t){this._callCallbacks("close-button-clicked")},__onLocaleChanged:function(){this.$super(),this.__html.windowTitleCloseButton.title=n.lazyGettext("Close")}});e.exports=l},{"../helpers.js":39,"../widget.js":76,"./basewindow.js":24,stonejs:12}],34:[function(t,e,i){var o=t("lodash"),s=t("../helpers.js"),r=t("../widget.js"),n=(t("../visual/text.js"),r.$extend({__init__:function(t){this._lockItemsUpdate=!0,this.$data.selectable=!0,this.$data.unselectOnOutsideClick=!0,this.$data.multiSelectable=!1,this.$data.multiSelectWithCtrl=!0,this.$data.allowShiftSelect=!0,this.$data.dragAndDroppable=!1,this.$data.containerElement="ul",this.$data.itemElement="li",this.$data.columnElement="span",this.$data._manuallySetColumns=!(!t||!t.columns),t&&t.containerElement&&(this.$data.containerElement=t.containerElement,t.containerElement=null),this._addIdentifier("dataview"),this._addIdentifier(t&&t.identifier),this._initialSelectionItemIndex=null,this._registerWEvents(["item-select","item-unselect","item-click","item-sort"]),this.$super(t),this._lockItemsUpdate=!1,this._buildItemsHtml(),this._bindEvent("click",this.__html.container,"click",this.__onClick.bind(this)),this._bindEvent("dragstart",this.__html.container,"dragstart",this.__onDragStart.bind(this)),this._bindEvent("dragenter",this.__html.container,"dragenter",this.__onDragEnter.bind(this)),this._bindEvent("dragend",this.__html.container,"dragend",this.__onDragEnd.bind(this)),this._bindEvent("dragover",this.__html.container,"dragover",this.__onDragOver.bind(this)),this._bindEvent("drop",this.__html.container,"drop",this.__onDrop.bind(this))},getItems:function(){return this.$data.items},setItems:function(t){t=t||[],this.$data.items=t.map(function(t,e){return"object"==typeof t?{index:e,selected:!1,value:t}:{index:e,selected:!1,value:{__generated__:t.toString()}}}),this.$data._manuallySetColumns||this._generateColumns(),this._buildItemsHtml()},isSelectable:function(){return this.$data.selectable},setSelectable:function(t){this.$data.selectable=t},getUnselectOnOutsideClick:function(){return this.$data.unselectOnOutsideClick},setUnselectOnOutsideClick:function(t){this.$data.unselectOnOutsideClick=t},isMultiSelectable:function(){return this.$data.multiSelectable},setMultiSelectable:function(t){this.$data.multiSelectable=t},getMultiSelectWithCtrl:function(){return this.$data.multiSelectWithCtrl},setMultiSelectWithCtrl:function(t){this.$data.multiSelectWithCtrl=t},getAllowShiftSelect:function(){return this.$data.allowShiftSelect},setAllowShiftSelect:function(t){this.$data.allowShiftSelect=t},isDragAndDroppable:function(){return this.$data.dragAndDroppable},setDragAndDroppable:function(t){this.$data.dragAndDroppable=t},getCustomWidgetFormater:function(){return this.$data.customWidgetFormater},setCustomWidgetFormater:function(t){this.$data.customWidgetFormater=t},getSelectedItems:function(){return this.$data.items?this.$data.items.filter(function(t){return t.selected}):[]},setColumns:function(t){this.$data.columns=t.map(function(t,e){return"string"==typeof t?{id:t,value:t}:t.value?o.merge({id:"string"==typeof t.value?t.value:"column"+e},t):null}).filter(function(t){return null!==t}),this._buildItemsHtml()},getHtml:function(){return this.__html.container},getContainerElement:function(){return this.$data.containerElement},setContainerElement:function(t){this.$data.containerElement=t},getItemElement:function(){return this.$data.itemElement},setItemElement:function(t){this.$data.itemElement=t},getColumnElement:function(){return this.$data.columnElement},setColumnElement:function(t){this.$data.columnElement=t},_addIdentifier:function(t){t&&(this.$data._identifiers?-1===this.$data._identifiers.indexOf(t)&&this.$data._identifiers.push(t):this.$data._identifiers=[t])},selectItems:function(){o.chain(arguments).map().flatten().uniq().value().forEach(function(t){"number"==typeof t&&(t=this._getItemByIndex(t)),t&&this._selectItem(t,!0)}.bind(this))},unselectItems:function(){o.chain(arguments).map().flatten().uniq().value().forEach(function(t){"number"==typeof t&&(t=this._getItemByIndex(t)),t&&this._unselectItem(t,!0)}.bind(this))},_getItemByIndex:function(e){return o.find(this.items,function(t){return t.index===e})},_buildHtml:function(){this._buildContainerHtml()},_buildContainerHtml:function(){this.__html.container=document.createElement(this.containerElement),this.__html.container.className="photonui-widget",this._addIdentifiersClasses(this.__html.container),this._addIdentifiersClasses(this.__html.container,"container")},_buildItemsHtml:function(){if(!this._lockItemsUpdate&&(s.cleanNode(this.__html.container),this.$data.items)){var i=document.createDocumentFragment();this.$data.items.forEach(function(t){var e=this._renderItem(t);this.$data.dragAndDroppable&&e.setAttribute("draggable",!0),t.node=e,i.appendChild(e)}.bind(this)),this.__html.container.appendChild(i)}},_renderItem:function(t){var e=document.createElement(this.itemElement);if(e.className="photonui-dataview-item",e.setAttribute("data-photonui-dataview-item-index",t.index),this._addIdentifiersClasses(e,"item"),this.customWidgetFormater&&"function"==typeof this.customWidgetFormater){var i=this.customWidgetFormater.call(this,t.value);if(i&&i instanceof r)return e.appendChild(i.getHtml()),e}return this._renderItemInner(e,t)},_renderItemInner:function(i,n){return this.$data.columns&&this.$data.columns.forEach(function(t){var e="string"==typeof t.value?o.get(n.value,t.value):"function"==typeof t.value?t.value.call(this,n.value):null;i.appendChild(this._renderColumn(e,t.id,t.rawHtml))}.bind(this)),i},_renderColumn:function(t,e,i){var n=document.createElement(this.columnElement);return this._addIdentifiersClasses(n,"column"),"__generated__"!==e&&this._addIdentifiersClasses(n,"column-"+e),t instanceof r?n.appendChild(t.getHtml()):i?n.innerHTML=t||"":n.textContent=t||"",n},_generateColumns:function(){var e=[];this.$data.items&&(this.$data.items.forEach(function(t){"object"==typeof t.value&&Object.keys(t.value).forEach(function(t){-1===e.indexOf(t)&&e.push(t)})}),this.$data.columns=e.map(function(t){return{value:t,id:t}}),this._buildItemsHtml())},_addIdentifiersClasses:function(e,i){this.$data._identifiers&&this.$data._identifiers.forEach(function(t){e.classList.add(i?"photonui-"+t+"-"+i.replace(/[^a-zA-Z0-9]+/gi,"-").replace(/(^[^a-zA-Z0-9]|[^a-zA-Z0-9]$)/gi,"").toLowerCase():"photonui-"+t)})},_selectItem:function(t,e){t.selected=!0,t.node.classList.add("selected"),e||this._callCallbacks("item-select",[t])},_unselectItem:function(t,e){t.selected=!1,t.node.classList.remove("selected"),e||this._callCallbacks("item-unselect",[t])},_selectItemsTo:function(t){if(this.unselectAllItems(),this._initialSelectionItemIndex<t.index)for(var e=this._initialSelectionItemIndex;e<=t.index;e++)this._selectItem(this.items[e]);else for(var i=this._initialSelectionItemIndex;i>=t.index;i--)this._selectItem(this.items[i])},unselectAllItems:function(){this.getSelectedItems().forEach(function(t){this._unselectItem(t)}.bind(this))},_getItemFromNode:function(t){var e=t.getAttribute("data-photonui-dataview-item-index");return e?this.$data.items[parseInt(e,10)]:null},_moveItem:function(t,e){this.items.splice(e,0,this.items.splice(t,1)[0]),this.setItems(this.items.map(function(t){return t.value}))},_handleClick:function(t,e){this.selectable&&(this.multiSelectable?0===this.selectedItems.length?(this._selectItem(t),this._initialSelectionItemIndex=t.index):this.allowShiftSelect&&e.shift?this._selectItemsTo(t):this.multiSelectWithCtrl?e.ctrl?t.selected?this._unselectItem(t):this._selectItem(t):(this.unselectAllItems(),this._selectItem(t),this._initialSelectionItemIndex=t.index):t.selected?this._unselectItem(t):this._selectItem(t):e.ctrl&&t.selected?this._unselectItem(t):(this.unselectAllItems(),this._selectItem(t)))},_generatePlaceholderElement:function(t){var e=document.createElement(this.$data.itemElement);return this.$data.columns.forEach(function(){var t=document.createElement(this.$data.columnElement);e.appendChild(t)}.bind(this)),e.style.height=t.offsetHeight+"px",e.style.width=t.offsetWidth+"px",e.style.margin=t.style.margin,this._addIdentifiersClasses(e,"item-placeholder"),e},__onClick:function(t){var e=s.getClosest(t.target,".photonui-dataview-item");if(t.stopPropagation(),e){if(!this._getItemFromNode(e))return;this.__onItemClick(t,this._getItemFromNode(e))}else this.unselectOnOutsideClick&&this.unselectAllItems()},__onItemClick:function(t,e){this._handleClick(e,{shift:t.shiftKey,ctrl:t.ctrlKey}),this._callCallbacks("item-click",[e,t]),t.stopPropagation()},__onDragStart:function(t){if(this.$data.dragAndDroppable){t.dataTransfer.setData("text","");var e=s.getClosest(t.target,".photonui-dataview-item");e&&(this.$data._draggedItem=this._getItemFromNode(e),this.unselectAllItems(),this.$data._placeholderElement=this._generatePlaceholderElement(e),this.$data._lastPlaceholderIndex=this.$data._draggedItem.index,o.defer(function(){this.__html.container.insertBefore(this.$data._placeholderElement,e),this.$data._draggedItem.node.style.display="none"}.bind(this))),t.stopPropagation()}},__onDragEnter:function(t){if(this.$data.dragAndDroppable){var e=s.getClosest(t.target,".photonui-dataview-item");if(e){var i=this._getItemFromNode(e).index,n=i+(this.$data._lastPlaceholderIndex<=i?1:0),o=this._getItemByIndex(n);this.$data._lastPlaceholderIndex=n,o?this.__html.container.insertBefore(this.$data._placeholderElement,o.node):this.__html.container.appendChild(this.$data._placeholderElement)}return t.stopPropagation(),!1}},__onDragEnd:function(t){if(this.$data.dragAndDroppable){if(this.$data._draggedItem.node.style.display="",this.$data._placeholderElement.parentNode===this.__html.container){var e=this.$data._lastPlaceholderIndex>this.$data._draggedItem.index?this.$data._lastPlaceholderIndex-1:this.$data._lastPlaceholderIndex;this._moveItem(this.$data._draggedItem.index,e),this._callCallbacks("item-sort",[this.$data._draggedItem,e,t])}this.$data._placeholderElement=null,this.$data._draggedItem=null,t.stopPropagation()}},__onDragOver:function(t){this.$data.dragAndDroppable&&(t.preventDefault(),t.stopPropagation())},__onDrop:function(t){this.$data.dragAndDroppable&&(t.preventDefault(),t.stopPropagation())},__onLocaleChanged:function(){this._buildItemsHtml()}}));e.exports=n},{"../helpers.js":39,"../visual/text.js":75,"../widget.js":76,lodash:8}],35:[function(t,e,i){var n=t("lodash"),o=t("./dataview").$extend({__init__:function(t){t=n.assign({verticalPadding:0,horizontalPadding:0,verticalSpacing:0,horizontalSpacing:0},t),this._addIdentifier("fluidview"),this.$super(t)},getItemsWidth:function(){return this.$data.itemsWidth},setItemsWidth:function(t){this.$data.itemsWidth=t,this._buildItemsHtml()},getItemsHeight:function(){return this.$data.itemsHeight},setItemsHeight:function(t){this.$data.itemsHeight=t,this._buildItemsHtml()},getVerticalPadding:function(){return this.$data.verticalPadding},setVerticalPadding:function(t){this.$data.verticalPadding=t,this._buildItemsHtml()},getHorizontalPadding:function(){return this.$data.horizontalPadding},setHorizontalPadding:function(t){this.$data.horizontalPadding=t,this._buildItemsHtml()},getVerticalSpacing:function(){return this.$data.verticalSpacing},setVerticalSpacing:function(t){this.$data.verticalSpacing=t,this._buildItemsHtml()},getHorizontalSpacing:function(){return this.$data.horizontalSpacing},setHorizontalSpacing:function(t){this.$data.horizontalSpacing=t,this._buildItemsHtml()},_buildItemsHtml:function(){this.$super.apply(this,arguments),this.__html.container.style.marginTop=this.$data.verticalSpacing?-this.$data.verticalSpacing/2+"px":"",this.__html.container.style.marginBottom=this.$data.verticalSpacing?-this.$data.verticalSpacing/2+"px":"",this.__html.container.style.marginLeft=this.$data.horizontalSpacing?-this.$data.horizontalSpacing/2+"px":"",this.__html.container.style.marginRight=this.$data.horizontalSpacing?-this.$data.horizontalSpacing/2+"px":"",this.__html.container.style.paddingTop=this.$data.verticalPadding?this.$data.verticalPadding+"px":"",this.__html.container.style.paddingBottom=this.$data.verticalPadding?this.$data.verticalPadding+"px":"",this.__html.container.style.paddingLeft=this.$data.horizontalPadding?this.$data.horizontalPadding+"px":"",this.__html.container.style.paddingRight=this.$data.horizontalPadding?this.$data.horizontalPadding+"px":""},_renderItem:function(t){var e=this.$super.apply(this,arguments);return this.$data.itemsWidth&&(e.style.width=this.$data.itemsWidth+"px"),this.$data.itemsHeight&&(e.style.height=this.$data.itemsHeight+"px"),this.$data.horizontalSpacing&&(e.style.marginLeft=this.$data.horizontalSpacing/2+"px",e.style.marginRight=this.$data.horizontalSpacing/2+"px"),this.$data.verticalSpacing&&(e.style.marginTop=this.$data.verticalSpacing/2+"px",e.style.marginBottom=this.$data.verticalSpacing/2+"px"),e}});e.exports=o},{"./dataview":34,lodash:8}],36:[function(t,e,i){var n=t("lodash"),o=(t("../helpers"),t("../visual/image")),s=t("../visual/faicon"),r=t("./fluidview").$extend({__init__:function(t){t=n.assign({horizontalSpacing:8,horizontalPadding:8,verticalSpacing:8,verticalPadding:8,columnElement:"div",columns:[{id:"icon",value:function(t){return t.image?new o({url:t.image,height:this.iconHeight,width:this.iconWidth}):t.faIcon&&t.faIcon.iconName?new s(t.faIcon):null}},"label"]},t),this._addIdentifier("iconview"),this._registerWEvents([]),this.$super(t)},getIconWidth:function(){return this.$data.iconWidth},setIconWidth:function(t){this.$data.iconWidth=t,this._buildItemsHtml()},getIconHeight:function(){return this.$data.iconHeight},setIconHeight:function(t){this.$data.iconHeight=t,this._buildItemsHtml()},_renderColumn:function(t,e,i){var n=this.$super.apply(this,arguments);if("icon"===e&&(this.$data.iconWidth&&(n.style.width=this.$data.iconWidth+"px"),this.$data.iconHeight)){n.style.height=this.$data.iconHeight+"px";var o=n.getElementsByClassName("fa")[0];o&&(o.style.lineHeight=this.$data.iconHeight+"px")}return n}});e.exports=r},{"../helpers":39,"../visual/faicon":68,"../visual/image":69,"./fluidview":35,lodash:8}],37:[function(t,e,i){var n=t("lodash"),o=t("./dataview"),s=(t("../helpers.js"),o.$extend({__init__:function(t){t=n.assign({containerElement:"ul",itemElement:"li",columnElement:"span"},t),this._addIdentifier("listview"),this._registerWEvents([]),this.$super(t)}}));e.exports=s},{"../helpers.js":39,"./dataview":34,lodash:8}],38:[function(t,e,i){var n=t("lodash"),o=(t("../widget"),t("../helpers.js"),t("./dataview").$extend({__init__:function(t){t=n.assign({containerElement:"table",itemElement:"tr",columnElement:"td",showHeader:!0},t),this._addIdentifier("tableview"),this._registerWEvents([]),this.$super(t)},getShowHeader:function(){return this.$data.showHeader},setShowHeader:function(t){this.$data.showHeader=t},_buildItemsHtml:function(){this.$super.apply(this,arguments),this.$data.showHeader&&this.__html.container.insertBefore(this._renderHeader(),this.__html.container.firstChild)},_renderHeader:function(){var i=document.createElement("tr");return this._addIdentifiersClasses(i,"header"),this.$data.columns&&this.$data.columns.forEach(function(t){var e=document.createElement("th");this._addIdentifiersClasses(e,"column"),e.textContent=void 0===t.label?t.id:t.label,i.appendChild(e)}.bind(this)),i}}));e.exports=o},{"../helpers.js":39,"../widget":76,"./dataview":34,lodash:8}],39:[function(t,e,i){var n=t("uuid"),o=function(){};o.escapeHtml=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},o.uuid4=function(){return o.log("warn","'photonui.Helpers.uuid4()' is deprecated. Use 'photonui.lib.uuid.v4()' instead."),n.v4()},o.cleanNode=function(t){for(;t.hasChildNodes();)t.removeChild(t.lastChild)},o.getAbsolutePosition=function(t){if("string"==typeof t&&(t=document.getElementById(t)),!(t instanceof Element))return{x:0,y:0};var e,i=t;try{e=getComputedStyle(t)}catch(t){return{x:0,y:0}}if(!e)return{x:0,y:0};for(var n=-parseInt(e.borderLeftWidth),o=-parseInt(e.borderTopWidth);t.offsetParent;)e=getComputedStyle(t),n+=t.offsetLeft||0,n+=parseInt(e.borderLeftWidth),o+=t.offsetTop||0,o+=parseInt(e.borderTopWidth),t=t.offsetParent;for(t=i;t.parentNode&&!(t instanceof HTMLBodyElement);)n-=t.scrollLeft||0,o-=t.scrollTop||0,t=t.parentNode;return{x:n,y:o}},o.numberToCssSize=function(t,e,i){return e=void 0===(i=void 0===i?"auto":i)?null:e,(t=void 0===t?e:t)===1/0?"100%":isNaN(parseFloat(t))?t!==e?o.numberToCssSize(e,e,i):i:Math.max(0,0|parseFloat(t))+"px"},o.log=function(t,e){try{if(!window.console)return;if(!window.console.log)return;window.console[t]||(t="log"),window.console[t]("PhotonUI: "+e)}catch(t){}},o.getClosest=function(t,e){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),i=e.length;0<=--i&&e.item(i)!==this;);return-1<i});t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},e.exports=o},{uuid:13}],40:[function(t,e,i){var n=t("../helpers.js"),o=t("../widget.js"),s=t("../visual/baseicon.js"),r=t("../visual/image.js"),a=o.$extend({__init__:function(t){this._registerWEvents(["click"]),this.$super(t),this._bindEvent("click",this.__html.button,"click",this.__onButtonClicked.bind(this)),this._update()},_text:"Button",getText:function(){"@photonui-update";return this._text},setText:function(t){this._text=t,n.cleanNode(this.__html.text),this.__html.text.appendChild(document.createTextNode(t))},_textVisible:!0,isTextVisible:function(){return this._textVisible},setTextVisible:function(t){this._textVisible=t,this._update()},_leftIconName:null,getLeftIconName:function(){"@photonui-update";return this._leftIconName},setLeftIconName:function(t){this._leftIconName=t,n.cleanNode(this.__html.leftIcon),this._leftIconName&&(this.__html.leftIcon.appendChild(this.leftIcon.html),this.leftIconVisible=!0)},getLeftIcon:function(){return o.getWidget(this._leftIconName)},setLeftIcon:function(t){this.leftIconName=t instanceof s||t instanceof r?t.name:null},_leftIconVisible:!0,isLeftIconVisible:function(){return this._leftIconVisible},setLeftIconVisible:function(t){this._leftIconVisible=t,this._update()},_rightIconName:null,getRightIconName:function(){"@photonui-update";return this._rightIconName},setRightIconName:function(t){this._rightIconName=t,n.cleanNode(this.__html.rightIcon),this._rightIconName&&(this.__html.rightIcon.appendChild(this.rightIcon.html),this.rightIconVisible=!0)},getRightIcon:function(){return o.getWidget(this._rightIconName)},setRightIcon:function(t){this.rightIconName=t instanceof s||t instanceof r?t.name:null},_rightIconVisible:!0,isRightIconVisible:function(){return this._rightIconVisible},setRightIconVisible:function(t){this._rightIconVisible=t,this._update()},_appearance:"normal",getAppearance:function(){return this._appearance},setAppearance:function(t){"flat"==(this._appearance=t)?this.addClass("photonui-button-appearance-flat"):this.removeClass("photonui-button-appearance-flat")},_buttonColor:null,getButtonColor:function(){return this._buttonColor},setButtonColor:function(t){this._buttonColor&&this.__html.button.classList.remove("photonui-button-color-"+this._buttonColor),(this._buttonColor=t)&&this.__html.button.classList.add("photonui-button-color-"+this._buttonColor)},getHtml:function(){return this.__html.button},_update:function(){this.__html.leftIcon.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.leftIcon),this.__html.text.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.text),this.__html.rightIcon.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.rightIcon),this.leftIconName&&this.leftIconVisible&&this.__html.button.appendChild(this.__html.leftIcon),this.text&&this.textVisible&&this.__html.button.appendChild(this.__html.text),this.rightIconName&&this.rightIconVisible&&this.__html.button.appendChild(this.__html.rightIcon)},_buildHtml:function(){this.__html.button=document.createElement("button"),this.__html.button.className="photonui-widget photonui-button",this.__html.leftIcon=document.createElement("span"),this.__html.leftIcon.className="photonui-button-icon",this.__html.button.appendChild(this.__html.leftIcon),this.__html.text=document.createElement("span"),this.__html.text.className="photonui-button-text",this.__html.button.appendChild(this.__html.text),this.__html.rightIcon=document.createElement("span"),this.__html.rightIcon.className="photonui-button-icon",this.__html.button.appendChild(this.__html.rightIcon)},__onButtonClicked:function(t){this._callCallbacks("click",[t])}});a._buttonMixin={_text:a.prototype._text,getText:a.prototype.getText,setText:a.prototype.setText,_textVisible:a.prototype._textVisible,isTextVisible:a.prototype.isTextVisible,setTextVisible:a.prototype.setTextVisible,_leftIconName:a.prototype._leftIconName,getLeftIconName:a.prototype.getLeftIconName,setLeftIconName:a.prototype.setLeftIconName,getLeftIcon:a.prototype.getLeftIcon,setLeftIcon:a.prototype.setLeftIcon,_leftIconVisible:a.prototype._leftIconVisible,isLeftIconVisible:a.prototype.isLeftIconVisible,setLeftIconVisible:a.prototype.setLeftIconVisible,_rightIconName:a.prototype._rightIconName,getRightIconName:a.prototype.getRightIconName,setRightIconName:a.prototype.setRightIconName,getRightIcon:a.prototype.getRightIcon,setRightIcon:a.prototype.setRightIcon,_rightIconVisible:a.prototype._rightIconVisible,isRightIconVisible:a.prototype.isRightIconVisible,setRightIconVisible:a.prototype.setRightIconVisible,_appearance:a.prototype._appearance,getAppearance:a.prototype.getAppearance,setAppearance:a.prototype.setAppearance,_buttonColor:a.prototype._buttonColor,getButtonColor:a.prototype.getButtonColor,setButtonColor:a.prototype.setButtonColor,_update:a.prototype._update,_buildButtonHtml:a.prototype._buildHtml,__onButtonClicked:a.prototype.__onButtonClicked},e.exports=a},{"../helpers.js":39,"../visual/baseicon.js":66,"../visual/image.js":69,"../widget.js":76}],41:[function(t,e,i){var n=t("../widget.js").$extend({__init__:function(t){this._registerWEvents(["value-changed","click"]),this.$super(t),this.inputId=this.name+"-input",this._bindEvent("value-changed",this.__html.checkbox,"change",this.__onChange.bind(this)),this._bindEvent("span-click",this.__html.span,"click",this.__onSpanClick.bind(this)),this._bindEvent("checkbox-click",this.__html.checkbox,"click",this.__onCheckboxClick.bind(this)),this._bindEvent("span-keypress",this.__html.span,"keypress",this.__onSpanKeypress.bind(this)),this.__html.checkbox.name=this.name,this.__html.checkbox.id=this.inputId},getValue:function(){return this.__html.checkbox.checked},setValue:function(t){this.__html.checkbox.checked=t},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget",this.__html.outer.className+=" photonui-checkbox",this.__html.outer.className+=" photonui-widget-fixed-width",this.__html.outer.className+=" photonui-widget-fixed-height",this.__html.checkbox=document.createElement("input"),this.__html.checkbox.type="checkbox",this.__html.outer.appendChild(this.__html.checkbox),this.__html.span=document.createElement("span"),this.__html.span.tabIndex="0",this.__html.outer.appendChild(this.__html.span)},__onChange:function(t){this._callCallbacks("value-changed",[this.value]),"none"==window.getComputedStyle(this.__html.checkbox).display&&this.__html.span.focus()},__onSpanClick:function(t){this.value=!this.value,this._callCallbacks("value-changed",[this.value]),this._callCallbacks("click",[t])},__onCheckboxClick:function(t){this._callCallbacks("click",[t])},__onSpanKeypress:function(t){32!=t.charCode&&13!=t.keyCode||(this.value=!this.value,this._callCallbacks("value-changed",[this.value]))}});e.exports=n},{"../widget.js":76}],42:[function(t,e,i){var s=t("../helpers.js"),n=t("../widget.js"),o=t("../nonvisual/color.js"),r=n.$extend({__init__:function(t){this._color=new o(r.palette[0][0]),this._registerWEvents(["value-changed"]),this.$super(t)},getValue:function(){"@photonui-update";return this.color.rgbHexString},setValue:function(t){this.color.fromString(t)},_color:null,getColor:function(){return this._color},setColor:function(t){t instanceof o&&(this._color=t)},_palette:null,getPalette:function(){"@photonui-update";return this._palette||r.palette},setPalette:function(t){var e,i,n,o;for((this._palette=t)||(t=r.palette),this.__html.palette.removeChild(this.__html.tbody),s.cleanNode(this.__html.tbody),o=0;o<t.length;o++){for(e=document.createElement("tr"),n=0;n<t[o].length;n++)(i=document.createElement("td")).style.backgroundColor=t[o][n],i.onclick=this.__onColorClicked.bind(this,t[o][n]),e.appendChild(i);this.__html.tbody.appendChild(e)}this.__html.palette.appendChild(this.__html.tbody)},getHtml:function(){return this.__html.palette},_buildHtml:function(){this.__html.palette=document.createElement("table"),this.__html.palette.className="photonui-widget photonui-colorpalette",this.__html.tbody=document.createElement("tbody"),this.__html.palette.appendChild(this.__html.tbody)},__onColorClicked:function(t,e){this.value=t,this._callCallbacks("value-changed",[this.color])}});r.palette=[["#000000","#424242","#676767","#989898","#C5C5C5","#FFFFFF"],["#E52131","#ED7130","#F0902C","#F0B922","#EDE118","#7DA638"],["#EA4852","#F08D52","#F3A752","#F9D246","#F0EC51","#A7CF41"],["#F19096","#F5BC93","#F9CB94","#F9E48A","#F2F08E","#C6DE84"],["#F8D1D6","#F9E2D2","#F9E8D3","#FDF8D2","#F9F9CF","#E7F1CD"],["#1E9E85","#2A7DB5","#2751A1","#6C3E98","#A33E97","#DF3795"],["#2FB8A3","#40A1D7","#4072B5","#8963AB","#B462A7","#E262A5"],["#88CEC3","#8CC9E9","#87A8D3","#D2A0C9","#D2A0C9","#EDA0C6"],["#CEEAE7","#CDE9F8","#CFDEEF","#EED9E9","#EED9E9","#F8D7E7"]],e.exports=r},{"../helpers.js":39,"../nonvisual/color.js":59,"../widget.js":76}],43:[function(t,e,i){t("../helpers.js");var n=t("../widget.js"),o=t("../nonvisual/color.js"),s=t("../nonvisual/mousemanager.js"),r=n.$extend({__init__:function(t){this._registerWEvents(["value-changed","value-changed-final"]),this._color=new o,this.__buffH=document.createElement("canvas"),this.__buffH.width=200,this.__buffH.height=200,this.__buffSB=document.createElement("canvas"),this.__buffSB.width=100,this.__buffSB.height=100,this.__buffSBmask=document.createElement("canvas"),this.__buffSBmask.width=100,this.__buffSBmask.height=100,this.$super(t),this._updateH(),this._updateSBmask(),this._updateSB(),this._updateCanvas(),this.__mouseManager=new s(this.__html.canvas),this.__mouseManager.registerCallback("click","mouse-move",this.__onMouseMove.bind(this)),this.__mouseManager.registerCallback("mouse-down","mouse-down",this.__onMouseDown.bind(this)),this.__mouseManager.registerCallback("mouse-up","mouse-up",this.__onMouseUp.bind(this)),this.__mouseManager.registerCallback("drag-start","drag-start",this.__onDragStart.bind(this)),this._bindEvent("value-changed",this.__html.preview,"change",this.__onValueChanged.bind(this))},getValue:function(){return this.color.rgbHexString},setValue:function(t){this.color.fromString(t),this._updateSB(),this._updateCanvas()},_color:null,getColor:function(){"@photonui-update";return this._color},setColor:function(t){t instanceof o&&(this._color&&this._color.removeCallback("photonui.colorpicker.value-changed::"+this.name),this._color=t,this._color.registerCallback("photonui.colorpicker.value-changed::"+this.name,"value-changed",function(){this._updateSB(),this._updateCanvas()}.bind(this)),this._updateSB(),this._updateCanvas())},getHtml:function(){return this.__html.outer},__buffH:null,__buffSB:null,__mouseManager:null,__disableSBUpdate:!1,destroy:function(){this.__mouseManager.destroy(),this._color.removeCallback("photonui.colorpicker.value-changed::"+this.name),this.$super()},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-colorpicker",this.__html.canvas=document.createElement("canvas"),this.__html.canvas.width=200,this.__html.canvas.height=200,this.__html.outer.appendChild(this.__html.canvas),this.__html.previewOuter=document.createElement("span"),this.__html.previewOuter.className="photonui-colorpicker-previewouter",this.__html.outer.appendChild(this.__html.previewOuter),this.__html.preview=document.createElement("input"),this.__html.preview.type="text",this.__html.preview.autocomplete="off",this.__html.preview.spellcheck=!1,this.__html.preview.className="photonui-colorpicker-preview",this.__html.previewOuter.appendChild(this.__html.preview)},_updateH:function(){var t=this.__buffH,e=t.getContext("2d"),i=new o;e.clearRect(0,0,t.width,t.height);for(var n=0;n<360;n++)i.hue=360-n,e.beginPath(),e.fillStyle=i.rgbHexString,e.arc(100,100,90,Math.PI*n/180,Math.PI*((n+2)%360)/180,!1),e.lineTo(100,100),e.fill();e.beginPath(),e.fillStyle="#000",e.arc(100,100,73,2*Math.PI,!1),e.globalCompositeOperation="destination-out",e.fill()},_updateSBmask:function(){var t=this.__buffSBmask,e=t.getContext("2d"),i=e.getImageData(0,0,t.width,t.height),n=0,o=0,s=0,r=0;for(s=0;s<100;s++)for(r=0;r<100;r++)n=400*s+4*r,o=(.5*(1-r/100)+.5)*(1-s/100)*255<<0,i.data[n+0]=o,i.data[n+1]=o,i.data[n+2]=o,i.data[n+3]=255*(1-r/100*(1-s/100))<<0;e.putImageData(i,0,0)},_updateSB:function(){if(!this.__disableSBUpdate){var t=this.__buffSB,e=t.getContext("2d"),i=new o({hue:this.color.hue,saturation:100,brightness:100});e.save(),e.clearRect(0,0,t.width,t.height),e.fillStyle=i.rgbHexString,e.rect(0,0,t.width,t.height),e.fill(),e.drawImage(this.__buffSBmask,0,0),e.restore()}},_updateCanvas:function(){var t=this.__html.canvas,e=t.getContext("2d");e.save(),e.clearRect(0,0,t.width,t.height),e.drawImage(this.__buffH,0,0),e.drawImage(this.__buffSB,50,50),e.strokeStyle="#fff",e.shadowColor="rgba(0, 0, 0, .7)",e.shadowBlur=3,e.lineWidth=2,e.beginPath(),e.arc(this.color.saturation+50,100-this.color.brightness+50,6,2*Math.PI,!1),e.stroke(),e.translate(100,100),e.rotate(-this.color.hue*Math.PI/180),e.beginPath(),e.arc(81,0,6,2*Math.PI,!1),e.stroke(),e.restore(),this.__html.preview.style.backgroundColor=this.color.cssRgbaString,this.__html.preview.value=this.color.rgbHexString},_pointerOnSquare:function(t){return 50<=t.x&&t.x<=150&&50<=t.y&&t.y<=150},_pointerOnCircle:function(t){var e=Math.abs(100-t.x),i=Math.abs(100-t.y),n=Math.sqrt(e*e+i*i);return 74<=n&&n<=90},_pointerAngle:function(t){var e=Math.abs(100-t.x),i=Math.abs(100-t.y),n=180*Math.atan(i/e)/Math.PI;return t.x<100&&t.y<100?n=180-n:t.x<100&&100<=t.y?n+=180:100<=t.x&&100<t.y&&(n=360-n),0|n},__onMouseMove:function(t,e){this._pointerOnSquare(e)||this._pointerOnCircle(e)?this.__html.canvas.style.cursor="crosshair":this.__html.canvas.style.cursor="default"},__onMouseDown:function(t,e){this._pointerOnSquare(e)?(this.__disableSBUpdate=!0,this.color.saturation=e.x-50,this.color.brightness=150-e.y,this.__disableSBUpdate=!1,this._callCallbacks("value-changed",this.color)):this._pointerOnCircle(e)&&(this.color.hue=this._pointerAngle(e),this._callCallbacks("value-changed",this.color))},__onMouseUp:function(t,e){this._callCallbacks("value-changed-final",this.color)},__onDragStart:function(t,e){this._pointerOnSquare(e)?(this.__disableSBUpdate=!0,this.__mouseManager.registerCallback("dragging","dragging",this.__onDraggingSquare.bind(this)),this.__mouseManager.registerCallback("drag-end","drag-end",this.__onDragEnd.bind(this))):this._pointerOnCircle(e)&&(this.__mouseManager.registerCallback("dragging","dragging",this.__onDraggingCircle.bind(this)),this.__mouseManager.registerCallback("drag-end","drag-end",this.__onDragEnd.bind(this)))},__onDraggingSquare:function(t,e){this.color.saturation=e.x-50,this.color.brightness=150-e.y,this._callCallbacks("value-changed",this.color)},__onDraggingCircle:function(t,e){this.color.hue=this._pointerAngle(e),this._callCallbacks("value-changed",this.color)},__onDragEnd:function(t,e){this.__mouseManager.removeCallback("dragging"),this.__mouseManager.removeCallback("drag-end"),this.__disableSBUpdate=!1},__onValueChanged:function(){this.color.fromString(this.__html.preview.value),this.__html.preview.value=this.color.rgbHexString,this._callCallbacks("value-changed",this.color)}});e.exports=r},{"../helpers.js":39,"../nonvisual/color.js":59,"../nonvisual/mousemanager.js":62,"../widget.js":76}],44:[function(t,e,i){var n=t("lodash"),o=t("../widget.js").$extend({__init__:function(t){this._registerWEvents(["value-changed","value-changed-final","keydown","keyup","keypress","selection-changed"]),this.$super(t),this.__html.field.name=this.name,this.__debValueChangedFinal=n.debounce(this.__forValueChangedFinal,250)},getValue:function(){"@photonui-update";return this.__html.field.value},setValue:function(t){this.__html.field.value=t},_placeholder:"",getPlaceholder:function(){"@photonui-update";return this._placeholder},setPlaceholder:function(t){this._placeholder=t,this.__html.field.placeholder=t},getHtml:function(){return this.__html.field},_bindFieldEvents:function(){this._bindEvent("value-changed",this.__html.field,"change",function(t){this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()}.bind(this)),this._bindEvent("keydown",this.__html.field,"keydown",function(t){this._callCallbacks("keydown",[t])}.bind(this)),this._bindEvent("keyup",this.__html.field,"keyup",function(t){this._callCallbacks("keyup",[t])}.bind(this)),this._bindEvent("keypress",this.__html.field,"keypress",function(t){this._callCallbacks("keypress",[t])}.bind(this)),this._bindEvent("selection-changed",this.__html.field,"select",function(t){this._callCallbacks("selection-changed",[this.__html.field.selectionStart,this.__html.field.selectionEnd,String(this.getValue()).substring(this.__html.field.selectionStart,this.__html.field.selectionEnd),t])}.bind(this))},__onContextMenu:function(t){t.stopPropagation()},__forValueChangedFinal:function(){this._callCallbacks("value-changed-final",[this.value])},__debValueChangedFinal:null});e.exports=o},{"../widget.js":76,lodash:8}],45:[function(t,e,i){var n=t("../widget.js"),o=t("../visual/baseicon.js"),s=t("../helpers.js"),r=t("../visual/image.js"),a=n.$extend({__init__:function(t){this._registerWEvents(["click"]),this.$super(t),this._bindEvent("click",this.__html.div,"click",this.__onButtonClicked.bind(this))},_width:16,getWidth:function(){"@photonui-update";return this._width},setWidth:function(t){this._width=t,this.html.style.width=t+"px",this.html.style.minWidth=t+"px",this.html.style.maxWidth=t+"px"},_height:16,getHeight:function(){"@photonui-update";return this._height},setHeight:function(t){this._height=t,this.html.style.height=t+"px",this.html.style.minHeight=t+"px",this.html.style.maxHeight=t+"px",this.html.style.lineHeight=t+"px"},_iconName:null,getIconName:function(){return this._iconName},setIconName:function(t){this._iconName=t,s.cleanNode(this.__html.div),this._iconName&&(this.__html.div.appendChild(this.icon.html),this.iconVisible=!0)},getIcon:function(){return n.getWidget(this._iconName)},setIcon:function(t){this.iconName=t instanceof o||t instanceof r?t.name:null},getHtml:function(){return this.__html.div},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-iconbutton",this.__html.div.className+=" photonui-widget-fixed-width photonui-widget-fixed-height",this.__html.div.tabIndex="0"},__onButtonClicked:function(t){this._callCallbacks("click",[t])}});e.exports=a},{"../helpers.js":39,"../visual/baseicon.js":66,"../visual/image.js":69,"../widget.js":76}],46:[function(t,e,i){var n=t("./field.js").$extend({__init__:function(t){this.$super(t),this._bindFieldEvents(),this._unbindEvent("value-changed"),this._bindEvent("keypress",this.__html.field,"keypress",this.__onKeypress.bind(this)),this._bindEvent("keyup",this.__html.field,"keyup",this.__onKeyup.bind(this)),this._bindEvent("keydown",this.__html.field,"keydown",this.__onKeydown.bind(this)),this._bindEvent("change",this.__html.field,"change",this.__onChange.bind(this)),this._bindEvent("mousewheel",this.__html.field,"mousewheel",this.__onMouseWheel.bind(this)),this._bindEvent("mousewheel-firefox",this.__html.field,"DOMMouseScroll",this.__onMouseWheel.bind(this))},_min:null,getMin:function(){return this._min},setMin:function(t){"@photonui-update";this._min=t,this._updateValue(this.value),this._updateFieldValue()},_max:null,getMax:function(){return this._max},setMax:function(t){"@photonui-update";this._max=t,this._updateValue(this.value),this._updateFieldValue()},_step:1,getStep:function(){return this._step},setStep:function(t){this._step=Math.abs(t)},_decimalDigits:null,getDecimalDigits:function(){"@photonui-update";return this._decimalDigits},setDecimalDigits:function(t){this._decimalDigits=t,this._updateValue(this.value),this._updateFieldValue()},_decimalSymbol:".",getDecimalSymbol:function(){"@photonui-update";return this._decimalSymbol},setDecimalSymbol:function(t){this._decimalSymbol=t,this._updateValue(this.value),this._updateFieldValue()},_value:0,getValue:function(){"@photonui-update";return parseFloat(this._value)},setValue:function(t){this._updateValue(t),this._updateFieldValue()},_updateValue:function(t){t=(t=String(t).replace(",",".")).replace(/ /g,""),t=parseFloat(t),isNaN(t)&&(t=0),null!==this.min&&(t=Math.max(this.min,t)),null!==this.max&&(t=Math.min(this.max,t)),null!==this.decimalDigits&&(t=t.toFixed(this.decimalDigits)),this._value=t},_updateFieldValue:function(){this.__html.field.value=String(this._value).replace(".",this.decimalSymbol)},_validateInput:function(t){return t=(t=String(t)).replace(/ /g,""),!!/^-?[0-9]*(\.|,)?[0-9]*$/.test(t)&&(!(0===this.decimalDigits&&!/^-?[0-9]*$/.test(t))&&!(null!==this.min&&0<=this.min&&"-"==t[0]))},_buildHtml:function(){this.__html.field=document.createElement("input"),this.__html.field.className="photonui-widget photonui-field photonui-numericfield",this.__html.field.type="text"},__onKeypress:function(t){if(!t.ctrlKey&&"ArrowLeft"!=t.key&&"ArrowRight"!=t.key&&"Backspace"!=t.key&&"Delete"!=t.key)if(13==t.keyCode)this._updateFieldValue(),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal();else{var e=this.__html.field,i=e.value.slice(0,e.selectionStart)+String.fromCharCode(t.charCode)+e.value.slice(e.selectionEnd);this._validateInput(i)||t.preventDefault()}},__onKeyup:function(t){var e=this.__html.field.value.replace(/[^0-9.,-]*/g,"");e!=this.__html.field.value&&(this.__html.field.value=e),this._updateValue(this.__html.field.value)},__onChange:function(t){this._updateFieldValue(),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()},__onMouseWheel:function(t){if(document.activeElement==this.__html.field){var e=null;void 0!==t.wheelDeltaY&&(e=t.wheelDeltaY),void 0!==t.wheelDelta&&(e=t.wheelDelta),void 0!==t.axis&&void 0!==t.detail&&2==t.axis&&(e=-t.detail),null!==e&&(0<=e?this.value+=this.step:this.value-=this.step,t.preventDefault()),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()}},__onKeydown:function(t){38==t.keyCode?(this.value+=this.step,t.preventDefault(),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()):40==t.keyCode&&(this.value-=this.step,t.preventDefault(),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal())}});e.exports=n},{"./field.js":44}],47:[function(t,e,i){var r=t("../helpers.js"),n=t("./numericfield.js").$extend({__init__:function(t){this.$super(t),t&&void 0===t.decimalDigits&&(this.decimalDigits=0),t&&void 0===t.min&&(this.min=0),t&&void 0===t.max&&(this.max=100),this.inputId=this.name+"-field",this.__html.field.id=this.inputId,this._bindEvent("slider-mousedown",this.__html.slider,"mousedown",this.__onSliderMouseDown.bind(this)),this._bindEvent("slider-touchstart",this.__html.slider,"touchstart",this.__onSliderTouchStart.bind(this)),this._bindEvent("slider-keydown",this.__html.slider,"keydown",this.__onSliderKeyDown.bind(this)),this._bindEvent("slider-mousewheel",this.__html.slider,"mousewheel",this.__onSliderMouseWheel.bind(this)),this._bindEvent("slider-mousewheel-firefox",this.__html.slider,"DOMMouseScroll",this.__onSliderMouseWheel.bind(this)),this._bindEvent("field-contextmenu",this.__html.field,"contextmenu",this.__onFieldContextMenu.bind(this))},_fieldVisible:!0,isFieldVisible:function(){"@photonui-update";return this._fieldVisible},setFieldVisible:function(t){(this._fieldVisible=t)?(this.__html.field.style.display="",this.removeClass("photonui-slider-nofield")):(this.__html.field.style.display="none",this.addClass("photonui-slider-nofield"))},getHtml:function(){return this.__html.outer},_updateFieldValue:function(){this.$super();var t=this.value-this.min,e=this.max-this.min,i=Math.min(Math.max(t/e,0),1);this.__html.grip.style.left=Math.floor(100*i)+"%",this.__html.grip.style.transform="translateX("+-100*i+"%)"},_buildHtml:function(){this.$super(),this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-slider photonui-widget-fixed-height",this.__html.slider=document.createElement("div"),this.__html.slider.className="photonui-slider-slider",this.__html.slider.tabIndex=0,this.__html.outer.appendChild(this.__html.slider),this.__html.grip=document.createElement("div"),this.__html.grip.className="photonui-slider-grip",this.__html.slider.appendChild(this.__html.grip),this.__html.outer.appendChild(this.__html.field)},_updateFromMouseEvent:function(t){if(void 0!==t.pageX){var e=r.getAbsolutePosition(this.__html.slider).x,i=this.__html.grip.offsetWidth,n=Math.round(t.pageX-e-i/2),o=this.__html.slider.offsetWidth-i-3,s=(this.max-this.min)*n/o+this.min;this.value=Math.round(s/this.step)*this.step,this._callCallbacks("value-changed",[this.value])}},__onSliderMouseDown:function(t){this._updateFromMouseEvent(t),this._bindEvent("slider-mousemove",document,"mousemove",this.__onSliderMouseMove.bind(this)),this._bindEvent("slider-mouseup",document,"mouseup",this.__onSliderMouseUp.bind(this))},__onSliderMouseMove:function(t){this._updateFromMouseEvent(t)},__onSliderMouseUp:function(t){this._unbindEvent("slider-mousemove"),this._unbindEvent("slider-mouseup"),this._updateFromMouseEvent(t),this.__debValueChangedFinal()},__onSliderTouchStart:function(t){this._updateFromMouseEvent(this.__getTouchEvent(t)),this._bindEvent("slider-touchmove",document,"touchmove",this.__onSliderTouchMove.bind(this)),this._bindEvent("slider-touchend",document,"touchend",this.__onSliderTouchEnd.bind(this)),this._bindEvent("slider-touchcancel",document,"touchcancel",this.__onSliderTouchEnd.bind(this))},__onSliderTouchMove:function(t){this._updateFromMouseEvent(this.__getTouchEvent(t))},__onSliderTouchEnd:function(t){this._unbindEvent("slider-touchmove"),this._unbindEvent("slider-touchend"),this._unbindEvent("slider-touchcancel"),this.__debValueChangedFinal()},__getTouchEvent:function(t){if(t.touches&&t.touches.length){t.preventDefault();var e=t.touches[0];e.pageX=e.pageX||e.clientX,e.pageY=e.pageX||e.clientY;var i=r.getAbsolutePosition(t.target);return e.offsetX=e.offsetX||e.pageX-i.x,e.offsetY=e.offsetY||e.pageY-i.y,e}return t},__onSliderKeyDown:function(t){38==t.keyCode||39==t.keyCode?(t.preventDefault(),t.stopPropagation(),this.value+=this.step,this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()):40!=t.keyCode&&37!=t.keyCode||(t.preventDefault(),t.stopPropagation(),this.value-=this.step,this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal())},__onSliderMouseWheel:function(t){var e=null;void 0!==t.wheelDeltaY&&(e=t.wheelDeltaY),void 0!==t.wheelDelta&&(e=t.wheelDelta),void 0!==t.axis&&void 0!==t.detail&&2==t.axis&&(e=-t.detail),null!==e&&(0<=e?this.value+=this.step:this.value-=this.step,t.preventDefault(),t.stopPropagation()),this._callCallbacks("value-changed",[this.value]),this.__debValueChangedFinal()},__onContextMenu:function(t){t.stopPropagation(),t.preventDefault(),this.contextMenuName&&this.contextMenu.popupXY(t.pageX,t.pageY)},__onFieldContextMenu:function(t){t.stopPropagation()}});e.exports=n},{"../helpers.js":39,"./numericfield.js":46}],48:[function(t,e,i){var n=t("./checkbox.js").$extend({__init__:function(t){this.$super(t),this.removeClass("photonui-checkbox"),this.addClass("photonui-switch")}});e.exports=n},{"./checkbox.js":41}],49:[function(t,e,i){var n=t("./field.js").$extend({__init__:function(t){this.$super(t),this._bindFieldEvents()},getCols:function(){return parseInt(this.__html.field.cols)},setCols:function(t){this.__html.field.cols=t},getRows:function(){return parseInt(this.__html.field.rows)},setRows:function(t){this.__html.field.rows=t},_buildHtml:function(){this.__html.field=document.createElement("textarea"),this.__html.field.className="photonui-widget photonui-field photonui-textareafield",this.__html.field.cols=20,this.__html.field.rows=3}});e.exports=n},{"./field.js":44}],50:[function(t,e,i){var n=t("./field.js").$extend({__init__:function(t){this.$super(t),this._bindFieldEvents()},getType:function(){return this.__html.field.type},setType:function(t){if("text"!=t&&"password"!=t&&"email"!=t&&"search"!=t&&"tel"!=t&&"url"!=t)throw new Error('The type should be "text", "password", "email", "search", "tel" or "url".');this.__html.field.type=t},_buildHtml:function(){this.__html.field=document.createElement("input"),this.__html.field.className="photonui-widget photonui-field photonui-textfield",this.__html.field.type="text"}});e.exports=n},{"./field.js":44}],51:[function(t,e,i){var n=t("./checkbox.js"),o=t("./button.js"),s=n.$extend({__init__:function(t){this.$super(t),this.__buttonInit(),this.removeClass("photonui-checkbox"),this.addClass("photonui-togglebutton"),this.removeClass("photonui-widget-fixed-height"),this.removeClass("photonui-widget-fixed-width")},__buttonInit:function(){this._update()},__include__:[o._buttonMixin],_buildHtml:function(){this.$super(),this._buildButtonHtml(),this.__html.outer.appendChild(this.__html.button),this.__html.outer.removeChild(this.__html.span),this.__html.span=this.__html.button}});e.exports=s},{"./button.js":40,"./checkbox.js":41}],52:[function(t,e,i){var s=t("../helpers.js"),n=t("./layout.js").$extend({__init__:function(t){this.$super(t)},_orientation:"vertical",getOrientation:function(){"@photonui-update";return this._orientation},setOrientation:function(t){if("vertical"!=t&&"horizontal"!=t)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=t,this.removeClass("photonui-layout-orientation-vertical"),this.removeClass("photonui-layout-orientation-horizontal"),this.addClass("photonui-layout-orientation-"+this.orientation),this.spacing=this.spacing},_verticalPadding:0,getVerticalPadding:function(){return this._verticalPadding},setVerticalPadding:function(t){this._verticalPadding=0|t,this.__html.outerbox.style.paddingLeft=this._verticalPadding+"px",this.__html.outerbox.style.paddingRight=this._verticalPadding+"px"},_horizontalPadding:0,getHorizontalPadding:function(){return this._horizontalPadding},setHorizontalPadding:function(t){this._horizontalPadding=0|t,this.__html.outerbox.style.paddingTop=this._horizontalPadding+"px",this.__html.outerbox.style.paddingBottom=this._horizontalPadding+"px"},_spacing:5,getSpacing:function(){return this._spacing},setSpacing:function(t){this._spacing=0|t;for(var e,i,n=this.children,o=this.__html.outerbox.childNodes,s=0,r=0;r<o.length;r++)i=e=0,n[s]&&n[s].layoutOptions&&n[s].layoutOptions.order&&(e=0|n[s].layoutOptions.order),n[r]&&n[r].layoutOptions&&n[r].layoutOptions.order&&(i=0|n[r].layoutOptions.order),e<=i&&(s=r),"horizontal"==this.orientation?(o[r].style.marginRight=this._spacing+"px",o[r].style.marginBottom=""):(o[r].style.marginRight="",o[r].style.marginBottom=this._spacing+"px");0<o.length&&(o[s].style.marginRight="",o[s].style.marginBottom="")},_stretchToParentHeight:!0,getStretchToParentHeight:function(){"@photonui-update";return this._stretchToParentHeight},setStretchToParentHeight:function(t){this._stretchToParentHeight=t,this._stretchToParentHeight?this.__html.outerbox.style.height="100%":this.__html.outerbox.style.height=""},getHtml:function(){return this.__html.outerbox},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-boxlayout"},_updateLayout:function(){s.cleanNode(this.__html.outerbox);for(var t=document.createDocumentFragment(),e=this.children,i=null,n=0;n<e.length;n++){var o=this._computeLayoutOptions(e[n]);(i=document.createElement("div")).className="photonui-container photonui-boxlayout-item",i.className+=" photonui-layout-align-"+o.align,null!==o.order&&(i.style.order=o.order),null!==o.minWidth&&(i.style.minWidth=o.minWidth+"px"),null!==o.maxWidth&&(i.style.maxWidth=o.maxWidth+"px"),null!==o.width&&(i.style.width=o.width+"px"),null!==o.minHeight&&(i.style.minHeight=o.minHeight+"px"),null!==o.maxHeight&&(i.style.maxHeight=o.maxHeight+"px"),null!==o.height&&(i.style.height=o.height+"px"),i.appendChild(e[n].html),t.appendChild(i)}this.__html.outerbox.appendChild(t),this.spacing=this.spacing},_computeLayoutOptions:function(t){var e=t.layoutOptions||{},i={align:"stretch",minWidth:null,maxWidth:null,width:null,minHeight:null,maxHeight:null,height:null,order:null};return-1<["stretch","expand"].indexOf(e.align)?i.align="stretch":-1<["center","middle"].indexOf(e.align)?i.align="center":-1<["start","begin","top","left"].indexOf(e.align)?i.align="start":-1<["end","bottom","right"].indexOf(e.align)&&(i.align="end"),void 0!==e.order&&null!==e.order&&(i.order=0|e.order),void 0!==e.minWidth&&null!==e.minWidth&&(i.minWidth=0|e.minWidth),void 0!==e.maxWidth&&null!==e.maxWidth&&(i.maxWidth=0|e.maxWidth),void 0!==e.width&&null!==e.width&&(i.width=0|e.width,i.minWidth=0|e.width,i.maxWidth=0|e.width),void 0!==e.minHeight&&null!==e.minHeight&&(i.minHeight=0|e.minHeight),void 0!==e.maxHeight&&null!==e.maxHeight&&(i.maxHeight=0|e.maxHeight),void 0!==e.height&&null!==e.height&&(i.height=0|e.height,i.minHeight=0|e.height,i.maxHeight=0|e.height),i}});e.exports=n},{"../helpers.js":39,"./layout.js":55}],53:[function(t,e,i){var r=t("../helpers.js"),n=t("./layout.js").$extend({_verticalSpacing:0,getVerticalSpacing:function(){return this._verticalSpacing},setVerticalSpacing:function(t){this._verticalSpacing=t,this._updateLayout()},_horizontalSpacing:0,getHorizontalSpacing:function(){return this._horizontalSpacing},setHorizontalSpacing:function(t){this._horizontalSpacing=t,this._updateLayout()},_verticalPadding:0,getVerticalPadding:function(){return this._verticalPadding},setVerticalPadding:function(t){this._verticalPadding=0|t,this.__html.innerbox.style.paddingLeft=this._verticalPadding+"px",this.__html.innerbox.style.paddingRight=this._verticalPadding+"px"},_horizontalPadding:0,getHorizontalPadding:function(){return this._horizontalPadding},setHorizontalPadding:function(t){this._horizontalPadding=0|t,this.__html.innerbox.style.paddingTop=this._horizontalPadding+"px",this.__html.innerbox.style.paddingBottom=this._horizontalPadding+"px"},_verticalAlign:"start",getVerticalAlign:function(){return this._verticalAlign},setVerticalAlign:function(t){-1<["start","top","begin"].indexOf(t)?(this._verticalAlign="start",this.__html.innerbox.style.alignContent="flex-start"):-1<["center","middle"].indexOf(t)?(this._verticalAlign="center",this.__html.innerbox.style.alignContent="center"):-1<["end","bottom"].indexOf(t)&&(this._verticalAlign="end",this.__html.innerbox.style.alignContent="flex-end")},_horizontalAlign:"start",getHorizontalAlign:function(){return this._horizontalAlign},setHorizontalAlign:function(t){-1<["start","left","begin"].indexOf(t)?(this._horizontalAlign="start",this.__html.innerbox.style.justifyContent="flex-start"):-1<["center","middle"].indexOf(t)?(this._horizontalAlign="center",this.__html.innerbox.style.justifyContent="center"):-1<["end","right"].indexOf(t)&&(this._horizontalAlign="end",this.__html.innerbox.style.justifyContent="flex-end")},getHtml:function(){return this.__html.outerbox},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-fluidlayout",this.__html.innerbox=document.createElement("div"),this.__html.innerbox.className="photonui-fluidlayout-innerbox",this.__html.outerbox.appendChild(this.__html.innerbox)},_updateLayout:function(){var t=this.children,e=document.createDocumentFragment();this.__html.innerbox.style.marginTop=0<this.verticalSpacing?-this.verticalSpacing+"px":"0px",this.__html.innerbox.style.marginLeft=0<this.horizontalSpacing?-this.horizontalSpacing+"px":"0px";var i=0<this.horizontalSpacing?this.horizontalSpacing+"px":"0px";this.__html.innerbox.style.width="calc(100% + "+i+")";for(var n=null,o=0;o<t.length;o++){var s=this._computeLayoutOptions(t[o]);(n=document.createElement("div")).className="photonui-container",n.style.marginTop=this.verticalSpacing+"px",n.style.marginLeft=this.horizontalSpacing+"px",n.className+=" photonui-layout-align-"+s.align,null!==s.minWidth&&(n.style.minWidth=s.minWidth+"px"),null!==s.maxWidth&&(n.style.maxWidth=s.maxWidth+"px"),null!==s.width&&(n.style.width=s.width+"px"),null!==s.minHeight&&(n.style.minHeight=s.minHeight+"px"),null!==s.maxHeight&&(n.style.maxHeight=s.maxHeight+"px"),null!==s.height&&(n.style.height=s.height+"px"),null!==s.order&&(n.style.order=s.order),n.appendChild(t[o].html),e.appendChild(n)}r.cleanNode(this.__html.innerbox),this.__html.innerbox.appendChild(e)},_computeLayoutOptions:function(t){var e=t.layoutOptions||{},i={order:null,align:"center",minWidth:null,maxWidth:null,width:null,minHeight:null,maxHeight:null,height:null};return void 0!==e.order&&(i.order=0|e.order),e.align&&(-1<["stretch","expand"].indexOf(e.align)?i.align="stretch":-1<["center","middle"].indexOf(e.align)?i.align="center":-1<["start","begin","top"].indexOf(e.align)?i.align="start":-1<["end","bottom"].indexOf(e.align)&&(i.align="end")),void 0!==e.minWidth&&null!==e.minWidth&&(i.minWidth=0|e.minWidth),void 0!==e.maxWidth&&null!==e.maxWidth&&(i.maxWidth=0|e.maxWidth),void 0!==e.width&&null!==e.width&&(i.width=0|e.width,i.minWidth=0|e.width,i.maxWidth=0|e.width),void 0!==e.minHeight&&null!==e.minHeight&&(i.minHeight=0|e.minHeight),void 0!==e.maxHeight&&null!==e.maxHeight&&(i.maxHeight=0|e.maxHeight),void 0!==e.height&&null!==e.height&&(i.height=0|e.height,i.minHeight=0|e.height,i.maxHeight=0|e.height),i}});e.exports=n},{"../helpers.js":39,"./layout.js":55}],54:[function(t,e,i){var x=t("../helpers.js"),n=t("./layout.js"),o=null,s=n.$extend({__init__:function(t){this.$super(t),window.MutationObserver&&(this.__sizinghack_observer=new MutationObserver(this._sizingHack.bind(this)),this.__sizinghack_observer_params={attributes:!0,childList:!0,characterData:!0,subtree:!0},this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params),this._updateLayout())},_verticalPadding:0,getVerticalPadding:function(){return this._verticalPadding},setVerticalPadding:function(t){this._verticalPadding=0|t,this._updatingLayout=!0,this.__html.outerbox.style.paddingLeft=this._verticalPadding+"px",this.__html.outerbox.style.paddingRight=this._verticalPadding+"px",this._updatingLayout=!1,this._sizingHack()},_horizontalPadding:0,getHorizontalPadding:function(){return this._horizontalPadding},setHorizontalPadding:function(t){this._horizontalPadding=0|t,this._updatingLayout=!0,this.__html.outerbox.style.paddingTop=this._horizontalPadding+"px",this.__html.outerbox.style.paddingBottom=this._horizontalPadding+"px",this._updatingLayout=!1,this._sizingHack()},_verticalSpacing:5,getVerticalSpacing:function(){"@photonui-update";return this._verticalSpacing},setVerticalSpacing:function(t){this._verticalSpacing=t,this._updateLayout()},_horizontalSpacing:5,getHorizontalSpacing:function(){return this._horizontalSpacing},setHorizontalSpacing:function(t){this._horizontalSpacing=t,this._updateLayout()},getHtml:function(){return this.__html.outerbox},_updatingLayout:!1,_visibilityChanged:function(t){(t=void 0!==t?t:this.visible)&&this._sizingHack(),this.$super(t)},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-gridlayout",this.__html.grid=document.createElement("table"),this.__html.outerbox.appendChild(this.__html.grid),this.__html.gridBody=document.createElement("tbody"),this.__html.grid.appendChild(this.__html.gridBody)},_updateLayout:function(){this._updatingLayout=!0,this.__sizinghack_observer&&this.__sizinghack_observer.disconnect();for(var t,o=this.children,e=1/0,i=1/0,n=-1/0,s=-1/0,r=0;r<o.length;r++)t=this._computeLayoutOptions(o[r]),e=Math.min(t.x,e),i=Math.min(t.y,i),n=Math.max(t.x,n),s=Math.max(t.y,s),n=Math.max(t.x+t.cols-1,n),s=Math.max(t.y+t.rows-1,s);var a=n-e+1,l=s-i+1;this.__html.grid.removeChild(this.__html.gridBody),x.cleanNode(this.__html.gridBody);var h=this;function u(t,e){for(var i,n=0;n<o.length;n++)if((i=h._computeLayoutOptions(o[n])).x==t&&i.y==e)return{w:o[n],o:i};return null}for(var c,d,_,f,p,m,g=[],v=0;v<l;v++)g[v]=[],g[v].length=a;for(v=0;v<l;v++){d=document.createElement("tr");for(var b=0;b<a;b++)if(!g[v][b]&&((_=document.createElement("td")).className="photonui-gridlayout-cell",(f=document.createElement("div")).className="photonui-container photonui-gridlayout-wrapper",_.appendChild(f),d.appendChild(_),c=u(b+e,v+i))){f.appendChild(c.w.html);var y=this.horizontalSpacing,w=this.verticalSpacing;if(b+c.o.cols>=a&&(_.className+=" photonui-gridlayout-lastcol",w=0),v+c.o.rows>=l&&(_.className+=" photonui-gridlayout-lastrow",y=0),_.className+=" photonui-layout-verticalalign-"+c.o.verticalAlign,_.className+=" photonui-layout-horizontalalign-"+c.o.horizontalAlign,null!==c.o.minWidth&&(f.style.minWidth=c.o.minWidth+"px",_.style.minWidth=c.o.minWidth+w+"px"),null!==c.o.maxWidth&&(f.style.maxWidth=c.o.maxWidth+"px",_.style.maxWidth=c.o.maxWidth+w+"px"),null!==c.o.width&&(f.style.width=c.o.width+"px",_.style.width=c.o.width+w+"px"),null!==c.o.minHeight&&(f.style.minHeight=c.o.minHeight+"px",_.style.minHeight=c.o.minHeight+y+"px"),null!==c.o.maxHeight&&(f.style.maxHeight=c.o.maxHeight+"px",_.style.maxHeight=c.o.maxHeight+y+"px"),null!==c.o.height&&(f.style.height=c.o.height+"px",_.style.height=c.o.height+y+"px"),1<c.o.cols||1<c.o.rows)for(_.colSpan=c.o.cols,_.rowSpan=c.o.rows,m=v;m<v+c.o.rows;m++)for(p=b;p<b+c.o.cols;p++)g[m][p]=!0}this.__html.gridBody.appendChild(d)}this.__html.grid.appendChild(this.__html.gridBody),this._updateSpacing(),this._updatingLayout=!1,this.__sizinghack_observer&&this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params),this._sizingHack()},_computeLayoutOptions:function(t){var e=t.layoutOptions||{},i={x:0,y:0,cols:1,rows:1,verticalAlign:"stretch",horizontalAlign:"stretch",minWidth:null,maxWidth:null,width:null,minHeight:null,maxHeight:null,height:null};return t.html&&(t.html.classList.contains("photonui-widget-fixed-height")&&(i.verticalAlign="center"),t.html.classList.contains("photonui-widget-fixed-width")&&(i.horizontalAlign="center")),void 0!==e.gridX&&null!==e.gridX&&(i.x=0|e.gridX),void 0!==e.gridY&&null!==e.gridY&&(i.y=0|e.gridY),void 0!==e.gridWidth&&null!==e.gridWidth&&(i.cols=0|e.gridWidth),void 0!==e.gridHeight&&null!==e.gridHeight&&(i.rows=0|e.gridHeight),void 0!==e.x&&null!==e.x&&(i.x=0|e.x),void 0!==e.y&&null!==e.y&&(i.y=0|e.y),void 0!==e.cols&&null!==e.cols&&(i.cols=0|e.cols),void 0!==e.rows&&null!==e.rows&&(i.rows=0|e.rows),-1<["stretch","expand"].indexOf(e.verticalAlign)?i.verticalAlign="stretch":-1<["center","middle"].indexOf(e.verticalAlign)?i.verticalAlign="center":-1<["start","begin","top"].indexOf(e.verticalAlign)?i.verticalAlign="start":-1<["end","bottom"].indexOf(e.verticalAlign)&&(i.verticalAlign="end"),-1<["stretch","expand"].indexOf(e.horizontalAlign)?i.horizontalAlign="stretch":-1<["center","middle"].indexOf(e.horizontalAlign)?i.horizontalAlign="center":-1<["start","begin","left"].indexOf(e.horizontalAlign)?i.horizontalAlign="start":-1<["end","right"].indexOf(e.horizontalAlign)&&(i.horizontalAlign="end"),!0===e.verticalExpansion?i.verticalAlign="stretch":!1===e.verticalExpansion&&void 0===e.verticalAlign&&(i.verticalAlign="center"),!0===e.horizontalExpansion?i.horizontalAlign="stretch":!1===e.horizontalExpansion&&void 0===e.horizontalAlign&&(i.horizontalAlign="center"),void 0!==e.minWidth&&null!==e.minWidth&&(i.minWidth=0|e.minWidth),void 0!==e.maxWidth&&null!==e.maxWidth&&(i.maxWidth=0|e.maxWidth),void 0!==e.width&&null!==e.width&&(i.width=0|e.width,i.minWidth=0|e.width,i.maxWidth=0|e.width),void 0!==e.minHeight&&null!==e.minHeight&&(i.minHeight=0|e.minHeight),void 0!==e.maxHeight&&null!==e.maxHeight&&(i.maxHeight=0|e.maxHeight),void 0!==e.height&&null!==e.height&&(i.height=0|e.height,i.minHeight=0|e.height,i.maxHeight=0|e.height),i},_updateSpacing:function(){for(var t=this.__html.outerbox.querySelectorAll("#"+this.name+" > table > tbody > tr > td"),e=0;e<t.length;e++)t[e].style.paddingRight=this._verticalSpacing+"px",t[e].style.paddingBottom=this._horizontalSpacing+"px"},_sizingHack:function(){if(!this._updatingLayout&&!1!==o){if(null===o){var t=!1;if("WebkitAppearance"in document.documentElement.style&&(t=!0),"WebKitCSSMatrix"in window&&(t=!0),t)return void(o=!1);o=!0}this._updatingLayout=!0,this.__sizinghack_observer&&this.__sizinghack_observer.disconnect(),setTimeout(function(){function t(t){var e;e=t.style.minHeight&&t.style.minHeight==t.style.maxHeight?parseFloat(t.style.minHeight):(t.classList.contains("photonui-gridlayout-lastrow"),t.offsetHeight),t.style.height=e+"px"}for(var e=this.__html.outerbox.querySelectorAll("#"+this.name+" > table > tbody > tr > td"),i=0;i<e.length;i++)e[i].style.height="auto";for(i=0;i<e.length;i++)e[i].rowSpan&&1<e[i].rowSpan||t(e[i]);for(i=0;i<e.length;i++)!e[i].rowSpan||e[i].rowSpan<=1||t(e[i]);for(i=0;i<e.length;i++)e[i].style.borderBottom="transparent solid 1px",e[i].offsetHeight,e[i].style.borderBottom="transparent solid 0px";this._updatingLayout=!1,this.__sizinghack_observer&&this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params)}.bind(this),1)}}});e.exports=s},{"../helpers.js":39,"./layout.js":55}],55:[function(t,e,i){var n=t("../widget.js"),o=t("../container/container.js").$extend({__init__:function(t){this._childrenNames=[],this.$super(t);for(var e=this.children,i=0;i<e.length;i++)e[i]._parentName=this.name},_childrenNames:[],getChildrenNames:function(){return this._childrenNames},setChildrenNames:function(t){var e,i;for(e=0;e<this._childrenNames.length;e++){i=n.getWidget(this._childrenNames[e]),0<=this._childrenNames.indexOf(i.name)&&(i._parentName=null)}for(this._childrenNames=[],e=0;e<t.length;e++)(i=n.getWidget(t[e]))&&(i.parent&&i.unparent(),this._childrenNames.push(i.name),i._parentName=this.name);this._updateLayout()},getChildren:function(){for(var t,e=[],i=0;i<this._childrenNames.length;i++)(t=n.getWidget(this._childrenNames[i]))instanceof n&&e.push(t);return e},setChildren:function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof n&&e.push(t[i].name);this.childrenNames=e},getChildName:function(){return null},setChildName:function(t){this.childrenNames=[t]},getChild:function(){return null},setChild:function(t){this.children=[t]},addChild:function(t,e){t.parent&&t.unparent(),e&&(t.layoutOptions=e),this._childrenNames.push(t.name),t._parentName=this.name,this._updateLayout()},removeChild:function(t){var e=this._childrenNames.indexOf(t.name);0<=e&&(this._childrenNames.splice(e,1),t._parentName=null),this._updateLayout()},empty:function(){this._lockUpdate(!0);for(var t=this.children,e=0;e<t.length;e++)t[e]&&t[e].destroy();this._lockUpdate(!1)},destroy:function(){this.empty(),this.$super()},_lockUpdate:function(t){t?(this.__lockedUpdateLayout=this._updateLayout,this._updateLayout=function(){}):(this._updateLayout=this.__lockedUpdateLayout,delete this.__lockedUpdateLayout,this._updateLayout())},_updateLayout:function(){throw new Error("you should define the _updateLayout() method when you extend a layout widget.")},_visibilityChanged:function(t){t=void 0!==t?t:this.visible;for(var e=this.children,i=0;i<e.length;i++)e[i]instanceof n&&e[i]._visibilityChanged(t);this.$super(t)},__onLocaleChanged:function(){}});e.exports=o},{"../container/container.js":25,"../widget.js":76}],56:[function(t,e,i){var n=t("../helpers.js"),o=t("./layout.js").$extend({__init__:function(t){this.$super(t)},_iconVisible:!0,isIconVisible:function(){"@photonui-update";return this._iconVisible},setIconVisible:function(t){(this._iconVisible=t)?this.__html.outer.classList.remove("photonui-menu-noicon"):this.__html.outer.classList.add("photonui-menu-noicon")},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-menu photonui-menu-style-default"},_updateLayout:function(){n.cleanNode(this.__html.outer);for(var t=this.children,e=0;e<t.length;e++)this.__html.outer.appendChild(t[e].html)}});e.exports=o},{"../helpers.js":39,"./layout.js":55}],57:[function(t,e,i){var s=t("../helpers.js"),n=t("./layout.js"),r=t("../container/tabitem.js"),o=t("../widget.js"),a=n.$extend({__init__:function(t){this._registerWEvents([]),this.$super(t)},_tabsPosition:"top",getTabsPosition:function(){"@photonui-update";return this._tabsPosition},setTabsPosition:function(t){if(["top","bottom","left","right"].indexOf(t)<0)throw new Error('The tabs position should be "top", "bottom", "left" or "right".');this._tabsPosition=t,this.removeClass("photonui-tablayout-tabposition-top"),this.removeClass("photonui-tablayout-tabposition-bottom"),this.removeClass("photonui-tablayout-tabposition-left"),this.removeClass("photonui-tablayout-tabposition-right"),this.addClass("photonui-tablayout-tabposition-"+t)},getHtml:function(){return this.__html.outer},_activeTabName:null,getActiveTabName:function(){return this._activeTabName},setActiveTabName:function(t){var e=o.getWidget(t);if(e instanceof r)e.show();else if(!this._activeTab)for(var i=this.children,n=0;n<i.length;n++)if(i[n]instanceof r){i[n].show();break}},_padding:10,getPadding:function(){"@photonui-update";return this._padding},setPadding:function(t){this._padding=t,this.__html.content.style.padding=t+"px"},getActiveTab:function(){return o.getWidget(this.activeTabName)},setActiveTab:function(t){this.activeTabName=t instanceof o?t.name:null},setVisible:function(t){this.$super(t),this._activeTabName||(this.activeTabName=null)},addChild:function(t,e){this.$super(t,e),!this.activeTabName&&t instanceof r&&(this.activeTabName=t.name)},removeChild:function(t){this.$super(t),t===this.activeTab&&(this.activeTabName=null)},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-tablayout",this.__html.inner=document.createElement("div"),this.__html.inner.className="photonui-tablayout-innerbox",this.__html.outer.appendChild(this.__html.inner),this.__html.tabs=document.createElement("div"),this.__html.tabs.className="photonui-tablayout-tabs",this.__html.inner.appendChild(this.__html.tabs),this.__html.content=document.createElement("div"),this.__html.content.className="photonui-tablayout-content",this.__html.inner.appendChild(this.__html.content)},_updateLayout:function(){s.cleanNode(this.__html.tabs),s.cleanNode(this.__html.content);for(var t,e=this.children,i=document.createDocumentFragment(),n=document.createDocumentFragment(),o=0;o<e.length;o++)e[o]instanceof r&&(null!==(t=this._computeLayoutOptions(e[o])).order?e[o].tabHtml.style.order=t.order:e[o].tabHtml.style.order=0,i.appendChild(e[o].tabHtml),n.appendChild(e[o].html));this.__html.tabs.appendChild(i),this.__html.content.appendChild(n)},_computeLayoutOptions:function(t){var e=t.layoutOptions||{},i={order:null};return void 0!==e.order&&null!==e.order&&(i.order=0|e.order),i}});e.exports=a},{"../container/tabitem.js":31,"../helpers.js":39,"../widget.js":76,"./layout.js":55}],58:[function(t,e,i){var n=t("../base.js"),o=t("keyboardjs"),s=n.$extend({__init__:function(){this.__keys={},this.__kbd={},this.$super()},__keys:null,__kbd:null,addAccel:function(t,e,i,n){e=e.toLowerCase().replace(/ *\+ */," + ").replace(/ *, */,", ").replace(/ *> */," > "),this.removeAccel(t),this.__kbd[t]={keys:e,safe:void 0===n||n,callback:i},this.__keys[e]||(o.bind(e,this.__onAccel.bind(this,e)),this.__keys[e]=[]),this.__keys[e].push(t)},removeAccel:function(t){var e=this.__kbd[t];if(e){var i=this.__keys[e.keys];i.splice(i.indexOf(t),1),0===i.length&&(o.unbind(this.__kbd[t].keys),delete this.__keys[e.keys]),delete this.__kbd[t]}},destroy:function(){for(var t in this.__kbd)this.removeAccel(t);this.$super()},__onAccel:function(t,e){if(this.__keys[t])for(var i=0;i<this.__keys[t].length;++i){var n=this.__keys[t][i];this.__kbd[n].safe&&(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLSelectElement||document.activeElement instanceof HTMLTextAreaElement)||(this.__kbd[n].callback(),e.stopPropagation(),e.preventDefault())}}});e.exports=s},{"../base.js":18,keyboardjs:3}],59:[function(t,e,i){var o=t("lodash"),n=t("../base.js"),s=t("../helpers.js"),r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},a=n.$extend({__init__:function(t){this._registerWEvents(["value-changed"]),"object"!=typeof t||Array.isArray(t)?(this.$super(),"string"==typeof t?this.fromString(t):Array.isArray(t)?this.setRGBA(t):3<=arguments.length&&this.setRGBA.apply(this,arguments)):this.$super(t)},__classvars__:{NAMED_COLORS:r,ParseString:function(t){if(t.match(/^#([0-9a-f]{3}){1,2}$/i))return a.NormalizeRgbaColor.apply(void 0,a.ParseRgbHexString(t));if(t.match(/^#([0-9a-f]{4}){1,2}$/i))return a.ParseRgbaHexString(t);if(t.match(/^rgb\(.+\)$/))try{return a.NormalizeRgbaColor.apply(void 0,a.ParseCssRgbString(t))}catch(t){}if(t.match(/^rgba\(.+\)$/))try{return a.ParseCssRgbaString(t)}catch(t){}if(o.includes(o.keys(r),t.toLowerCase()))return a.NormalizeRgbaColor.apply(void 0,a.ParseNamedColor(t));throw new Error("InvalidColorFormat: '"+t+"' is not in a supported format")},ParseNamedColor:function(t){if(t=t.toLowerCase(),!r[t])throw new Error("InvalidColorFormat: '"+t+"' is not a supported named color");return o.clone(r[t])},ParseRgbHexString:function(t){if("#"!=t[0]&&(t="#"+t),t.match(/^#[a-z0-9]{6}$/i))return a.NormalizeRgbColor(parseInt(t[1]+t[2],16),parseInt(t[3]+t[4],16),parseInt(t[5]+t[6],16));if(t.match(/^#[a-z0-9]{3}$/i))return a.NormalizeRgbColor(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16));throw new Error("InvalidColorFormat: "+t+" is not a valid hexadecimal RGB color")},ParseRgbaHexString:function(t){if("#"!=t[0]&&(t="#"+t),t.match(/^#[a-z0-9]{8}$/i))return a.NormalizeRgbaColor(parseInt(t[1]+t[2],16),parseInt(t[3]+t[4],16),parseInt(t[5]+t[6],16),parseInt(t[7]+t[8],16));if(t.match(/^#[a-z0-9]{4}$/i))return a.NormalizeRgbaColor(parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),parseInt(t[4]+t[4],16));throw new Error("InvalidColorFormat: "+t+" is not a valid hexadecimal RGBA color")},ParseCssRgbString:function(t){var e=t.match(/^rgb\(\s*(-?[0-9]+)\s*,\s*(-?[0-9]+)\s*,\s*(-?[0-9]+)\s*\)$/);if(e)return a.NormalizeRgbColor(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10));if(e=t.match(/^rgb\(\s*(-?[0-9]+)%\s*,\s*(-?[0-9]+)%\s*,\s*(-?[0-9]+)%\s*\)$/))return a.NormalizeRgbColor(parseInt(e[1],10)/100*255,parseInt(e[2],10)/100*255,parseInt(e[3],10)/100*255);throw new Error("InvalidColorFormat: "+t+" is not a valid CSS RGB color")},ParseCssRgbaString:function(t){var e=t.match(/^rgba\(\s*(-?[0-9]+)\s*,\s*(-?[0-9]+)\s*,\s*(-?[0-9]+)\s*,\s*(-?[0-9]*\.?[0-9]+)\s*\)$/);if(e)return a.NormalizeRgbaColor(parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),255*parseFloat(e[4],10));if(e=t.match(/^rgba\(\s*(-?[0-9]+)%\s*,\s*(-?[0-9]+)%\s*,\s*(-?[0-9]+)%\s*,\s*(-?[0-9]*\.?[0-9]+)\s*\)$/))return a.NormalizeRgbaColor(parseInt(e[1],10)/100*255,parseInt(e[2],10)/100*255,parseInt(e[3],10)/100*255,255*parseFloat(e[4],10));throw new Error("InvalidColorFormat: "+t+" is not a valid CSS RGBA color")},FormatToRgbHexString:function(t,e,i){var n=(0|t).toString(16).toUpperCase();1==n.length&&(n="0"+n);var o=(0|e).toString(16).toUpperCase();1==o.length&&(o="0"+o);var s=(0|i).toString(16).toUpperCase();return 1==s.length&&(s="0"+s),"#"+n+o+s},FormatToRgbaHexString:function(t,e,i,n){var o=(0|n).toString(16).toUpperCase();return 1==o.length&&(o="0"+o),a.FormatToRgbHexString(t,e,i)+o},FormatToCssRgbString:function(t,e,i){return"rgb("+t+", "+e+", "+i+")"},FormatToCssRgbaString:function(t,e,i,n){return"rgba("+t+", "+e+", "+i+", "+(n/255).toFixed(2)+")"},NormalizeRgbColor:function(t,e,i){return[o.clamp(0|t,0,255),o.clamp(0|e,0,255),o.clamp(0|i,0,255)]},NormalizeRgbaColor:function(t,e,i,n){return void 0===n&&(n=255),[o.clamp(0|t,0,255),o.clamp(0|e,0,255),o.clamp(0|i,0,255),o.clamp(0|n,0,255)]}},getHexString:function(){return s.log("warn","'hexString' is deprecated, use 'rgbHexString' instead"),this.rgbHexString},setHexString:function(t){s.log("warn","'hexString' is deprecated, use 'fromString()' method instead");var e=null;if("string"==typeof t)if(t.match(/^#([0-9a-f]{3}){1,2}$/i))e=this.$class.ParseRgbHexString(t);else try{e=this.$class.ParseNamedColor(t)}catch(t){}else o.isArray(t)&&(e=t);e?this.setRGB(e):s.log("warn","Unrecognized color format "+JSON.stringify(t))},getRgbString:function(){return s.log("warn","'rgbString' is deprecated, use 'cssRgbString' instead"),this.$class.FormatToCssRgbString(this.red,this.green,this.blue)},getRgbaString:function(){return s.log("warn","'rgbaString' is deprecated, use 'cssRgbaString' instead"),this.$class.FormatToCssRgbaString(this.red,this.green,this.blue,this.alpha)},getRgbHexString:function(){return this.$class.FormatToRgbHexString(this.red,this.green,this.blue)},setRgbHexString:function(t){try{this.setRGB(this.$class.ParseRgbHexString(t))}catch(t){s.log("warn",t)}},getRgbaHexString:function(){return this.$class.FormatToRgbaHexString(this.red,this.green,this.blue,this.alpha)},setRgbaHexString:function(t){try{this.setRGBA(this.$class.ParseRgbaHexString(t))}catch(t){s.log("warn",t)}},getCssRgbString:function(){return this.$class.FormatToCssRgbString(this.red,this.green,this.blue)},setCssRgbString:function(t){try{this.setRGB(this.$class.ParseCssRgbString(t))}catch(t){s.log("warn",t)}},getCssRgbaString:function(){return this.$class.FormatToCssRgbaString(this.red,this.green,this.blue,this.alpha)},setCssRgbaString:function(t){try{this.setRGBA(this.$class.ParseCssRgbaString(t))}catch(t){s.log("warn",t)}},_red:255,getRed:function(){return this._red},setRed:function(t){this._red=o.clamp(0|t,0,255),this._updateHSB()},_green:0,getGreen:function(){return this._green},setGreen:function(t){this._green=o.clamp(0|t,0,255),this._updateHSB()},_blue:0,getBlue:function(){return this._blue},setBlue:function(t){this._blue=o.clamp(0|t,0,255),this._updateHSB()},_alpha:255,getAlpha:function(){return this._alpha},setAlpha:function(t){this._alpha=o.clamp(0|t,0,255),this._callCallbacks("value-changed")},_hue:0,getHue:function(){return this._hue},setHue:function(t){this._hue=o.clamp(0|t,0,360),this._updateRGB()},_saturation:100,getSaturation:function(){return this._saturation},setSaturation:function(t){this._saturation=o.clamp(0|t,0,100),this._updateRGB()},_brightness:100,getBrightness:function(){return this._brightness},setBrightness:function(t){this._brightness=o.clamp(0|t,0,100),this._updateRGB()},fromString:function(t){try{this.setRGBA(this.$class.ParseString(t))}catch(t){s.log("warn",t)}},setRGB:function(){this.setRGBA.apply(this,arguments)},setRGBA:function(){var t=arguments;1==arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),t.length<3||(this._red=Math.max(0,Math.min(255,0|t[0])),this._green=Math.max(0,Math.min(255,0|t[1])),this._blue=Math.max(0,Math.min(255,0|t[2])),void 0!==t[3]&&(this._alpha=Math.max(0,Math.min(255,0|t[3]))),this._updateHSB())},getRGB:function(){return[this._red,this._green,this._blue]},getRGBA:function(){return[this._red,this._green,this._blue,this._alpha]},setHSB:function(){var t=arguments;1==arguments.length&&Array.isArray(arguments[0])&&(t=arguments[0]),3==t.length&&(this._hue=Math.max(0,Math.min(360,0|t[0])),this._saturation=Math.max(0,Math.min(100,0|t[1])),this._brightness=Math.max(0,Math.min(100,0|t[2])),this._updateRGB())},toString:function(){return this.rgbHexString},_updateHSB:function(){var t=this._red/255,e=this._green/255,i=this._blue/255,n=Math.min(t,e,i),o=Math.max(t,e,i);o==n?this._hue=0:o==t?this._hue=Math.round((60*(e-i)/(o-n)+360)%360):o==e?this._hue=Math.round(60*(i-t)/(o-n)+120):o==i&&(this._hue=Math.round(60*(t-e)/(o-n)+240)),this._saturation=0===o?0:Math.round(100*(1-n/o)),this._brightness=Math.round(100*o),this._callCallbacks("value-changed")},_updateRGB:function(){var t=this.hue%360,e=this.saturation/100,i=this.brightness/100,n=(t/60|0)%6,o=t/60-n,s=i*(1-e),r=i*(1-o*e),a=i*(1-(1-o)*e);switch(n){case 0:this._red=255*i|0,this._green=255*a|0,this._blue=255*s|0;break;case 1:this._red=255*r|0,this._green=255*i|0,this._blue=255*s|0;break;case 2:this._red=255*s|0,this._green=255*i|0,this._blue=255*a|0;break;case 3:this._red=255*s|0,this._green=255*r|0,this._blue=255*i|0;break;case 4:this._red=255*a|0,this._green=255*s|0,this._blue=255*i|0;break;case 5:this._red=255*i|0,this._green=255*s|0,this._blue=255*r|0}this._callCallbacks("value-changed")}});e.exports=a},{"../base.js":18,"../helpers.js":39,lodash:8}],60:[function(t,e,i){var n=t("../base.js").$extend({__init__:function(t){this.__fileField=document.createElement("input"),this.__fileField.type="file",this.__fileField.addEventListener("change",this.__onFileSelected.bind(this),!1),this.__fileField.style.position="fixed",this.__fileField.style.top=0,this.__fileField.style.left=0,this.__fileField.style.opacity=0,this.__fileField.style.display="none",document.getElementsByTagName("body")[0].appendChild(this.__fileField),this._acceptedMimes=[],this._acceptedExts=[],this._registerWEvents(["file-open"]),this.$super(t)},_acceptedMimes:[],getAcceptedMimes:function(){return this._acceptedMimes},setAcceptedMimes:function(t){this._acceptedMimes=t,this._updateAccepted()},_acceptedExts:[],getAcceptedExts:function(){return this._acceptedExts},setAcceptedExts:function(t){this._acceptedExts=t,this._updateAccepted()},_dropZone:null,getDropZone:function(){return this._dropZone},setDropZone:function(t){this._dropZone&&(this._unbindEvent("document-dragover"),this._unbindEvent("document-drop"),this._unbindEvent("element-dragover"),this._unbindEvent("element-drop")),(this._dropZone=t)&&(this._bindEvent("document-dragover",document,"dragover",function(t){t.preventDefault()}),this._bindEvent("document-drop",document,"drop",function(t){t.preventDefault()}),this._bindEvent("element-dragover",t,"dragover",function(t){}),this._bindEvent("element-drop",t,"drop",this.__onFileDropped.bind(this)))},_multiselect:!1,getMultiselect:function(){return this._multiselect},setMultiselect:function(t){(this._multiselect=t)?this.__fileField.multiple="true":delete this.__fileField.multiple},__fileField:null,open:function(){this.__fileField.style.display="inline-block",this.__fileField.value=null,this.__fileField.focus(),this.__fileField.click(),this.__fileField.style.display="none"},destroy:function(){document.getElementsByTagName("body")[0].removeChild(this.__fileField),this.$super()},_updateAccepted:function(){for(var t=[],e=0;e<this.acceptedExts.length;e++)t.push("."+this.acceptedExts[e].toLocaleLowerCase());t=t.concat(this.acceptedMimes),this.__fileField.accept=t.join(",")},_openFile:function(t,e,i){for(var n=!1,o=0;o<this.acceptedMimes.length;o++)if(t.type==this.acceptedMimes[o]){n=!0;break}if(!n)for(var s=t.name.split(".").splice(-1),r=0;r<this.acceptedExts.length;r++)if(s==this.acceptedExts[r]){n=!0;break}(n||0===this.acceptedMimes.length&&0===this.acceptedExts.length)&&this._callCallbacks("file-open",[t,e,i])},__onFileDropped:function(t){for(var e in t.dataTransfer.files){var i=t.dataTransfer.files[e];i instanceof File&&this._openFile(i,t.pageX,t.pageY)}},__onFileSelected:function(t){for(var e in this.__fileField.files){var i=this.__fileField.files[e];i instanceof File&&this._openFile(i)}},__onLocaleChanged:function(){}});e.exports=n},{"../base.js":18}],61:[function(t,e,i){t("../helpers.js");var n=t("../base.js"),o=t("../widget.js"),s=n.$extend({__init__:function(t,e){this._registerWEvents(["key-down","key-up","key-hold"]),this.__keys={},t&&(t instanceof o||t instanceof HTMLElement||t===document)?(this.$super(e),this.element=t):this.$super(t),this._initKeyCache()},_safe:!0,getSafe:function(){"@photonui-update";return this._safe},setSafe:function(t){this._safe=t},_noPreventDefault:!1,getNoPreventDefault:function(){"@photonui-update";return this._noPreventDefault},setNoPreventDefault:function(t){this._noPreventDefault=t},_element:null,getElement:function(){return this._element||document},setElement:function(t){t instanceof o?this._element=t.interactiveNode||t.html:t instanceof HTMLElement||t===document?this._element=t:this._element=null,this._updateEvents()},_action:"",getAction:function(){return this._action},__event:null,__keys:null,__key:null,__keyCache:[],__keyCodeCache:[],_updateEvents:function(){for(var t in this.__events)this._unbindEvent(t);this.element&&(this._bindEvent("key-down",this.getElement(),"keydown",this.__onDocumentKeyDown.bind(this)),this._bindEvent("key-up",this.getElement(),"keyup",this.__onDocumentKeyUp.bind(this)),this._bindEvent("lost-focus",window,"blur",this.__onWindowBlur.bind(this)))},isKeyPressed:function(t){return!!this.__keys[this.__keyCodeCache[t]]},isKeyReleased:function(t){return!this.__keys[this.__keyCodeCache[t]]},_dump:function(){return{event:this.__event,action:this._action,key:this.__key}},_checkFocus:function(){return!(this._safe&&(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLSelectElement||document.activeElement instanceof HTMLTextAreaElement))},_checkEvent:function(t){return this.__event=t,this.__key=this._keyFromEvent(t),!(!this.__key||"Dead"===this.__key)&&(this.__keyCodeCache[this.__key]=t.keyCode,this._checkFocus())},_initKeyCache:function(){this.__keyCache[3]="cancel",this.__keyCache[8]="backspace",this.__keyCache[9]="tab",this.__keyCache[12]="clear",this.__keyCache[13]="enter",this.__keyCache[16]="shift",this.__keyCache[17]="ctrl",this.__keyCache[18]="alt",this.__keyCache[19]="pause",this.__keyCache[20]="capslock",this.__keyCache[27]="escape",this.__keyCache[32]="space",this.__keyCache[33]="pageup",this.__keyCache[34]="pagedown",this.__keyCache[35]="end",this.__keyCache[36]="home",this.__keyCache[37]="left",this.__keyCache[38]="up",this.__keyCache[39]="right",this.__keyCache[40]="down",this.__keyCache[41]="select",this.__keyCache[42]="printscreen",this.__keyCache[43]="execute",this.__keyCache[44]="snapshot",this.__keyCache[45]="insert",this.__keyCache[46]="delete",this.__keyCache[47]="help",this.__keyCache[48]="0",this.__keyCache[49]="1",this.__keyCache[50]="2",this.__keyCache[51]="3",this.__keyCache[52]="4",this.__keyCache[53]="5",this.__keyCache[54]="6",this.__keyCache[55]="7",this.__keyCache[56]="8",this.__keyCache[57]="9";for(var t=65;t<=90;++t)this.__keyCache[t]=String.fromCharCode(t);this.__keyCache[96]="num0",this.__keyCache[97]="num1",this.__keyCache[98]="num2",this.__keyCache[99]="num3",this.__keyCache[100]="num4",this.__keyCache[101]="num5",this.__keyCache[102]="num6",this.__keyCache[103]="num7",this.__keyCache[104]="num8",this.__keyCache[105]="num9",this.__keyCache[106]="num*",this.__keyCache[107]="num+",this.__keyCache[108]="numenter",this.__keyCache[109]="num-",this.__keyCache[110]="num.",this.__keyCache[111]="num/",this.__keyCache[144]="numlock",this.__keyCache[145]="scrolllock",this.__keyCache[112]="f1",this.__keyCache[113]="f2",this.__keyCache[114]="f3",this.__keyCache[115]="f4",this.__keyCache[116]="f5",this.__keyCache[117]="f6",this.__keyCache[118]="f7",this.__keyCache[119]="f8",this.__keyCache[120]="f9",this.__keyCache[121]="f10",this.__keyCache[122]="f11",this.__keyCache[123]="f12"},_keyFromEvent:function(t){var e=this.__keyCache[t.keyCode];return e||(e=t.key,this.__keyCache[t.keyCode]=e),e},__onDocumentKeyDown:function(t){this._checkEvent(t)&&(this._action=this.__keys[t.keyCode]?"key-hold":"key-down",this.__keys[t.keyCode]=!0,this._callCallbacks(this._action,[this._dump()]),this._noPreventDefault||(t.stopPropagation(),t.preventDefault()))},__onDocumentKeyUp:function(t){this._checkEvent(t)&&this.__keys[t.keyCode]&&(this._action="key-up",delete this.__keys[t.keyCode],this._callCallbacks(this._action,[this._dump()]),this._noPreventDefault||(t.stopPropagation(),t.preventDefault()))},__onWindowBlur:function(){for(var t in this._action="key-up",this._event=void 0,this.__keys)delete this.__keys[t],this.__key=this.__keyCache[t],this._callCallbacks(this._action,[this._dump()])}});e.exports=s},{"../base.js":18,"../helpers.js":39,"../widget.js":76}],62:[function(t,e,i){var n=t("../helpers.js"),o=t("../base.js"),s=t("../widget.js"),r=o.$extend({__init__:function(t,e){this._registerWEvents(["mouse-event","mouse-down","mouse-up","click","double-click","drag-start","dragging","drag-end","mouse-move","scroll-up","scroll-down"]),t&&(t instanceof s||t instanceof HTMLElement)?(this.$super(e),this.element=t):this.$super(t)},_element:null,getElement:function(){return this._element||document},setElement:function(t){t instanceof s?this._element=t.interactiveNode||t.html:t instanceof HTMLElement?this._element=t:this._element=null,this._updateEvents()},_threshold:5,getThreshold:function(){return this._threshold},setThreshold:function(t){this._threshold=t},_scaleX:1,getScaleX:function(){return this._scaleX},setScaleX:function(t){this._scaleX=t},_scaleY:1,getScaleY:function(){return this._scaleY},setScaleY:function(t){this._scaleY=t},_translateX:0,getTranslateX:function(){return this._translateX},setTranslateX:function(t){this._translateX=t},_translateY:0,getTranslateY:function(){return this._translateY},setTranslateY:function(t){this._translateY=t},getPageX:function(){return this.__event.pageX||0},getPageY:function(){return this.__event.pageY||0},getX:function(){var t=n.getAbsolutePosition(this.element).x;return(this.pageX-t)*this.scaleX+this.translateX},getY:function(){var t=n.getAbsolutePosition(this.element).y;return(this.pageY-t)*this.scaleY+this.translateY},getDeltaX:function(){return(this.pageX-(void 0!==this.__prevState.pageX?this.__prevState.pageX:this.pageX))*this.scaleX},getDeltaY:function(){return(this.pageY-(void 0!==this.__prevState.pageY?this.__prevState.pageY:this.pageY))*this.scaleY},_action:"",getAction:function(){return this._action},_btnLeft:!1,getBtnLeft:function(){return this._btnLeft},_btnMiddle:!1,getBtnMiddle:function(){return this._btnMiddle},_btnRight:!1,getBtnRight:function(){return this._btnRight},_button:null,getButton:function(){return this._button},__prevState:{},__mouseDownEvent:{},__event:{},_updateEvents:function(){for(var t in this.__events)this._unbindEvent(t);this.element&&(this._bindEvent("mouse-down",this.element,"mousedown",this.__onMouseDown.bind(this)),this._bindEvent("mouse-up",this.element,"mouseup",this.__onMouseUp.bind(this)),this._bindEvent("double-click",this.element,"dblclick",this.__onDoubleClick.bind(this)),this._bindEvent("mouse-move",this.element,"mousemove",this.__onMouseMove.bind(this)),this._bindEvent("wheel",this.element,"wheel",this.__onWheel.bind(this)),this._bindEvent("document-mouse-up",document,"mouseup",this.__onDocumentMouseUp.bind(this)),this._bindEvent("document-mouse-move",document,"mousemove",this.__onDocumentMouseMove.bind(this)))},_dump:function(){return{event:this.__event,action:this.action,pageX:this.pageX,pageY:this.pageY,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY,btnLeft:this.btnLeft,btnMiddle:this.btnMiddle,btnRight:this.btnRight,button:this.button}},_stateMachine:function(t,e){this.__prevState=this._dump(),this._action=t,this.__event=e,this._button=null,0===e.button&&(this._button="left"),1===e.button&&(this._button="middle"),2===e.button&&(this._button="right"),"mouse-down"==t?(0===(this.__mouseDownEvent=e).button&&(this._btnLeft=!0),1===e.button&&(this._btnMiddle=!0),2===e.button&&(this._btnRight=!0),this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"mouse-up"==t?(0===e.button&&(this._btnLeft=!1),1===e.button&&(this._btnMiddle=!1),2===e.button&&(this._btnRight=!1),this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"drag-end"==t&&(0===e.button&&(this._btnLeft=!1),1===e.button&&(this._btnMiddle=!1),2===e.button&&(this._btnRight=!1)),"mouse-up"==t&&Math.abs(this.pageX-this.__mouseDownEvent.pageX)<=this._threshold&&Math.abs(this.pageY-this.__mouseDownEvent.pageY)<=this._threshold&&(this._action="click",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks("click",[this._dump()])),"double-click"==t&&"click"==this.__prevState.action&&(this._action="double-click",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),"mouse-move"==t&&(this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),"mouse-move"==t&&"drag-start"!=this.__prevState.action&&"dragging"!=this.__prevState.action&&(this.btnLeft||this.btnMiddle||this.btnRight)?(Math.abs(this.pageX-this.__mouseDownEvent.pageX)>this._threshold||Math.abs(this.pageY-this.__mouseDownEvent.pageY)>this._threshold)&&(this._action="drag-start",this.__event=this.__mouseDownEvent,this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()]),this._action="dragging",this.__prevState.event=this.__mouseDownEvent,this.__event=e,this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"dragging"==t||"mouse-move"==t&&("drag-start"==this.__prevState.action||"dragging"==this.__prevState.action)&&(this.btnLeft||this.btnMiddle||this.btnRight)?(this._action="dragging",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"drag-end"!=t&&("mouse-up"!=t||"dragging"!=this.__prevState.action&&"drag-start"!=this.__prevState.action||this.btnLeft||this.btnMiddle||this.btnRight)||(this._action="drag-end",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),"scroll-up"!=t&&"scroll-down"!=t||(this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()]))},__onMouseDown:function(t){this._stateMachine("mouse-down",t)},__onMouseUp:function(t){this._stateMachine("mouse-up",t)},__onDoubleClick:function(t){this._stateMachine("double-click",t)},__onMouseMove:function(t){this._stateMachine("mouse-move",t)},__onDocumentMouseUp:function(t){t.target!==this._element&&("dragging"==this.action||"drag-start"==this.action?this._stateMachine("drag-end",t):(0===t.button&&this._btnLeft||1===t.button&&this._btnMiddle||2===t.button&&this._btnRight)&&this._stateMachine("mouse-up",t))},__onDocumentMouseMove:function(t){t.target!==this._element&&("dragging"!=this.action&&"drag-start"!=this.action||this._stateMachine("dragging",t))},__onWheel:function(t){var e=null;void 0!==t.deltaY&&(e=-t.deltaY),null!==e&&(0<=e?this._stateMachine("scroll-up",t):this._stateMachine("scroll-down",t))}});e.exports=r},{"../base.js":18,"../helpers.js":39,"../widget.js":76}],63:[function(t,e,i){var n=t("../base.js"),o={},s=n.$extend({__init__:function(t){this._icons={},this.$super(t)},_name:"default",getName:function(){"@photonui-update";return this._name},setName:function(t){o[this.name]==this&&delete o[this.name],this._name=t,o[this.name]=this},_imageUrl:null,getImageUrl:function(){return this._imageUrl},setImageUrl:function(t){t?this._imageUrl!=t&&(this._imageUrl=t,(new Image).src=t):this._imageUrl=null},_size:16,getSize:function(){return this._size},setSize:function(t){this._size=t},_icons:{},getIcons:function(){return this._icons},setIcons:function(t){for(var e in t)this._icons[e]=t[e]},getIconPosition:function(t){return{x:this.icons[t][0],y:this.icons[t][1]}},getIconCss:function(t){return"width: "+this.size+"px; height: "+this.size+"px; background: url("+this.imageUrl+") -"+this.getIconPosition(t).x+"px -"+this.getIconPosition(t).y+"px;"},addIcon:function(t,e,i){this.icons={iconName:[e,i]}},removeIcon:function(t){delete this._icons[t]}});s.getSpriteSheet=function(t){return void 0!==o[t]?o[t]:null},e.exports=s},{"../base.js":18}],64:[function(t,e,i){var n=t("stonejs"),o=t("../base.js").$extend({__init__:function(t){t=t||{},this._registerWEvents(["locale-changed"]),this.$super(t),this._bindEvent("locale-changed",document,"stonejs-locale-changed",this.__onStonejsLocaleChanged.bind(this)),t.noGlobal||(window._=this.lazyGettext)},getLocale:n.getLocale,setLocale:n.setLocale,setBestMatchingLocale:n.setBestMatchingLocale,addCatalogs:n.addCatalogs,guessUserLanguage:n.guessUserLanguage,gettext:n.gettext,lazyGettext:n.lazyGettext,enableDomScan:n.enableDomScan,updateDomTranslation:n.updateDomTranslation,__onStonejsLocaleChanged:function(){this._callCallbacks("locale-changed",[this.locale])}});e.exports=o},{"../base.js":18,stonejs:12}],65:[function(t,e,i){var n={lib:{}};n.lib.Class=t("abitbol"),n.lib.KeyboardJS=t("keyboardjs"),n.lib.Stone=t("stonejs"),n.lib.uuid=t("uuid"),n.lib.lodash=t("lodash"),n.Helpers=t("./helpers.js"),n.Base=t("./base.js"),n.Widget=t("./widget.js"),n.domInsert=n.Widget.domInsert,n.getWidget=n.Widget.getWidget,n.FileManager=t("./nonvisual/filemanager.js"),n.Translation=t("./nonvisual/translation.js"),n.AccelManager=t("./nonvisual/accelmanager.js"),n.KeyboardManager=t("./nonvisual/keyboardmanager.js"),n.MouseManager=t("./nonvisual/mousemanager.js"),n.BaseIcon=t("./visual/baseicon.js"),n.FAIcon=t("./visual/faicon.js"),n.Image=t("./visual/image.js"),n.SpriteSheet=t("./nonvisual/spritesheet.js"),n.SpriteIcon=t("./visual/spriteicon.js"),n.Canvas=t("./visual/canvas.js"),n.Label=t("./visual/label.js"),n.Text=t("./visual/text.js"),n.ProgressBar=t("./visual/progressbar.js"),n.Separator=t("./visual/separator.js"),n.Button=t("./interactive/button.js"),n.ColorButton=t("./composite/colorbutton.js"),n.CheckBox=t("./interactive/checkbox.js"),n.Switch=t("./interactive/switch.js"),n.ToggleButton=t("./interactive/togglebutton.js"),n.Color=t("./nonvisual/color.js"),n.ColorPalette=t("./interactive/colorpalette.js"),n.ColorPicker=t("./interactive/colorpicker.js"),n.Field=t("./interactive/field.js"),n.NumericField=t("./interactive/numericfield.js"),n.TextAreaField=t("./interactive/textareafield.js"),n.TextField=t("./interactive/textfield.js"),n.Select=t("./composite/select.js"),n.FontSelect=t("./composite/fontselect.js"),n.Slider=t("./interactive/slider.js"),n.Container=t("./container/container.js"),n.Layout=t("./layout/layout.js"),n.BoxLayout=t("./layout/boxlayout.js"),n.FluidLayout=t("./layout/fluidlayout.js"),n.GridLayout=t("./layout/gridlayout.js"),n.Menu=t("./layout/menu.js"),n.MenuItem=t("./container/menuitem.js"),n.SubMenuItem=t("./container/submenuitem.js"),n.Viewport=t("./container/viewport.js"),n.BaseWindow=t("./container/basewindow.js"),n.Window=t("./container/window.js"),n.PopupWindow=t("./container/popupwindow.js"),n.Dialog=t("./container/dialog.js"),n.Expander=t("./container/expander.js"),n.ColorPickerDialog=t("./composite/colorpickerdialog.js"),n.PopupMenu=t("./composite/popupmenu.js"),n.TabItem=t("./container/tabitem.js"),n.TabLayout=t("./layout/tablayout.js"),n.IconButton=t("./interactive/iconbutton.js"),n.Template=t("./visual/template.js"),n.DataView=t("./dataview/dataview.js"),n.FluidView=t("./dataview/fluidview.js"),n.ListView=t("./dataview/listview.js"),n.TableView=t("./dataview/tableview.js"),n.IconView=t("./dataview/iconview.js"),e.exports=n},{"./base.js":18,"./composite/colorbutton.js":19,"./composite/colorpickerdialog.js":20,"./composite/fontselect.js":21,"./composite/popupmenu.js":22,"./composite/select.js":23,"./container/basewindow.js":24,"./container/container.js":25,"./container/dialog.js":26,"./container/expander.js":27,"./container/menuitem.js":28,"./container/popupwindow.js":29,"./container/submenuitem.js":30,"./container/tabitem.js":31,"./container/viewport.js":32,"./container/window.js":33,"./dataview/dataview.js":34,"./dataview/fluidview.js":35,"./dataview/iconview.js":36,"./dataview/listview.js":37,"./dataview/tableview.js":38,"./helpers.js":39,"./interactive/button.js":40,"./interactive/checkbox.js":41,"./interactive/colorpalette.js":42,"./interactive/colorpicker.js":43,"./interactive/field.js":44,"./interactive/iconbutton.js":45,"./interactive/numericfield.js":46,"./interactive/slider.js":47,"./interactive/switch.js":48,"./interactive/textareafield.js":49,"./interactive/textfield.js":50,"./interactive/togglebutton.js":51,"./layout/boxlayout.js":52,"./layout/fluidlayout.js":53,"./layout/gridlayout.js":54,"./layout/layout.js":55,"./layout/menu.js":56,"./layout/tablayout.js":57,"./nonvisual/accelmanager.js":58,"./nonvisual/color.js":59,"./nonvisual/filemanager.js":60,"./nonvisual/keyboardmanager.js":61,"./nonvisual/mousemanager.js":62,"./nonvisual/spritesheet.js":63,"./nonvisual/translation.js":64,"./visual/baseicon.js":66,"./visual/canvas.js":67,"./visual/faicon.js":68,"./visual/image.js":69,"./visual/label.js":70,"./visual/progressbar.js":71,"./visual/separator.js":72,"./visual/spriteicon.js":73,"./visual/template.js":74,"./visual/text.js":75,"./widget.js":76,abitbol:1,keyboardjs:3,lodash:8,stonejs:12,uuid:13}],66:[function(t,e,i){var n=t("../widget.js").$extend({__onLocaleChanged:function(){}});e.exports=n},{"../widget.js":76}],67:[function(t,e,i){var n=t("../widget.js").$extend({__init__:function(t){this.$super(t),this.getContext=this.__html.canvas.getContext.bind(this.__html.canvas),this.__html.canvas.supportsContext&&(this.supportsContext=this.__html.canvas.supportsContext.bind(this.__html.canvas)),this.__html.canvas.setContext&&(this.setContext=this.__html.canvas.setContext.bind(this.__html.canvas)),this.__html.canvas.transferControlToProxy&&(this.transferControlToProxy=this.__html.canvas.transferControlToProxy.bind(this.__html.canvas)),this.toDataURL=this.__html.canvas.toDataURL.bind(this.__html.canvas),this.__html.canvas.toDataURLHD&&(this.toDataURLHD=this.__html.canvas.toDataURLHD.bind(this.__html.canvas)),this.__html.canvas.toBlob&&(this.toBlob=this.__html.canvas.toBlob.bind(this.__html.canvas)),this.__html.canvas.toBlobHD&&(this.toBlobHD=this.__html.canvas.toBlobHD.bind(this.__html.canvas))},getWidth:function(){"@photonui-update";return this.__html.canvas.width},setWidth:function(t){this.__html.canvas.width=t||300},getHeight:function(){"@photonui-update";return this.__html.canvas.height},setHeight:function(t){this.__html.canvas.height=t||150},getCanvas:function(){return this.__html.canvas},getHtml:function(){return this.__html.outer},getInteractiveNode:function(){return this.__html.canvas},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-canvas",this.__html.canvas=document.createElement("canvas"),this.__html.outer.appendChild(this.__html.canvas)},__onLocaleChanged:function(){}});e.exports=n},{"../widget.js":76}],68:[function(t,e,i){var n=t("./baseicon.js").$extend({__init__:function(t,e){var i={};if(t&&"string"==typeof t){if(i.iconName=t,e&&"object"==typeof e)for(var n in e)i[n]=e[n]}else t&&(i=t);this.$super(i)},_iconName:"",getIconName:function(){"@photonui-update";return this._iconName},setIconName:function(t){this._iconName=t||"",this.__html.icon.className="fa "+this.iconName+" "+this.size},_size:"",getSize:function(){"@photonui-update";return this._size},setSize:function(t){this._size=t||"",this.__html.icon.className="fa "+this.iconName+" "+this.size},_color:"inherit",getColor:function(){"@photonui-update";return this._color},setColor:function(t){this._color=t||"inherit",this.__html.icon.style.color=this.color},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("span"),this.__html.outer.className="photonui-widget photonui-icon photonui-faicon",this.__html.icon=document.createElement("i"),this.__html.outer.appendChild(this.__html.icon)}});e.exports=n},{"./baseicon.js":66}],69:[function(t,e,i){var n=t("../widget.js").$extend({_url:"",getUrl:function(){return this._url},setUrl:function(t){this._url=t,this.__html.image.src=t},_width:null,getWidth:function(){return this._width},setWidth:function(t){null!==t?(this._width=t,this.__html.image.width=t):this.__html.image.width=""},_height:null,getHeight:function(){return this._height},setHeight:function(t){null!==t?(this._height=t,this.__html.image.height=t):this.__html.image.height=""},getHtml:function(){return this.__html.div},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-image",this.__html.image=document.createElement("img"),this.__html.div.appendChild(this.__html.image)}});e.exports=n},{"../widget.js":76}],70:[function(t,e,i){var n=t("../widget.js"),o=t("../helpers.js"),s=n.$extend({__init__:function(t,e){var i={};if(t&&"string"==typeof t){if(i.text=t,e&&"object"==typeof e)for(var n in e)i[n]=e[n]}else t&&(i=t);i.layoutOptions=i.layoutOptions||{},void 0===i.layoutOptions.verticalExpansion&&(i.layoutOptions.verticalExpansion=!1),this.$super(i)},_text:"Label",getText:function(){"@photonui-update";return this._text},setText:function(t){this._text=t,o.cleanNode(this.__html.label);for(var e=t.split("\n"),i=0;i<e.length;i++)this.__html.label.appendChild(document.createTextNode(e[i])),i<e.length-1&&this.__html.label.appendChild(document.createElement("br"))},_textAlign:"left",getTextAlign:function(){"@photonui-update";return this._textAlign},setTextAlign:function(t){if("left"!=t&&"center"!=t&&"right"!=t)throw new Error("Text alignement sould be 'left', 'center' or 'right'.");this._textAlign=t,this.__html.label.style.textAlign=t},_forInputName:null,getForInputName:function(){"@photonui-update";return this._forInputName},setForInputName:function(t){this._forInputName=t,this._forInputName?this.forInput?this.__html.label.setAttribute("for",o.escapeHtml(this.forInput.inputId||this.forInput.name)):this.__html.label.setAttribute("for",o.escapeHtml(t)):this.__html.label.removeAttribute("for")},getForInput:function(){return n.getWidget(this.forInputName)},setForInput:function(t){this.forInputName=t.name},getHtml:function(){return this.__html.label},_buildHtml:function(){this.__html.label=document.createElement("label"),this.__html.label.className="photonui-widget photonui-label photonui-widget-fixed-height"}});e.exports=s},{"../helpers.js":39,"../widget.js":76}],71:[function(t,e,i){var n=t("../widget.js").$extend({__init__:function(t){this.$super(t)},getHtml:function(){return this.__html.outer},_value:0,getValue:function(){"@photonui-update";return this._value},setValue:function(t){this._value=Math.min(Math.max(t,0),1),"horizontal"==this.orientation?(this.__html.bar.style.width=Math.floor(100*this.value)+"%",this.__html.bar.style.height=""):(this.__html.bar.style.height=Math.floor(100*this.value)+"%",this.__html.bar.style.width=""),this.__html.textContent.innerHTML=Math.floor(100*this.value)+" %"},_orientation:"horizontal",getOrientation:function(){"@photonui-update";return this._orientation},setOrientation:function(t){if("vertical"!=t&&"horizontal"!=t)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=t,this.removeClass("photonui-progressbar-vertical"),this.removeClass("photonui-progressbar-horizontal"),this.addClass("photonui-progressbar-"+this.orientation),this.value=this.value},_pulsate:!1,isPulsate:function(){"@photonui-update";return this._pulsate},setPulsate:function(t){(this._pulsate=t)?(this.addClass("photonui-progressbar-pulsate"),"horizontal"==this.orientation?this.__html.bar.style.width="":this.__html.bar.style.height=""):(this.removeClass("photonui-progressbar-pulsate"),this.value=this.value)},_textVisible:!0,isTextVisible:function(){return this._textVisible},setTextVisible:function(t){this._textVisible=t,this.textVisible?this.__html.text.style.display="":this.__html.text.style.display="none"},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-progressbar",this.__html.filldiv=document.createElement("div"),this.__html.filldiv.className="photonui-progressbar-fill",this.__html.filldiv.innerHTML="xxxxxxxxxxx",this.__html.filldiv.style.opacity=0,this.__html.filldiv.style.pointerEvents="none",this.__html.outer.appendChild(this.__html.filldiv),this.__html.text=document.createElement("div"),this.__html.text.className="photonui-progressbar-text",this.__html.outer.appendChild(this.__html.text),this.__html.textContent=document.createElement("span"),this.__html.text.appendChild(this.__html.textContent),this.__html.bar=document.createElement("div"),this.__html.bar.className="photonui-progressbar-bar",this.__html.outer.appendChild(this.__html.bar)},__onLocaleChanged:function(){}});e.exports=n},{"../widget.js":76}],72:[function(t,e,i){var n=t("../widget.js").$extend({__init__:function(t){this.$super(t)},_orientation:"horizontal",getOrientation:function(){"@photonui-update";return this._orientation},setOrientation:function(t){if("vertical"!=t&&"horizontal"!=t)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=t,this.removeClass("photonui-separator-vertical"),this.removeClass("photonui-separator-horizontal"),this.addClass("photonui-separator-"+this._orientation),this.removeClass("photonui-widget-fixed-height"),this.removeClass("photonui-widget-fixed-width"),"horizontal"==this._orientation?this.addClass("photonui-widget-fixed-height"):this.addClass("photonui-widget-fixed-width")},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-separator",this.__html.hr=document.createElement("hr"),this.__html.outer.appendChild(this.__html.hr)},__onLocaleChanged:function(){}});e.exports=n},{"../widget.js":76}],73:[function(t,e,i){var n=t("./baseicon.js"),o=t("../nonvisual/spritesheet.js"),s=n.$extend({__init__:function(t,e){var i={};if(t&&"string"==typeof t){if(i.icon=t,e&&"object"==typeof e)for(var n in e)i[n]=e[n]}else t&&(i=t);this.$super(i)},_spriteSheetName:"",getSpriteSheetName:function(){return this._spriteSheetName},setSpriteSheetName:function(t){this._spriteSheetName=t||"",this._update()},_iconName:"",getIconName:function(){return this._iconName},setIconName:function(t){this._iconName=t||"",this._update()},getIcon:function(){return this.spriteSheetName+"/"+this.iconName},setIcon:function(t){var e=t.split("/");this.spriteSheetName=e[0],this.iconName=e[1]},getHtml:function(){return this.__html.outer},_update:function(){var t="";this.spriteSheetName&&this.iconName&&(t=o.getSpriteSheet(this.spriteSheetName).getIconCss(this.iconName)),this.__html.icon.setAttribute("style",t)},_buildHtml:function(){this.__html.outer=document.createElement("span"),this.__html.outer.className="photonui-widget photonui-icon photonui-spriteicon",this.__html.icon=document.createElement("span"),this.__html.outer.appendChild(this.__html.icon)}});e.exports=s},{"../nonvisual/spritesheet.js":63,"./baseicon.js":66}],74:[function(t,e,i){var n=t("lodash"),o=t("../widget.js"),s=t("../helpers.js"),r=o.$extend({__init__:function(t){this.$data.compiledTemplate=function(){return document.createElement("div")},this.$super(t),this.update=n.debounce(this.update,50)},_template:"",getTemplate:function(){return this._template},setTemplate:function(t){this._template=t,this.$data.compiledTemplate=n.template(this._template),n.defer(this.update)},getData:function(){return n.defer(this.update),this.$super()},setData:function(t){this.$super(t),this.update()},getHtml:function(){return this.__html.div},update:function(){if(s.cleanNode(this.html),this.$data.compiledTemplate)try{this.html.innerHTML=this.$data.compiledTemplate(this._data)}catch(t){s.log("error","An error occured when rendering the template: "+t)}},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-template"},__onLocaleChanged:function(){this.update()}});e.exports=r},{"../helpers.js":39,"../widget.js":76,lodash:8}],75:[function(t,e,i){var n=t("stonejs"),o=t("../widget.js"),s=t("../helpers.js"),r=o.$extend({_lastSet:"text",_raw:"",getText:function(){return this.__html.outer.textContent},setText:function(t){this._lastSet="text",this._raw=t,s.cleanNode(this.__html.outer),this.__html.outer.appendChild(document.createTextNode(t))},getRawHtml:function(){return this.__html.outer.innerHTML},setRawHtml:function(t){this._lastSet="rawHtml",this._raw=t,this.__html.outer.innerHTML=t},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-text"},__onLocaleChanged:function(){this.$super(),this._raw instanceof n.LazyString&&(this[this._lastSet]=this._raw)}});e.exports=r},{"../helpers.js":39,"../widget.js":76,stonejs:12}],76:[function(i,t,e){var n=i("stonejs"),o=i("uuid"),s=i("./base.js"),r=i("./helpers.js"),a={},l=s.$extend({__init__:function(t){this.__html={},this._layoutOptions={},this._buildHtml(),this._registerWEvents(["show","hide"]),this.$super(t),this.name||(this.name="widget-"+o.v4()),t&&t.className&&this.addClass(t.className),this.html&&this._bindEvent("pop-contextmenu",this.html,"contextmenu",this.__onContextMenu.bind(this)),this._bindEvent("locale-changed",document,"stonejs-locale-changed",this.__onLocaleChanged.bind(this)),a[this.name]=this},_name:null,getName:function(){return this._name},setName:function(t){delete a[this.name],this._name=t,(a[t]=this).html&&(this.html.id=this.name)},_parentName:null,getParentName:function(){return this._parentName},getParent:function(){return l.getWidget(this.parentName)},_visible:!0,isVisible:function(){"@photonui-update";return this._visible},setVisible:function(t){this._visible=Boolean(t),this.html&&(t?this.html.style.display="":this.html.style.setProperty("display","none","important"),this._visibilityChanged())},_tooltip:null,getTooltip:function(){return this._tooltip},setTooltip:function(t){(this._tooltip=t)?this.html.title=t:this.html.removeAttribute("title")},_contextMenuName:null,getContextMenuName:function(){return this._contextMenuName},setContextMenuName:function(t){this._contextMenuName=t},getContextMenu:function(){return l.getWidget(this.contextMenuName)},setContextMenu:function(t){var e=i("./container/popupwindow.js");this.contextMenuName=t instanceof e?t.name:null},_layoutOptions:{},getLayoutOptions:function(){return this._layoutOptions},setLayoutOptions:function(t){for(var e in t)this._layoutOptions[e]=t[e]},getHtml:function(){return r.log("debug","getHtml() method is not implemented on this widget."),null},getAbsolutePosition:function(){return this.html?r.getAbsolutePosition(this.html):{x:0,y:0}},getOffsetWidth:function(){return this.html?this.html.offsetWidth:0},getOffsetHeight:function(){return this.html?this.html.offsetHeight:0},__html:{},show:function(){this.visible=!0},hide:function(){this.visible=!1},unparent:function(){this.parent?this.parent.removeChild(this):this.html&&this.html.parentNode&&this.html.parentNode.removeChild(this.html)},destroy:function(){this.$super(),this.unparent(),delete a[this.name]},addClass:function(t){if(this.html){var e=this.html.className.split(" ");e.indexOf(t)<0&&e.push(t),this.html.className=e.join(" ")}},removeClass:function(t){if(this.html){var e=this.html.className.split(" "),i=e.indexOf(t);0<=i&&e.splice(i,1),this.html.className=e.join(" ")}},_buildHtml:function(){r.log("debug","_buildHtml() method not implemented on this widget.")},_visibilityChanged:function(t){(t=void 0!==t?t:this.visible)&&this.visible?this._callCallbacks("show"):this._callCallbacks("hide")},__onContextMenu:function(t){t.stopPropagation(),t.preventDefault(),this.contextMenuName&&this.contextMenu.popupXY(t.pageX,t.pageY)},__onLocaleChanged:function(){for(var t in this.$map.computedProperties)this[t]instanceof n.LazyString&&(this[t]=this[t])},__classvars__:{e_parent:null,getWidget:function(t){return void 0!==a[t]?a[t]:null},getAllWidgets:function(t){return a},domInsert:function(t,e){"string"==typeof(e=e||l.e_parent||document.getElementsByTagName("body")[0])&&(e=document.getElementById(e)),e.appendChild(t.html)}}});t.exports=l},{"./base.js":18,"./container/popupwindow.js":29,"./helpers.js":39,stonejs:12,uuid:13}]},{},[65])(65)});