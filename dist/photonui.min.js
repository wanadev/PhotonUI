!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.photonui=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a){g=!0;var b=new a;return g=!1,b}function e(a){return Boolean(a.toString().match(/.*(\$super|\$name|\$computedPropertyName).*/))}var f=a("./annotation.js"),g=!1,h=function(){};Object.defineProperty(h,"$class",{enumerable:!1,value:h}),Object.defineProperty(h,"$map",{enumerable:!1,value:{attributes:{},methods:{},computedProperties:{}}}),Object.defineProperty(h,"$extend",{enumerable:!1,value:function(a){var b=this,c=JSON.parse(JSON.stringify(b.$map)),i=function(){if(!g){Object.defineProperty(this,"$class",{enumerable:!1,value:i}),Object.defineProperty(this,"$map",{enumerable:!1,value:c}),Object.defineProperty(this,"$data",{enumerable:!1,value:{}});for(var a in c.computedProperties)Object.defineProperty(this,a,{enumerable:!0,configurable:!1,get:void 0!==c.computedProperties[a].get?function(a){return function(){return this[a].apply(this,arguments)}}(c.computedProperties[a].get):void 0,set:void 0!==c.computedProperties[a].set?function(a){return function(){return this[a].apply(this,arguments)}}(c.computedProperties[a].set):void 0});for(var b in c.methods)this[b]=this[b].bind(this);return this.__init__&&this.__init__.apply(this,arguments),this}};i.prototype=d(this.$class),a=a||{};var j,k,l,m;if(a.__include__)for(m=a.__include__.length-1;m>=0;m--)for(j in a.__include__[m])void 0===a[j]&&(a[j]=a.__include__[m][j]);for(j in a||{})if("__include__"!=j&&"__classvars__"!=j)if("function"==typeof a[j]){k=void 0,c.methods[j]={annotations:{}},0===j.indexOf("get")?(k=j.slice(3,4).toLowerCase()+j.slice(4,j.length),c.computedProperties[k]||(c.computedProperties[k]={annotations:{}}),c.computedProperties[k].get=j):0===j.indexOf("set")?(k=j.slice(3,4).toLowerCase()+j.slice(4,j.length),c.computedProperties[k]||(c.computedProperties[k]={annotations:{}}),c.computedProperties[k].set=j):0===j.indexOf("has")?(k=j.slice(3,4).toLowerCase()+j.slice(4,j.length),c.computedProperties[k]||(c.computedProperties[k]={annotations:{}}),c.computedProperties[k].get=j):0===j.indexOf("is")&&(k=j.slice(2,3).toLowerCase()+j.slice(3,j.length),c.computedProperties[k]||(c.computedProperties[k]={annotations:{}}),c.computedProperties[k].get=j),l=f(a[j]);for(var n in l)c.methods[j].annotations[n]=l[n],k&&(c.computedProperties[k].annotations[n]=l[n]);e(a[j])?i.prototype[j]=function(a,c,d){return function(){var e=this.$super,f=this.$name,g=this.$computedPropertyName;this.$super=b.prototype[c],this.$name=c,this.$computedPropertyName=d;try{return a.apply(this,arguments)}finally{e?this.$super=e:delete this.$super,f?this.$name=f:delete this.$name,g?this.$computedPropertyName=g:delete this.$computedPropertyName}}}(a[j],j,k):i.prototype[j]=a[j]}else c.attributes[j]=!0,i.prototype[j]=a[j];var o=Object.getOwnPropertyNames(b);for(o=o.filter(function(a){return-1==["caller","callee","arguments","$class","$extend","$map"].indexOf(a)}),m=0;m<o.length;m++)void 0===i[o[m]]&&(i[o[m]]=b[o[m]]);if(a.__classvars__)for(j in a.__classvars__)i[j]=a.__classvars__[j];return Object.defineProperty(i,"$class",{enumerable:!1,value:i}),Object.defineProperty(i,"$extend",{enumerable:!1,value:h.$extend}),Object.defineProperty(i,"$map",{enumerable:!1,value:c}),i}}),b.exports=h},{"./annotation.js":2}],2:[function(a,b,c){"use strict";function d(a){return a=a.replace(/^function\s*[^(]*\s*\([^)]*\)\s*\{/,""),a=a.replace(/\/\*(.|\r|\n)*?\*\//g,""),a=a.replace(/\/\/.*?\r?\n/g,"\n"),a=a.replace(/\s*\r?\n\s*/g,"")}function e(a){for(var b,c,d,e=[],f=!1,g=!1,h=0;h<a.length;h++)if(d=a[h],f)g?(c+="\\"==d?"\\":"n"==d?"\n":"r"==d?"\r":"t"==d?"	":d==b?b:"\\"+d,g=!1):"\\"==d?g=!0:d==b?(e.push(c),f=!1):c+=d;else{if('"'!=d&&"'"!=d){if([" ","Â ","\n","\r",";"].indexOf(d)>-1)continue;break}f=!0,g=!1,b=d,c=""}return e}function f(a){return"true"==a?!0:"false"==a?!1:"null"==a?null:"undefined"==a?void 0:a.match(/^([0-9]+\.?|[0-9]*\.[0-9]+)$/)?parseFloat(a):a}function g(a){for(var b,c,g,h=d(a.toString()),i=e(h),j={},k=0;k<i.length;k++)b=i[k].trim(),0===b.indexOf("@")&&(c=b.slice(1,b.indexOf(" ")>-1?b.indexOf(" "):b.length),g=!0,b.indexOf(" ")>-1&&(g=b.slice(b.indexOf(" ")+1,b.length),g=g.trim(),g=f(g)),j[c]=g);return j}b.exports=g},{}],3:[function(b,c,d){!function(b,d){function e(){function a(b){var c;return c=d(b,"amd"),c.fork=a,c}return a(b)}function f(){function a(b){var c;return c=d(b,"CommonJS"),c.fork=a,c}c.exports=a(b)}function g(){function a(b){function c(){var a,c;for(c=Array.prototype.slice.apply(arguments),a=0;a<f.length;a+=1)"undefined"==typeof g[f[a]]?delete b[f[a]]:b[f[a]]=g[f[a]];for(g={},a=0;a<c.length;a+=1){if("string"!=typeof c[a])throw new Error("Cannot replace namespaces. All new namespaces must be strings.");g[c[a]]=b[c[a]],b[c[a]]=e}return f=c}var e,f=[],g={};return e=d(b,"global"),e.fork=a,e.noConflict=c,e.noConflict("KeyboardJS","k"),e}var c;c=a(b)}[].indexOf||(Array.prototype.indexOf=function(a,b,c){for(c=this.length,b=(c+~~b)%c;c>b&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1}),"function"==typeof a&&a.amd?a(e):"undefined"!=typeof c?f():g()}(this,function(a,b){function c(){a.addEventListener?(a.document.addEventListener("keydown",f,!1),a.document.addEventListener("keyup",g,!1),a.addEventListener("blur",e,!1),a.addEventListener("webkitfullscreenchange",e,!1),a.addEventListener("mozfullscreenchange",e,!1)):a.attachEvent&&(a.document.attachEvent("onkeydown",f),a.document.attachEvent("onkeyup",g),a.attachEvent("onblur",e))}function d(){e(),a.removeEventListener?(a.document.removeEventListener("keydown",f,!1),a.document.removeEventListener("keyup",g,!1),a.removeEventListener("blur",e,!1),a.removeEventListener("webkitfullscreenchange",e,!1),a.removeEventListener("mozfullscreenchange",e,!1)):a.detachEvent&&(a.document.detachEvent("onkeydown",f),a.document.detachEvent("onkeyup",g),a.detachEvent("onblur",e))}function e(a){J=[],m(),r(a)}function f(a){var b,c,d;if(b=h(a.keyCode),!(b.length<1)){for(a.isRepeat=!1,d=0;d<b.length;d+=1)c=b[d],-1!=x().indexOf(c)&&(a.isRepeat=!0),y(c);l(),q(a)}}function g(a){var b,c;if(b=h(a.keyCode),!(b.length<1)){for(c=0;c<b.length;c+=1)z(b[c]);m(),r(a)}}function h(a){return D[a]||[]}function i(a){var b;for(b in D)if(D.hasOwnProperty(b)&&D[b].indexOf(a)>-1)return b;return!1}function j(a,b){if("string"!=typeof a&&("object"!=typeof a||"function"!=typeof a.push))throw new Error("Cannot create macro. The combo must be a string or array.");if("object"!=typeof b||"function"!=typeof b.push)throw new Error("Cannot create macro. The injectedKeys must be an array.");E.push([a,b])}function k(a){var b;if("string"!=typeof a&&("object"!=typeof a||"function"!=typeof a.push))throw new Error("Cannot remove macro. The combo must be a string or array.");for(mI=0;mI<E.length;mI+=1)if(b=E[mI],s(a,b[0])){z(b[1]),E.splice(mI,1);break}}function l(){var a,b,c;for(a=0;a<E.length;a+=1)if(b=v(E[a][0]),-1===M.indexOf(E[a])&&t(b))for(M.push(E[a]),c=0;c<E[a][1].length;c+=1)y(E[a][1][c])}function m(){var a,b,c;for(a=0;a<M.length;a+=1)if(b=v(M[a][0]),t(b)===!1){for(c=0;c<M[a][1].length;c+=1)z(M[a][1][c]);M.splice(a,1),a-=1}}function n(a,b,c){function d(){var a;for(a=0;a<j.length;a+=1)K.splice(K.indexOf(j[a]),1)}function e(a){function b(){var b,d;for(b=0;b<c.length;b+=1)if("function"==typeof c[b])if("keyup"===a)for(d=0;d<j.length;d+=1)j[d].keyUpCallback.splice(j[d].keyUpCallback.indexOf(c[b]),1);else for(d=0;d<j.length;d+=1)j[d].keyDownCallback.splice(j[d].keyDownCallback.indexOf(c[b]),1)}var c,d,e,f={};if("string"!=typeof a)throw new Error("Cannot bind callback. The event name must be a string.");if("keyup"!==a&&"keydown"!==a)throw new Error('Cannot bind callback. The event name must be a "keyup" or "keydown".');for(c=Array.prototype.slice.apply(arguments,[1]),d=0;d<c.length;d+=1)if("function"==typeof c[d])if("keyup"===a)for(e=0;e<j.length;e+=1)j[e].keyUpCallback.push(c[d]);else if("keydown"===a)for(e=0;e<j.length;e+=1)j[e].keyDownCallback.push(c[d]);return f.clear=b,f}var f,g,h,i={},j=[];for("string"==typeof a&&(a=v(a)),g=0;g<a.length;g+=1){if(f={},h=w([a[g]]),"string"!=typeof h)throw new Error("Failed to bind key combo. The key combo must be string.");f.keyCombo=h,f.keyDownCallback=[],f.keyUpCallback=[],b&&f.keyDownCallback.push(b),c&&f.keyUpCallback.push(c),K.push(f),j.push(f)}return i.clear=d,i.on=e,i}function o(a){var b,c;for(b=0;b<K.length;b+=1)c=K[b],s(a,c.keyCombo)&&(K.splice(b,1),b-=1)}function p(a){var b,c,d;if(a){for(b=0;b<K.length;b+=1)for(d=K[b],c=0;c<d.keyCombo.length;c+=1)if(d.keyCombo[c].indexOf(a)>-1){K.splice(b,1),b-=1;break}}else K=[]}function q(a){var b,c,d,e,f,g,h,i,j,k,l,m=[];for(f=[].concat(J),b=0;b<K.length;b+=1)l=u(K[b].keyCombo).length,m[l]||(m[l]=[]),m[l].push(K[b]);for(c=m.length-1;c>=0;c-=1)if(m[c])for(b=0;b<m[c].length;b+=1){for(d=m[c][b],e=u(d.keyCombo),j=!0,i=0;i<e.length;i+=1)if(-1===f.indexOf(e[i])){j=!1;break}if(j&&t(d.keyCombo)){for(L.push(d),i=0;i<e.length;i+=1)k=f.indexOf(e[i]),k>-1&&(f.splice(k,1),i-=1);for(g=0;g<d.keyDownCallback.length;g+=1)d.keyDownCallback[g](a,x(),d.keyCombo)===!1&&(h=!0);h===!0&&(a.preventDefault(),a.stopPropagation())}}}function r(a){var b,c,d,e;for(b=0;b<L.length;b+=1)if(d=L[b],t(d.keyCombo)===!1){for(c=0;c<d.keyUpCallback.length;c+=1)d.keyUpCallback[c](a,x(),d.keyCombo)===!1&&(e=!0);e===!0&&(a.preventDefault(),a.stopPropagation()),L.splice(b,1),b-=1}}function s(a,b){var c,d,e;if(a=v(a),b=v(b),a.length!==b.length)return!1;for(c=0;c<a.length;c+=1){if(a[c].length!==b[c].length)return!1;for(d=0;d<a[c].length;d+=1){if(a[c][d].length!==b[c][d].length)return!1;for(e=0;e<a[c][d].length;e+=1)if(-1===b[c][d].indexOf(a[c][d][e]))return!1}}return!0}function t(a){var b,c,d,e,f,g,h=0;for(a=v(a),b=0;b<a.length;b+=1){for(g=!0,h=0,c=0;c<a[b].length;c+=1){for(d=[].concat(a[b][c]),e=h;e<J.length;e+=1)f=d.indexOf(J[e]),f>-1&&(d.splice(f,1),h=e);if(0!==d.length){g=!1;break}}if(g)return!0}return!1}function u(a){var b,c,d=[];for(a=v(a),b=0;b<a.length;b+=1)for(c=0;c<a[b].length;c+=1)d=d.concat(a[b][c]);return d}function v(a){var b=a,c=0,d=0,e=!1,f=!1,g=[],h=[],i=[],j="";if("object"==typeof a&&"function"==typeof a.push)return a;if("string"!=typeof a)throw new Error('Cannot parse "keyCombo" because its type is "'+typeof a+'". It must be a "string".');for(;" "===b.charAt(c);)c+=1;for(;;){if(" "===b.charAt(c)){for(;" "===b.charAt(c);)c+=1;e=!0}else if(","===b.charAt(c)){if(d||f)throw new Error("Failed to parse key combo. Unexpected , at character index "+c+".");f=!0,c+=1}else if("+"===b.charAt(c)){if(j.length&&(i.push(j),j=""),d||f)throw new Error("Failed to parse key combo. Unexpected + at character index "+c+".");d=!0,c+=1}else if(">"===b.charAt(c)){if(j.length&&(i.push(j),j=""),i.length&&(h.push(i),i=[]),d||f)throw new Error("Failed to parse key combo. Unexpected > at character index "+c+".");d=!0,c+=1}else if(c<b.length-1&&"!"===b.charAt(c)&&(">"===b.charAt(c+1)||","===b.charAt(c+1)||"+"===b.charAt(c+1)))j+=b.charAt(c+1),d=!1,e=!1,f=!1,c+=2;else{if(!(c<b.length&&"+"!==b.charAt(c)&&">"!==b.charAt(c)&&","!==b.charAt(c)&&" "!==b.charAt(c))){c+=1;continue}for((d===!1&&e===!0||f===!0)&&(j.length&&(i.push(j),j=""),i.length&&(h.push(i),i=[]),h.length&&(g.push(h),h=[])),d=!1,e=!1,f=!1;c<b.length&&"+"!==b.charAt(c)&&">"!==b.charAt(c)&&","!==b.charAt(c)&&" "!==b.charAt(c);)j+=b.charAt(c),c+=1}if(c>=b.length){j.length&&(i.push(j),j=""),i.length&&(h.push(i),i=[]),h.length&&(g.push(h),h=[]);break}}return g}function w(a){var b,c,d=[];if("string"==typeof a)return a;if("object"!=typeof a||"function"!=typeof a.push)throw new Error("Cannot stringify key combo.");for(b=0;b<a.length;b+=1){for(d[b]=[],c=0;c<a[b].length;c+=1)d[b][c]=a[b][c].join(" + ");d[b]=d[b].join(" > ")}return d.join(" ")}function x(){return[].concat(J)}function y(a){if(a.match(/\s/))throw new Error("Cannot add key name "+a+" to active keys because it contains whitespace.");J.indexOf(a)>-1||J.push(a)}function z(a){var b=i(a);"91"===b||"92"===b?J=[]:J.splice(J.indexOf(a),1),/^Mac/.test(navigator.platform)&&((/Chrome/.test(navigator.userAgent)||/Safari/.test(navigator.userAgent))&&("91"===b||"93"===b)&&(J=[]),/Opera/.test(navigator.userAgent)&&"17"==b&&(J=[]),/Firefox/.test(navigator.userAgent)&&"224"==b&&(J=[]))}function A(a,b){if("string"!=typeof a)throw new Error("Cannot register new locale. The locale name must be a string.");if("object"!=typeof b)throw new Error("Cannot register "+a+" locale. The locale map must be an object.");if("object"!=typeof b.map)throw new Error("Cannot register "+a+" locale. The locale map is invalid.");b.macros||(b.macros=[]),I[a]=b}function B(a){if(a){if("string"!=typeof a)throw new Error("Cannot set locale. The locale name must be a string.");if(!I[a])throw new Error("Cannot set locale to "+a+" because it does not exist. If you would like to submit a "+a+" locale map for KeyboardJS please submit it at https://github.com/RobertWHurst/KeyboardJS/issues.");D=I[a].map,E=I[a].macros,C=a}return C}var C,D,E,F,G,H={},I={},J=[],K=[],L=[],M=[];for(a=a&&Object.getOwnPropertyNames(a).length>0?a:window,G={map:{3:["cancel"],8:["backspace"],9:["tab"],12:["clear"],13:["enter"],16:["shift"],17:["ctrl"],18:["alt","menu"],19:["pause","break"],20:["capslock"],27:["escape","esc"],32:["space","spacebar"],33:["pageup"],34:["pagedown"],35:["end"],36:["home"],37:["left"],38:["up"],39:["right"],40:["down"],41:["select"],42:["printscreen"],43:["execute"],44:["snapshot"],45:["insert","ins"],46:["delete","del"],47:["help"],91:["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"],92:["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"],145:["scrolllock","scroll"],186:["semicolon",";"],187:["equal","equalsign","="],188:["comma",","],189:["dash","-"],190:["period","."],191:["slash","forwardslash","/"],192:["graveaccent","`"],219:["openbracket","["],220:["backslash","\\"],221:["closebracket","]"],222:["apostrophe","'"],48:["zero","0"],49:["one","1"],50:["two","2"],51:["three","3"],52:["four","4"],53:["five","5"],54:["six","6"],55:["seven","7"],56:["eight","8"],57:["nine","9"],96:["numzero","num0"],97:["numone","num1"],98:["numtwo","num2"],99:["numthree","num3"],100:["numfour","num4"],101:["numfive","num5"],102:["numsix","num6"],103:["numseven","num7"],104:["numeight","num8"],105:["numnine","num9"],106:["nummultiply","num*"],107:["numadd","num+"],108:["numenter"],109:["numsubtract","num-"],110:["numdecimal","num."],111:["numdivide","num/"],144:["numlock","num"],112:["f1"],113:["f2"],114:["f3"],115:["f4"],116:["f5"],117:["f6"],118:["f7"],119:["f8"],120:["f9"],121:["f10"],122:["f11"],123:["f12"]},macros:[["shift + `",["tilde","~"]],["shift + 1",["exclamation","exclamationpoint","!"]],["shift + 2",["at","@"]],["shift + 3",["number","#"]],["shift + 4",["dollar","dollars","dollarsign","$"]],["shift + 5",["percent","%"]],["shift + 6",["caret","^"]],["shift + 7",["ampersand","and","&"]],["shift + 8",["asterisk","*"]],["shift + 9",["openparen","("]],["shift + 0",["closeparen",")"]],["shift + -",["underscore","_"]],["shift + =",["plus","+"]],["shift + (",["opencurlybrace","opencurlybracket","{"]],["shift + )",["closecurlybrace","closecurlybracket","}"]],["shift + \\",["verticalbar","|"]],["shift + ;",["colon",":"]],["shift + '",["quotationmark",'"']],["shift + !,",["openanglebracket","<"]],["shift + .",["closeanglebracket",">"]],["shift + /",["questionmark","?"]]]},F=65;90>=F;F+=1)G.map[F]=String.fromCharCode(F+32),G.macros.push(["shift + "+String.fromCharCode(F+32)+", capslock + "+String.fromCharCode(F+32),[String.fromCharCode(F)]]);return/^Mac/.test(navigator.platform)&&((/Chrome/.test(navigator.userAgent)||/Safari/.test(navigator.userAgent))&&(G.map[93]=G.map[92]),/Opera/.test(navigator.userAgent)&&(G.map[17]=G.map[91],delete G.map[91]),/Firefox/.test(navigator.userAgent)&&(G.map[224]=G.map[91],delete G.map[91]),delete G.map[92]),A("us",G),B("us"),c(),H.enable=c,H.disable=d,H.activeKeys=x,H.releaseKey=z,H.pressKey=y,H.on=n,H.clear=o,H.clear.key=p,H.locale=B,H.locale.register=A,H.macro=j,H.macro.remove=k,H.key={},H.key.name=h,H.key.code=i,H.combo={},H.combo.active=t,H.combo.parse=v,H.combo.stringify=w,H})},{}],4:[function(a,b,c){function d(a,b){this.toString=e.bind(this,a,b);for(var c=Object.getOwnPropertyNames(String.prototype),d=0;d<c.length;d++)"toString"!=c[d]&&("function"==typeof String.prototype[c[d]]?this[c[d]]=function(){var a=this.self.toString();return a[this.prop].apply(a,arguments)}.bind({self:this,prop:c[d]}):Object.defineProperty(this,c[d],{get:function(){var a=this.self.toString();return a[this.prop]}.bind({self:this,prop:c[d]}),enumerable:!1,configurable:!1}))}function e(a,b){var c=a;if(p&&o[p]&&o[p].messages[a]&&o[p].messages[a].length>0&&""!==o[p].messages[a][0]&&(c=o[p].messages[a][0]),b)for(var d in b)c=c.replace(new RegExp("{"+d+"}","g"),b[d]);return c}function f(a,b){return new d(a,b)}function g(a){for(var b in a)o[b]=a[b]}function h(){return p}function i(a){p=a,q&&n(),k("stonejs-locale-changed")}function j(){var a=navigator.language||navigator.userLanguage||navigator.systemLanguage||navigator.browserLanguage||null;return a&&(a=a.toLowerCase()),a&&a.length>3&&(a=a.split(";")[0],a=a.split(",")[0],a=a.split("-")[0],a=a.split("_")[0],a.length>3&&(a=null)),a||"en"}function k(a,b){var b=b||{},c=null;try{c=new Event(a)}catch(d){c=document.createEvent("Event"),c.initEvent(a,!0,!1)}for(var e in b)c[e]=b[e];document.dispatchEvent(c)}function l(a){g(a.catalog)}function m(a){q=!!a,q&&n()}function n(){var a=document.getElementsByTagName("*"),b=null,c=null,d=0,f=0;for(d=0;d<a.length;d++)if(a[d].hasAttribute("stonejs")){for(a[d].hasAttribute("stonejs-orig-string")||a[d].setAttribute("stonejs-orig-string",a[d].innerHTML),b={},c=a[d].attributes,f=0;f<c.length;f++)0==c[f].name.indexOf("stonejs-param-")&&(b[c[f].name.substr(14)]=c[f].value);__gettext=e,a[d].innerHTML=__gettext(a[d].getAttribute("stonejs-orig-string"),b)}}var o={},p=null,q=!1;document.addEventListener("stonejs-autoload-catalogs",l,!0),b.exports={LazyString:d,gettext:e,lazyGettext:f,addCatalogs:g,getLocale:h,setLocale:i,guessUserLanguage:j,enableDomScan:m,updateDomTranslation:n}},{}],5:[function(a,b,c){(function(a){var c;if(a.crypto&&crypto.getRandomValues){var d=new Uint8Array(16);c=function(){return crypto.getRandomValues(d),d}}if(!c){var e=new Array(16);c=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),e[b]=a>>>((3&b)<<3)&255;return e}}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(a,b,c){function d(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=j[a])});16>e;)b[d+e++]=0;return b}function e(a,b){var c=b||0,d=i;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function f(a,b,c){var d=b&&c||0,f=b||[];a=a||{};var g=void 0!==a.clockseq?a.clockseq:n,h=void 0!==a.msecs?a.msecs:(new Date).getTime(),i=void 0!==a.nsecs?a.nsecs:p+1,j=h-o+(i-p)/1e4;if(0>j&&void 0===a.clockseq&&(g=g+1&16383),(0>j||h>o)&&void 0===a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,p=i,n=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[d++]=k>>>24&255,f[d++]=k>>>16&255,f[d++]=k>>>8&255,f[d++]=255&k;var l=h/4294967296*1e4&268435455;f[d++]=l>>>8&255,f[d++]=255&l,f[d++]=l>>>24&15|16,f[d++]=l>>>16&255,f[d++]=g>>>8|128,f[d++]=255&g;for(var q=a.node||m,r=0;6>r;r++)f[d+r]=q[r];return b?b:e(f)}function g(a,b,c){var d=b&&c||0;"string"==typeof a&&(b="binary"==a?new Array(16):null,a=null),a=a||{};var f=a.random||(a.rng||h)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b)for(var g=0;16>g;g++)b[d+g]=f[g];return b||e(f)}for(var h=a("./rng"),i=[],j={},k=0;256>k;k++)i[k]=(k+256).toString(16).substr(1),j[i[k]]=k;var l=h(),m=[1|l[0],l[1],l[2],l[3],l[4],l[5]],n=16383&(l[6]<<8|l[7]),o=0,p=0,q=g;q.v1=f,q.v4=g,q.parse=d,q.unparse=e,b.exports=q},{"./rng":5}],7:[function(a,b,c){var d=a("abitbol"),e=a("uuid"),f=a("./helpers.js"),g=d.$extend({__init__:function(a){this.__events={},this._registerWEvents(["destroy"]),a=a||{};for(var b in a)void 0!==this[b]&&(this[b]=a[b]);var c=null,d=0,f="";if(a.callbacks)for(var g in a.callbacks)if(c=a.callbacks[g],"function"==typeof c)this.registerCallback(e.v4(),g,c);else if(c instanceof Array)for(d=0;d<c.length;d++)this.registerCallback(e.v4(),g,c[d]);else for(f in c)this.registerCallback(f,g,c[f])},__events:null,__callbacks:null,destroy:function(){this._callCallbacks("destroy");for(var a in this.__events)this._unbindEvent(a)},registerCallback:function(a,b,c,d){return this.__callbacks[b]?void(this.__callbacks[b][a]={callback:c,thisArg:d||null}):void f.log("error","This widget has no '"+b+"' wEvent.")},removeCallback:function(a){for(var b in this.__callbacks)this.__callbacks[b][a]&&delete this.__callbacks[b][a]},_updateProperties:function(a){for(var b=0;b<a.length;b++)this[a[b]]=this[a[b]]},_bindEvent:function(a,b,c,d){this._unbindEvent(a),this.__events[a]={evName:c,element:b,callback:d},this.__events[a].element.addEventListener(this.__events[a].evName,this.__events[a].callback,!1)},_unbindEvent:function(a){this.__events[a]&&(this.__events[a].element.removeEventListener(this.__events[a].evName,this.__events[a].callback,!1),delete this.__events[a])},_registerWEvents:function(a){null===this.__callbacks&&(this.__callbacks={});for(var b in a)this.__callbacks[a[b]]={}},_callCallbacks:function(a,b){b=b||[];for(var c in this.__callbacks[a])this.__callbacks[a][c].callback.apply(this.__callbacks[a][c].thisArg||this,[this].concat(b))}});b.exports=g},{"./helpers.js":22,abitbol:1,uuid:6}],8:[function(a,b,c){var d=a("stonejs").gettext,e=a("../interactive/button.js"),f=a("../nonvisual/color.js"),g=a("../interactive/colorpalette.js"),h=a("../container/popupwindow.js"),i=a("../layout/boxlayout.js"),j=a("./colorpickerdialog.js"),k=e.$extend({__init__:function(a){this.__widgets={},this._color=new f,this._registerWEvents(["value-changed"]),this.$super(a),this._buildUi(),this._updateProperties(["color"])},getValue:function(){return this.color.hexString},setValue:function(a){this.color.hexString=a},_color:null,getColor:function(){return this._color},setColor:function(a){a instanceof f&&(this._color&&this._color.removeCallback("photonui.colorbutton.value-changed::"+this.name),this._color=a,this._color.registerCallback("photonui.colorbutton.value-changed::"+this.name,"value-changed",this.__onColorChanged,this)),this.__onColorChanged(),a instanceof f&&(this._color=a)},_dialogOnly:!1,isDialogOnly:function(){return this._dialogOnly},setDialogOnly:function(a){this._dialogOnly=Boolean(a)},destroy:function(){this._color.removeCallback("photonui.colorbutton.value-changed::"+this.name),this.$super()},_update:function(){},_buildHtml:function(){this.$super(),this.__html.button=document.createElement("button"),this.__html.button.className="photonui-widget photonui-button",this.__html.button.className+=" photonui-colorbutton",this.__html.color=document.createElement("span"),this.__html.button.appendChild(this.__html.color)},_buildUi:function(){this.__widgets.popup=new h,this.__widgets.vbox=new i({verticalSpacing:0,horizontalSpacing:0}),this.__widgets.popup.child=this.__widgets.vbox,this.__widgets.palette=new g,this.__widgets.vbox.addChild(this.__widgets.palette),this.__widgets.custom=new e({text:d("Custom color..."),appearance:"flat"}),this.__widgets.custom.addClass("photonui-colorbutton-custombutton"),this.__widgets.vbox.addChild(this.__widgets.custom),this.__widgets.colorPickerDialog=new j,this.__widgets.palette.registerCallback("value-changed","value-changed",this.__onValueChanged,this),this.__widgets.colorPickerDialog.registerCallback("value-changed","value-changed",this.__onValueChanged,this),this.__widgets.custom.registerCallback("click","click",this.__onCustomButtonClicked,this),this.__widgets.palette.color=this.color,this.__widgets.colorPickerDialog.color=this.color},__onButtonClicked:function(a){this._callCallbacks("click",[a]),this.dialogOnly?(this.__widgets.colorPickerDialog.show(),this.__widgets.colorPickerDialog.center()):this.__widgets.popup.popupWidget(this)},__onValueChanged:function(a,b){this._callCallbacks("value-changed",[this.color])},__onColorChanged:function(){this.__html.color.style.backgroundColor=this.color.hexString},__onCustomButtonClicked:function(){this.__widgets.colorPickerDialog.show(),this.__widgets.colorPickerDialog.center()}});b.exports=k},{"../container/popupwindow.js":17,"../interactive/button.js":23,"../interactive/colorpalette.js":25,"../layout/boxlayout.js":34,"../nonvisual/color.js":41,"./colorpickerdialog.js":9,stonejs:4}],9:[function(a,b,c){var d=a("stonejs").gettext,e=a("../container/dialog.js"),f=a("../layout/boxlayout.js"),g=a("../layout/gridlayout.js"),h=a("../nonvisual/color.js"),i=a("../interactive/colorpalette.js"),j=a("../interactive/colorpicker.js"),k=a("../interactive/button.js"),l=a("../interactive/slider.js"),m=a("../visual/separator.js"),n=a("../visual/label.js"),o=a("../visual/faicon.js"),p=e.$extend({__init__:function(a){this.__widgets={},this._color=new h,a=a||{},void 0===a.title&&(a.title=d("Select a color...")),this._registerWEvents(["value-changed"]),this.$super(a),this._buildUi(),this._updateProperties(["color"])},_padding:10,_color:null,getColor:function(){return this._color},setColor:function(a){a instanceof h&&(this._color&&this._color.removeCallback("photonui.colorpickerdialog.value-changed::"+this.name),this._color=a,this._color.registerCallback("photonui.colorpickerdialog.value-changed::"+this.name,"value-changed",this.__onColorChanged,this)),this.__onColorChanged()},setVisible:function(a){this.$super(a),this._color&&a&&this.__widgets.labelRed&&this._updateUi()},destroy:function(){this._color.removeCallback("photonui.colorpickerdialog.value-changed::"+this.name),this.$super()},_buildUi:function(){this.html.className+=" photonui-colorpickerdialog",this.__widgets.hbox=new f({orientation:"horizontal"}),this.child=this.__widgets.hbox,this.__widgets.colorPicker=new j,this.__widgets.hbox.addChild(this.__widgets.colorPicker),this.__widgets.colorPalette=new i,this.__widgets.hbox.addChild(this.__widgets.colorPalette),this.__widgets.separator=new m({orientation:"vertical"}),this.__widgets.hbox.addChild(this.__widgets.separator),this.__widgets.grid=new g,this.__widgets.hbox.addChild(this.__widgets.grid),this.__widgets.fieldRed=new l({min:0,max:255,decimalDigits:0}),this.__widgets.labelRed=new n({text:d("Red:"),forInput:this.__widgets.fieldRed}),this.__widgets.grid.addChild(this.__widgets.labelRed,{gridX:0,gridY:0,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldRed,{gridX:1,gridY:0,verticalExpansion:!1}),this.__widgets.fieldGreen=new l({min:0,max:255,decimalDigits:0}),this.__widgets.labelGreen=new n({text:d("Green:"),forInput:this.__widgets.fieldGreen}),this.__widgets.grid.addChild(this.__widgets.labelGreen,{gridX:0,gridY:1,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldGreen,{gridX:1,gridY:1,verticalExpansion:!1}),this.__widgets.fieldBlue=new l({min:0,max:255,decimalDigits:0}),this.__widgets.labelBlue=new n({text:d("Blue:"),forInput:this.__widgets.fieldBlue}),this.__widgets.grid.addChild(this.__widgets.labelBlue,{gridX:0,gridY:2,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldBlue,{gridX:1,gridY:2,verticalExpansion:!1}),this.__widgets.separator2=new m,this.__widgets.grid.addChild(this.__widgets.separator2,{gridX:0,gridY:3,verticalExpansion:!1,gridWidth:2}),this.__widgets.fieldHue=new l({min:0,max:360,decimalDigits:0}),this.__widgets.labelHue=new n({text:d("Hue:"),forInput:this.__widgets.fieldHue}),this.__widgets.grid.addChild(this.__widgets.labelHue,{gridX:0,gridY:4,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldHue,{gridX:1,gridY:4,verticalExpansion:!1}),this.__widgets.fieldSaturation=new l({min:0,max:100,decimalDigits:0}),this.__widgets.labelSaturation=new n({text:d("Saturation:"),forInput:this.__widgets.fieldSaturation}),this.__widgets.grid.addChild(this.__widgets.labelSaturation,{gridX:0,gridY:5,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldSaturation,{gridX:1,gridY:5,verticalExpansion:!1}),this.__widgets.fieldBrightness=new l({min:0,max:100,decimalDigits:0}),this.__widgets.labelBrightness=new n({text:d("Brightness:"),forInput:this.__widgets.fieldBrightness}),this.__widgets.grid.addChild(this.__widgets.labelBrightness,{gridX:0,gridY:6,verticalExpansion:!1}),this.__widgets.grid.addChild(this.__widgets.fieldBrightness,{gridX:1,gridY:6,verticalExpansion:!1}),this.__widgets.buttonOk=new k({text:d("Ok")}),o&&(this.__widgets.buttonOk.leftIcon=new o("fa-check")),this.__widgets.buttonCancel=new k({text:d("Cancel")}),this.buttons=[this.__widgets.buttonOk,this.__widgets.buttonCancel],o&&(this.__widgets.buttonCancel.leftIcon=new o("fa-times")),this.__widgets.colorPalette.color=this.__widgets.colorPicker.color,this.__widgets.colorPicker.color.registerCallback("colorpickerdialog.colorPicker.value-changed","value-changed",this._updateUi,this),this.__widgets.fieldRed.registerCallback("colorpickerdialog.fieldRed.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.red=b},this),this.__widgets.fieldGreen.registerCallback("colorpickerdialog.fieldGreen.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.green=b},this),this.__widgets.fieldBlue.registerCallback("colorpickerdialog.fieldBlue.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.blue=b},this),this.__widgets.fieldHue.registerCallback("colorpickerdialog.fieldHue.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.hue=b},this),this.__widgets.fieldSaturation.registerCallback("colorpickerdialog.fieldSaturation.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.saturation=b},this),this.__widgets.fieldBrightness.registerCallback("colorpickerdialog.fieldBrightness.value-changed","value-changed",function(a,b){this.__widgets.colorPicker.color.brightness=b},this),this.__widgets.buttonOk.registerCallback("colorpickerdialog.buttonOk.click","click",this.__onValidate,this),this.__widgets.buttonCancel.registerCallback("colorpickerdialog.buttonCancel.click","click",this.__onCancel,this),this.registerCallback("colorpickerdialog.close","close-button-clicked",this.__onCancel,this)},_updateUi:function(a){a=a||this.color,this.__widgets.fieldRed.value=a.red,this.__widgets.fieldGreen.value=a.green,this.__widgets.fieldBlue.value=a.blue,this.__widgets.fieldHue.value=a.hue,this.__widgets.fieldSaturation.value=a.saturation,this.__widgets.fieldBrightness.value=a.brightness},__onCancel:function(){this.__widgets.colorPicker.color.setHSB(this._color.hue,this._color.saturation,this._color.brightness),this.hide()},__onValidate:function(){this._color.setHSB(this.__widgets.colorPicker.color.hue,this.__widgets.colorPicker.color.saturation,this.__widgets.colorPicker.color.brightness),this.hide(),this._callCallbacks("value-changed",[this.color])},__onColorChanged:function(){this.__widgets.colorPicker.color.setHSB(this._color.hue,this._color.saturation,this._color.brightness)}});b.exports=p},{"../container/dialog.js":15,"../interactive/button.js":23,"../interactive/colorpalette.js":25,"../interactive/colorpicker.js":26,
"../interactive/slider.js":29,"../layout/boxlayout.js":34,"../layout/gridlayout.js":36,"../nonvisual/color.js":41,"../visual/faicon.js":49,"../visual/label.js":51,"../visual/separator.js":53,stonejs:4}],10:[function(a,b,c){var d=a("stonejs"),e=a("./select.js"),f=a("../container/menuitem.js"),g=e.$extend({__init__:function(a){a=a||{},this._fonts=[],this.$super(a),0===this.fonts.length&&(this.fonts=["sans-serif","serif","monospace"]),this.value=void 0!==a.value?a.value:"sans-serif"},_fonts:null,getFonts:function(){return this._fonts},setFonts:function(a){this._fonts=[];for(var b=0;b<a.length;b++)this.addFont(a[b])},_placeholder:d.lazyGettext("Select a font..."),addFont:function(a){var b=new f({value:a,text:a});b.html.style.fontFamily=a,this.addChild(b),this._fonts.push(a)},_buildHtml:function(){this.$super(),this.__html.select.className+=" photonui-fontselect"}});b.exports=g},{"../container/menuitem.js":16,"./select.js":12,stonejs:4}],11:[function(a,b,c){var d=a("../container/popupwindow.js"),e=a("../layout/menu.js"),f=d.$extend({__init__:function(a){this._childrenNames=[],this.$super(a)},__include__:[{getChildrenNames:e.prototype.getChildrenNames,setChildrenNames:e.prototype.setChildrenNames,getChildren:e.prototype.getChildren,setChildren:e.prototype.setChildren,getChildName:e.prototype.getChildName,setChildName:e.prototype.setChildName,getChild:e.prototype.getChild,setChild:e.prototype.setChild,_iconVisible:e.prototype._iconVisible,isIconVisible:e.prototype.isIconVisible,setIconVisible:e.prototype.setIconVisible,addChild:e.prototype.addChild,removeChild:e.prototype.removeChild,empty:e.prototype.empty,destroy:e.prototype.destroy,_updateLayout:e.prototype._updateLayout,_lockUpdate:e.prototype._lockUpdate}],_buildHtml:function(){this.$super(),e.prototype._buildHtml.call(this),this.__html.inner.appendChild(this.__html.outer),this.__html.window.className+=" photonui-popupmenu",this.__html.outer.className="photonui-widget photonui-menu photonui-menu-style-popupmenu"},__onLocaleChanged:function(){}});b.exports=f},{"../container/popupwindow.js":17,"../layout/menu.js":38}],12:[function(a,b,c){var d=a("stonejs"),e=a("../helpers.js"),f=a("../widget.js"),g=a("./popupmenu.js"),h=a("../container/menuitem.js"),i=f.$extend({__init__:function(a){a=a||{},this.__popupMenu=new g({maxHeight:300,className:"photonui-select-popup",iconVisible:!1}),this._registerWEvents(["value-changed"]),this.$super(a),this._updateProperties(["value","iconVisible"]),this._bindEvent("popup",this.html,"click",this.__onClick.bind(this)),this.setValue(a.value||this.value,!0)},_value:"",getValue:function(){return this._value},setValue:function(a,b){if(this.value!=a||b){for(var c=this.__popupMenu.children,d=0;d<c.length;d++)if(c[d]instanceof h&&c[d].value==a)return this._value=a,e.cleanNode(this.__html.select),void this.__html.select.appendChild(c[d].html.cloneNode(!0));this._value="";var f=new h({text:this.placeholder,className:"photonui-select-placeholder"});e.cleanNode(this.__html.select),this.__html.select.appendChild(f.html)}},_placeholder:d.lazyGettext("Select..."),getPlaceholder:function(){return this._placeholder},setPlaceholder:function(a){this._placeholder=a},getChildren:function(){return this.__popupMenu.getChildren()},setChildren:function(a){this.__popupMenu.setChildren(a),this._updateItemsBinding()},getChildrenNames:function(){return this.__popupMenu.getChildrenNames()},setChildrenNames:function(a){this.__popupMenu.setChildrenNames(a),this._updateItemsBinding()},getPopupWidth:function(){return this.__popupMenu.getWidth()},setPopupWidth:function(a){this.__popupMenu.setWidth(a)},getPopupHeight:function(){return this.__popupMenu.getHeight()},setPopupHeight:function(a){this.__popupMenu.setHeight(a)},getPopupMaxWidth:function(){return this.__popupMenu.getMaxWidth()},setPopupMaxWidth:function(a){this.__popupMenu.setMaxWidth(a)},_minWidthDefined:!1,getPopupMinWidth:function(){return this.__popupMenu.getMinWidth()},setPopupMinWidth:function(a){this._minWidthDefined=!0,this.__popupMenu.setMinWidth(a)},getPopupMaxHeight:function(){return this.__popupMenu.getMaxHeight()},setPopupMaxHeight:function(a){this.__popupMenu.setMaxHeight(a)},getPopupMinHeight:function(){return this.__popupMenu.getMinHeight()},setPopupMinHeight:function(a){this.__popupMenu.setMinHeight(a)},getPopupOffsetWidth:function(){return this.__popupMenu.getOffsetWidth()},getPopupOffsetHeight:function(){return this.__popupMenu.getOffsetHeight()},getPopupPadding:function(){return this.__popupMenu.getPadding()},setPopupPadding:function(a){this.__popupMenu.setPadding(a)},isIconVisible:function(){return this.__popupMenu.isIconVisible()},setIconVisible:function(a){a?this.removeClass("photonui-select-noicon"):this.addClass("photonui-select-noicon"),this.__popupMenu.setIconVisible(a)},getHtml:function(){return this.__html.select},__popupMenu:null,addChild:function(a,b){this.__popupMenu.addChild(a,b),this._updateItemsBinding()},destroy:function(){this.__popupMenu.destroy(),this.$super()},_buildHtml:function(){this.__html.select=document.createElement("div"),this.__html.select.className="photonui-widget photonui-select",this.__html.select.tabIndex="0"},_updateItemsBinding:function(){for(var a=this.__popupMenu.children,b=0;b<a.length;b++)a[b]instanceof h&&a[b].registerCallback(this.name+"-click","click",this.__onItemClicked,this)},__onClick:function(a){this._minWidthDefined||(this.popupMinWidth=this.offsetWidth),this.__popupMenu.popupWidget(this)},__onItemClicked:function(a){this.value=a.value,this._callCallbacks("value-changed",[this.value])}});b.exports=i},{"../container/menuitem.js":16,"../helpers.js":22,"../widget.js":56,"./popupmenu.js":11,stonejs:4}],13:[function(a,b,c){var d=a("./container.js"),e=a("../widget.js"),f=d.$extend({__init__:function(a){this._registerWEvents(["position-changed"]),this.$super(a),a=a||{},void 0===a.visible&&(this.visible=!1),e.domInsert(this),this._updateProperties(["position","width","height","minWidth","minHeight","maxWidth","maxHeight","padding"])},getPosition:function(){return this.visible&&this.html.parentNode?this.absolutePosition:{x:this._x,y:this._y}},setPosition:function(a,b){"object"==typeof a&&void 0===b?(this.html.style.left=a.x+"px",this.html.style.top=a.y+"px",this._x=a.x,this._y=a.y):("number"==typeof a&&(this.html.style.left=a+"px",this._x=a),"number"==typeof b&&(this.html.style.top=b+"px",this._y=b)),this._callCallbacks("position-changed",[this.x,this.y])},_x:0,getX:function(){return this.position.x},setX:function(a){this.setPosition(a,null)},_y:0,getY:function(){return this.position.y},setY:function(a){this.setPosition(null,a)},_width:null,getWidth:function(){return this.visible&&this.html.parenNode?this.containerNode.offsetWidth:this._width||0},setWidth:function(a){this._width=a||null,this._width?this.containerNode.style.width=a+"px":this.containerNode.style.width="auto"},_height:null,getHeight:function(){return this.visible&&this.html.parenNode?this.containerNode.offsetHeight:this._height||0},setHeight:function(a){this._height=a||null,this._height?this.containerNode.style.height=a+"px":this.containerNode.style.height="auto"},_minWidth:null,getMinWidth:function(){return this._minWidth},setMinWidth:function(a){this._minWidth=a||null,this._minWidth?this.containerNode.style.minWidth=a+"px":this.containerNode.style.minWidth="0"},_minHeight:null,getMinHeight:function(){return this._minHeight},setMinHeight:function(a){this._minHeight=a||null,this._minHeight?this.containerNode.style.minHeight=a+"px":this.containerNode.style.minHeight="0"},_maxWidth:null,getMaxWidth:function(){return this._maxWidth},setMaxWidth:function(a){this._maxWidth=a||null,this._maxWidth?this.containerNode.style.maxWidth=a+"px":this.containerNode.style.maxWidth="auto"},_maxHeight:null,getMaxHeight:function(){return this._maxHeight},setMaxHeight:function(a){this._maxHeight=a||null,this._maxHeight?this.containerNode.style.maxHeight=a+"px":this.containerNode.style.maxHeight="auto"},_padding:0,getPadding:function(){return this._padding},setPadding:function(a){this._padding=a,this.containerNode.style.padding=a+"px"},getHtml:function(){return this.__html.window},getContainerNode:function(){return this.html},center:function(){var a=e.e_parent||document.getElementsByTagName("body")[0];a&&this.setPosition(0|Math.max((a.offsetWidth-this.offsetWidth)/2,0),0|Math.max((a.offsetHeight-this.offsetHeight)/2,0))},_buildHtml:function(){this.__html.window=document.createElement("div"),this.__html.window.className="photonui-widget photonui-basewindow"}});b.exports=f},{"../widget.js":56,"./container.js":14}],14:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["horizontalChildExpansion","verticalChildExpansion"]),this._childName&&(this.child._parentName=this.name)},_horizontalChildExpansion:!0,getHorizontalChildExpansion:function(){return this._horizontalChildExpansion},setHorizontalChildExpansion:function(a){this._horizontalChildExpansion=Boolean(a),this.containerNode&&(a?this.containerNode.classList.add("photonui-container-expand-child-horizontal"):this.containerNode.classList.remove("photonui-container-expand-child-horizontal"))},_verticalChildExpansion:!1,getVerticalChildExpansion:function(){return this._verticalChildExpansion},setVerticalChildExpansion:function(a){this._verticalChildExpansion=Boolean(a),this.containerNode&&(a?this.containerNode.classList.add("photonui-container-expand-child-vertical"):this.containerNode.classList.remove("photonui-container-expand-child-vertical"))},_childName:null,getChildName:function(){return this._childName},setChildName:function(a){this.childName&&this.containerNode&&this.child&&this.child.html&&(this.containerNode.removeChild(this.child.html),this.child._parentName=null),this._childName=a,this.child&&this.child._parentName&&(this.child.parent.child=null),this.childName&&this.containerNode&&this.child&&this.child.html&&(this.containerNode.appendChild(this.child.html),this.child._parentName=this.name)},getChild:function(){return d.getWidget(this.childName)},setChild:function(a){return a&&a instanceof d?void(this.childName=a.name):void(this.childName=null)},getContainerNode:function(){return null},_visibilityChanged:function(a){a=void 0!==a?a:this.visible,this.child instanceof d&&this.child._visibilityChanged(a),this.$super(a)},removeChild:function(a){this.child==a&&(this.child=null)},destroy:function(){this.childName&&this.child&&this.child.destroy(),this.$super()}});b.exports=e},{"../widget.js":56}],15:[function(a,b,c){var d=a("../helpers.js"),e=a("../widget.js"),f=a("./window.js"),g=f.$extend({__init__:function(a){this._buttonsNames=[],this.$super(a);for(var b=this.buttons,c=0;c<b.length;c++)b[c]._parentName=this.name},_buttonsNames:[],getButtonsNames:function(){return this._buttonsNames},setButtonsNames:function(a){var b,c;for(b=0;b<this._buttonsNames.length;b++){c=e.getWidget(this._buttonsNames[b]);var d=this._buttonsNames.indexOf(c.name);d>=0&&(c._parentName=null)}for(this._buttonsNames=[],b=0;b<a.length;b++)c=e.getWidget(a[b]),c&&(c.parent&&c.unparent(),this._buttonsNames.push(c.name),c._parentName=this.name);this._updateButtons()},getButtons:function(){for(var a,b=[],c=0;c<this._buttonsNames.length;c++)a=e.getWidget(this._buttonsNames[c]),a instanceof e&&b.push(a);return b},setButtons:function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof e&&b.push(a[c].name);this.buttonsNames=b},addButton:function(a,b){a.parent&&a.unparent(),b&&(a.layoutOptions=b),this._buttonsNames.push(a.name),a._parentName=this.name,this._updateButtons()},removeButton:function(a){var b=this._buttonsNames.indexOf(a.name);b>=0&&(this._buttonsNames.splice(b,1),a._parentName=null),this._updateButtons()},removeChild:function(){this.$super.apply(this,arguments),this.removeButton.apply(this,arguments)},destroy:function(){for(var a=this.buttons,b=0;b<a.length;b++)a[b]&&a[b].destroy();this.$super()},_updateButtons:function(){d.cleanNode(this.__html.buttons);for(var a=this.buttons,b=a.length-1;b>=0;b--)this.__html.buttons.appendChild(a[b].html)},_buildHtml:function(){this.$super(),this.__html.window.className+=" photonui-dialog",this.__html.buttons=document.createElement("div"),this.__html.buttons.className="photonui-dialog-buttons",this.__html.window.appendChild(this.__html.buttons)},_visibilityChanged:function(a){a=void 0!==a?a:this.visible;for(var b=this.buttons,c=0;c<b.length;c++)this.child instanceof e&&b[c]._visibilityChanged(a);this.$super(a)}});b.exports=g},{"../helpers.js":22,"../widget.js":56,"./window.js":21}],16:[function(a,b,c){var d=a("../helpers.js"),e=a("../widget.js"),f=a("./container.js"),g=a("../visual/baseicon.js"),h=f.$extend({__init__:function(a){this._registerWEvents(["click"]),this.$super(a),this._updateProperties(["text","icon","active"]),this._bindEvent("click",this.__html.outer,"click",function(a){this._callCallbacks("click",[a])}.bind(this))},_value:"",getValue:function(){return this._value},setValue:function(a){this._value=a},_text:"Menu Item",getText:function(){return this._text},setText:function(a){this._text=a,d.cleanNode(this.__html.text),this.__html.text.appendChild(document.createTextNode(a))},_iconName:null,getIconName:function(){return this._iconName},setIconName:function(a){this._iconName=a,d.cleanNode(this.__html.icon),this._iconName&&this.__html.icon.appendChild(this.icon.html)},getIcon:function(){return e.getWidget(this._iconName)},setIcon:function(a){return a instanceof g?void(this.iconName=a.name):void(this.iconName=null)},_active:!1,getActive:function(){return this._active},setActive:function(a){this._active=a,a?this.addClass("photonui-menuitem-active"):this.removeClass("photonui-menuitem-active")},getHtml:function(){return this.__html.outer},getContainerNode:function(){return this.__html.widget},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-menuitem",this.__html.icon=document.createElement("span"),this.__html.icon.className="photonui-menuitem-icon",this.__html.outer.appendChild(this.__html.icon),this.__html.text=document.createElement("span"),this.__html.text.className="photonui-menuitem-text",this.__html.outer.appendChild(this.__html.text),this.__html.widget=document.createElement("span"),this.__html.widget.className="photonui-menuitem-widget",this.__html.outer.appendChild(this.__html.widget)}});b.exports=h},{"../helpers.js":22,"../visual/baseicon.js":47,"../widget.js":56,"./container.js":14}],17:[function(a,b,c){var d=a("./basewindow.js"),e=d.$extend({__init__:function(a){this.$super(a),this._bindEvent("document-mousedown-close",document,"mousedown",this.hide.bind(this)),this._bindEvent("popup-click-close",this.html,"click",this.hide.bind(this)),this._bindEvent("mousedown-preventclose",this.html,"mousedown",function(a){a.stopPropagation()}.bind(this))},getContainerNode:function(){return this.__html.inner},popupXY:function(a,b){this.setPosition(-1337,-1337),this.show();var c=document.getElementsByTagName("body")[0].offsetWidth,d=document.getElementsByTagName("body")[0].offsetHeight,e=this.offsetWidth,f=this.offsetHeight;a+e>c&&(a=c-e),b+f>d&&(b-=f),0>a&&(a=0),0>b&&(b=0),this.setPosition(a,b)},popupWidget:function(a){this.setPosition(-1337,-1337),this.show();var b=document.getElementsByTagName("body")[0],c=0,d=0,e=a.absolutePosition,f=a.offsetHeight,g=a.offsetWidth,h=this.offsetWidth,i=this.offsetHeight;c=e.x+h<b.offsetWidth?e.x:e.x+g<b.offsetWidth?e.x+g-h:b.offsetWidth-h,e.y+f+i<b.offsetHeight?d=e.y+f+1:e.y-i>=0&&(d=e.y-i-1),0>c&&(c=0),0>d&&(d=0),this.setPosition(c,d)},_buildHtml:function(){this.$super(),this.__html.window.className+=" photonui-popupwindow",this.__html.inner=document.createElement("div"),this.__html.window.appendChild(this.__html.inner)}});b.exports=e},{"./basewindow.js":13}],18:[function(a,b,c){var d=a("../widget.js"),e=a("./menuitem.js"),f=a("../layout/menu.js"),g=e.$extend({__init__:function(a){this.$super(a),this.addClass("photonui-submenuitem"),this.registerCallback("toggle-folding","click",this.__onItemClicked,this),this._updateProperties(["menuName"])},_menuName:null,getMenuName:function(){return this._menuName},setMenuName:function(a){function b(){c.menu&&(c.menu.registerCallback("fold","hide",c.__onToggleFold,c),c.menu.registerCallback("unfold","show",c.__onToggleFold,c),c.active=c.menu.visible)}var c=this;this.menuName&&this.menu&&(this.menu.removeCallback("fold"),this.menu.removeCallback("unfold")),this._menuName=a,this.menuName&&(this.menu?b():setTimeout(b,10))},getMenu:function(){return d.getWidget(this.menuName)},setMenu:function(a){a instanceof f?this.menuName=a.name:this.menuName=null},__onToggleFold:function(a){this.active=a.visible},__onItemClicked:function(a){this.menu.visible=!this.menu.visible}});b.exports=g},{"../layout/menu.js":38,"../widget.js":56,"./menuitem.js":16}],19:[function(a,b,c){var d=a("../helpers.js"),e=a("../widget.js"),f=a("../visual/baseicon.js"),g=a("./container.js"),h=g.$extend({__init__:function(a){this._registerWEvents(["click"]),this.$super(a),this._updateProperties(["title","leftIconName","rightIconName"]),this._bindEvent("tab-click",this.__html.tab,"click",this.__onClick.bind(this)),this._update()},_title:"Tab",getTitle:function(){return this._title},setTitle:function(a){this._title=a,d.cleanNode(this.__html.title),this.__html.title.appendChild(document.createTextNode(a))},_titleVisible:!0,isTitleVisible:function(){return this._titleVisible},setTitleVisible:function(a){this._titleVisible=a,this._update()},getHtml:function(){return this.__html.div},getTabHtml:function(){return this.__html.tab},getContainerNode:function(){return this.__html.div},_visible:!1,setVisible:function(a,b){if(this.$super(a),a){if(this.parent){for(var c=this.parent.children,d=0;d<c.length;d++)c[d]instanceof h&&c[d]!==this&&c[d].visible&&c[d].setVisible(!1,!0);this.parent._activeTabName=this.name}this.addClass("photonui-tabitem-active"),this.__html.tab.className="photonui-tabitem-tab photonui-tabitem-active"}else this.parent&&!b&&(this.parent.activeTab=null),this.removeClass("photonui-tabitem-active"),this.__html.tab.className="photonui-tabitem-tab"},_leftIconName:null,getLeftIconName:function(){return this._leftIconName},setLeftIconName:function(a){this._leftIconName=a,d.cleanNode(this.__html.leftIcon),this._leftIconName&&(this.__html.leftIcon.appendChild(this.leftIcon.html),this.leftIconVisible=!0)},getLeftIcon:function(){return e.getWidget(this._leftIconName)},setLeftIcon:function(a){a instanceof f?this.leftIconName=a.name:this.leftIconName=null},_rightIconName:null,getRightIconName:function(){return this._rightIconName},setRightIconName:function(a){this._rightIconName=a,d.cleanNode(this.__html.rightIcon),this._rightIconName&&(this.__html.rightIcon.appendChild(this.rightIcon.html),this.rightIconVisible=!0)},getRightIcon:function(){return e.getWidget(this._rightIconName)},setRightIcon:function(a){a instanceof f?this.rightIconName=a.name:this.rightIconName=null},_update:function(){this.__html.leftIcon.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.leftIcon),this.__html.title.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.title),this.__html.rightIcon.parentNode==this.__html.tab&&this.__html.tab.removeChild(this.__html.rightIcon),this.leftIconName&&this.leftIconVisible&&this.__html.tab.appendChild(this.__html.leftIcon),this.title&&this.titleVisible&&this.__html.tab.appendChild(this.__html.title),this.rightIconName&&this.rightIconVisible&&this.__html.tab.appendChild(this.__html.rightIcon)},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-tabitem photonui-container",this.__html.tab=document.createElement("div"),this.__html.tab.className="photonui-tabitem-tab",this.__html.leftIcon=document.createElement("span"),this.__html.leftIcon.className="photonui-tab-icon",this.__html.tab.appendChild(this.__html.leftIcon),this.__html.title=document.createElement("span"),this.__html.title.className="photonui-tabitem-title",this.__html.tab.appendChild(this.__html.title),this.__html.rightIcon=document.createElement("span"),this.__html.rightIcon.className="photon-ui-icon",this.__html.tab.appendChild(this.__html.rightIcon)},__onClick:function(a){this.show(),this._callCallbacks("click",[a])}});b.exports=h},{"../helpers.js":22,"../visual/baseicon.js":47,"../widget.js":56,"./container.js":14}],20:[function(a,b,c){var d=a("./container.js"),e=a("../helpers.js").numberToCssSize,f=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["padding","verticalScrollbar","horizontalScrollbar","minWidth","maxWidth","width","minHeight","maxHeight","height"])},_padding:0,getPadding:function(){return this._padding},setPadding:function(a){this._padding=a,this.containerNode.style.padding=a+"px"},_verticalScrollbar:null,getVerticalScrollbar:function(){return this._verticalScrollbar},setVerticalScrollbar:function(a){this._verticalScrollbar=a,a===!0?this.__html.viewport.style.overflowY="scroll":a===!1?this.__html.viewport.style.overflowY="hidden":this.__html.viewport.style.overflowY="auto"},_horizontalScrollbar:null,getHorizontalScrollbar:function(){return this._horizontalScrollbar},setHorizontalScrollbar:function(a){this._horizontalScrollbar=a,a===!0?this.__html.viewport.style.overflowX="scroll":a===!1?this.__html.viewport.style.overflowX="hidden":this.__html.viewport.style.overflowX="auto"},_minWidth:null,getMinWidth:function(){return this._minWidth},setMinWidth:function(a){this._minWidth=a,this.__html.viewport.style.minWidth=e(a,null,0)},_maxWidth:null,getMaxWidth:function(){return this._maxWidth},setMaxWidth:function(a){this._maxWidth=a,this.__html.viewport.style.maxWidth=e(a,null,1/0)},_width:1/0,getWidth:function(){return this._width},setWidth:function(a){this._width=a,this.__html.viewport.style.width=e(a,null)},_minHeight:null,getMinHeight:function(){return this._minHeight},setMinHeight:function(a){this._minHeight=a,this.__html.viewport.style.minHeight=e(a,null,0)},_maxHeight:null,getMaxHeight:function(){return this._maxHeight},setMaxHeight:function(a){this._maxHeight=a,this.__html.viewport.style.maxHeight=e(a,null,1/0)},_height:1/0,getHeight:function(){return this._height},setHeight:function(a){this._height=a,this.__html.viewport.style.height=e(a,null)},getHtml:function(){return setTimeout(this._sizingHack.bind(this),10),this.__html.viewport},getContainerNode:function(){return this.__html.viewport},_buildHtml:function(){this.__html.viewport=document.createElement("div"),this.__html.viewport.className="photonui-widget photonui-viewport photonui-container"},_visibilityChanged:function(a){a=void 0!==a?a:this.visible,a&&this._sizingHack(),this.$super(a)},_sizingHack:function(){if(this.height===1/0&&this.visible&&this.__html.viewport.parentNode){var a=this.__html.viewport,b=0;for(this.__html.viewport.style.display="none";(a=a.parentNode)&&a;)if(a.offsetHeight>0){b=a.offsetHeight;var c=getComputedStyle(a);b-=parseFloat(c.paddingTop),b-=parseFloat(c.paddingBottom),b-=parseFloat(c.borderTopWidth),b-=parseFloat(c.borderBottomWidth);break}null!==this.maxHeight&&(b=Math.min(this.maxHeight,b)),null!==this.minHeight&&(b=Math.max(this.minHeight,b)),this.__html.viewport.style.height=b+"px",this.__html.viewport.style.display=""}},__onLocaleChanged:function(){}});b.exports=f},{"../helpers.js":22,"./container.js":14}],21:[function(a,b,c){var d=a("stonejs"),e=a("../helpers.js"),f=a("../widget.js"),g=a("./basewindow.js"),h=[],i=g.$extend({__init__:function(a){this._registerWEvents(["close-button-clicked"]),this.$super(a),this._bindEvent("move.dragstart",this.__html.windowTitle,"mousedown",this.__moveDragStart.bind(this)),this._bindEvent("closeButton.click",this.__html.windowTitleCloseButton,"click",this.__closeButtonClicked.bind(this)),this._bindEvent("totop",this.__html.window,"mousedown",this.moveToFront.bind(this)),this._bindEvent("closeButton.mousedown",this.__html.windowTitleCloseButton,"mousedown",function(a){a.stopPropagation()}),this._updateProperties(["title","closeButtonVisible"]),this.moveToFront()},_title:"Window",getTitle:function(){return this._title},setTitle:function(a){this._title=a,e.cleanNode(this.__html.windowTitleText),this.__html.windowTitleText.appendChild(document.createTextNode(a))},_movable:!0,isMovable:function(){return this._movable},setMovable:function(a){this._movable=a},_closeButtonVisible:!0,getCloseButtonVisible:function(){return this._closeButtonVisible},setCloseButtonVisible:function(a){this._closeButtonVisible=a,a?(this.addClass("photonui-window-have-button"),this.__html.windowTitleCloseButton.style.display="block"):(this.removeClass("photonui-window-have-button"),this.__html.windowTitleCloseButton.style.display="none")},_modal:!1,isModal:function(){return this._modal},setModal:function(a){if(this._modal=a,a){this.__html.modalBox=document.createElement("div"),this.__html.modalBox.className="photonui-window-modalbox";var b=f.e_parent||document.getElementsByTagName("body")[0];b.appendChild(this.__html.modalBox),this.visible=this.visible}else this.__html.modalBox&&(this.__html.modalBox.parentNode.removeChild(this.__html.modalBox),delete this.__html.modalBox)},getContainerNode:function(){return this.__html.windowContent},setVisible:function(a){this.$super(a),this.visible?(this.moveToFront(),this.modal&&(this.__html.modalBox.style.display="block")):(this.moveToBack(),this.modal&&(this.__html.modalBox.style.display="none"))},moveToFront:function(){var a=h.indexOf(this);a>=0&&h.splice(a,1),h.unshift(this),this._updateWindowList()},moveToBack:function(){var a=h.indexOf(this);a>=0&&h.splice(a,1),h.push(this),this._updateWindowList()},destroy:function(){this.modal=!1;var a=h.indexOf(this);a>=0&&h.splice(a,1),this.$super()},_buildHtml:function(){d.lazyGettext;this.$super(),this.__html.window.className+=" photonui-window",this.__html.windowTitle=document.createElement("div"),this.__html.windowTitle.className="photonui-window-title",this.__html.window.appendChild(this.__html.windowTitle),this.__html.windowTitleCloseButton=document.createElement("button"),this.__html.windowTitleCloseButton.className="photonui-window-title-close-button fa fa-times",this.__html.windowTitleCloseButton.title=d.lazyGettext("Close"),this.__html.windowTitle.appendChild(this.__html.windowTitleCloseButton),this.__html.windowTitleText=document.createElement("span"),this.__html.windowTitleText.className="photonui-window-title-text",this.__html.windowTitle.appendChild(this.__html.windowTitleText),this.__html.windowContent=document.createElement("div"),this.__html.windowContent.className="photonui-container photonui-window-content",this.__html.window.appendChild(this.__html.windowContent)},_updateWindowList:function(){for(var a=h.length-1,b=0;a>=0;a--,b++)0===a?(h[a].html.style.zIndex=2001,h[a].addClass("photonui-active")):(h[a].html.style.zIndex=1e3+b,h[a].removeClass("photonui-active")),h[a].modal&&(h[a].html.style.zIndex=3001)},__moveDragStart:function(a){if(this.movable&&!(a.button>0)){var b=void 0!==a.offsetX?a.offsetX:a.layerX,c=void 0!==a.offsetY?a.offsetY:a.layerY;this.__html.windowTitle.style.cursor="move",this._bindEvent("move.dragging",document,"mousemove",this.__moveDragging.bind(this,b,c)),this._bindEvent("move.dragend",document,"mouseup",this.__moveDragEnd.bind(this))}},__moveDragging:function(a,b,c){var d=document.getElementsByTagName("body")[0],e=Math.min(Math.max(c.pageX-a,40-this.offsetWidth),d.offsetWidth-40),f=Math.max(c.pageY-b,0);d.offsetHeight>0&&(f=Math.min(f,d.offsetHeight-this.__html.windowTitle.offsetHeight)),this.setPosition(e,f)},__moveDragEnd:function(a){this.__html.windowTitle.style.cursor="default",this._unbindEvent("move.dragging"),this._unbindEvent("move.dragend")},__closeButtonClicked:function(a){this._callCallbacks("close-button-clicked")},__onLocaleChanged:function(){this.$super(),this.__html.windowTitleCloseButton.title=d.lazyGettext("Close")}});b.exports=i},{"../helpers.js":22,"../widget.js":56,"./basewindow.js":13,stonejs:4}],22:[function(a,b,c){var d=a("uuid"),e=function(){};e.escapeHtml=function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.uuid4=function(){return e.log("warn","'photonui.Helpers.uuid4()' is deprecated. Use 'photonui.lib.uuid.v4()' instead."),d.v4()},e.cleanNode=function(a){for(;a.hasChildNodes();)a.removeChild(a.lastChild)},e.getAbsolutePosition=function(a){if("string"==typeof a&&(a=document.getElementById(a)),!(a instanceof Element))return{x:0,y:0};var b;try{b=getComputedStyle(a)}catch(c){return{x:0,y:0}}if(!b)return{x:0,y:0};for(var d=-parseInt(b.borderLeftWidth),e=-parseInt(b.borderTopWidth);a.offsetParent;)b=getComputedStyle(a),d+=a.offsetLeft||0,d+=parseInt(b.borderLeftWidth),e+=a.offsetTop||0,e+=parseInt(b.borderTopWidth),a=a.offsetParent;return{x:d,y:e}},e.numberToCssSize=function(a,b,c){return c=void 0===c?"auto":c,b=void 0===c?null:b,a=void 0===a?b:a,a===1/0?"100%":isNaN(parseFloat(a))?a!==b?e.numberToCssSize(b,b,c):c:Math.max(0,0|parseFloat(a))+"px"},e.log=function(a,b){try{if(!window.console)return;if(!window.console.log)return;window.console[a]||(a="log"),window.console[a]("PhotonUI: "+b)}catch(c){}},b.exports=e},{uuid:6}],23:[function(a,b,c){var d=a("../helpers.js"),e=a("../widget.js"),f=a("../visual/baseicon.js"),g=e.$extend({__init__:function(a){this._registerWEvents(["click"]),this.$super(a),this._bindEvent("click",this.__html.button,"click",this.__onButtonClicked.bind(this)),this._updateProperties(["text","leftIconName","rightIconName"]),this._update()},_text:"Button",getText:function(){return this._text},setText:function(a){this._text=a,d.cleanNode(this.__html.text),this.__html.text.appendChild(document.createTextNode(a))},_textVisible:!0,isTextVisible:function(){return this._textVisible},setTextVisible:function(a){this._textVisible=a,this._update()},_leftIconName:null,getLeftIconName:function(){return this._leftIconName},setLeftIconName:function(a){this._leftIconName=a,d.cleanNode(this.__html.leftIcon),this._leftIconName&&(this.__html.leftIcon.appendChild(this.leftIcon.html),this.leftIconVisible=!0)},getLeftIcon:function(){return e.getWidget(this._leftIconName)},setLeftIcon:function(a){return a instanceof f?void(this.leftIconName=a.name):void(this.leftIconName=null)},_leftIconVisible:!0,isLeftIconVisible:function(){return this._leftIconVisible},setLeftIconVisible:function(a){this._leftIconVisible=a,this._update()},_rightIconName:null,getRightIconName:function(){return this._rightIconName},setRightIconName:function(a){this._rightIconName=a,d.cleanNode(this.__html.rightIcon),this._rightIconName&&(this.__html.rightIcon.appendChild(this.rightIcon.html),this.rightIconVisible=!0)},getRightIcon:function(){return e.getWidget(this._rightIconName)},setRightIcon:function(a){return a instanceof f?void(this.rightIconName=a.name):void(this.rightIconName=null)},_rightIconVisible:!0,isRightIconVisible:function(){return this._rightIconVisible},setRightIconVisible:function(a){this._rightIconVisible=a,this._update()},_appearance:"normal",getAppearance:function(){return this._appearance},setAppearance:function(a){this._appearance=a,"flat"==a?this.addClass("photonui-button-appearance-flat"):this.removeClass("photonui-button-appearance-flat")},_buttonColor:null,getButtonColor:function(){return this._buttonColor},setButtonColor:function(a){this._buttonColor&&this.__html.button.classList.remove("photonui-button-color-"+this._buttonColor),this._buttonColor=a,a&&this.__html.button.classList.add("photonui-button-color-"+this._buttonColor)},getHtml:function(){return this.__html.button},_update:function(){this.__html.leftIcon.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.leftIcon),this.__html.text.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.text),this.__html.rightIcon.parentNode==this.__html.button&&this.__html.button.removeChild(this.__html.rightIcon),this.leftIconName&&this.leftIconVisible&&this.__html.button.appendChild(this.__html.leftIcon),
this.text&&this.textVisible&&this.__html.button.appendChild(this.__html.text),this.rightIconName&&this.rightIconVisible&&this.__html.button.appendChild(this.__html.rightIcon)},_buildHtml:function(){this.__html.button=document.createElement("button"),this.__html.button.className="photonui-widget photonui-button",this.__html.leftIcon=document.createElement("span"),this.__html.leftIcon.className="photonui-button-icon",this.__html.button.appendChild(this.__html.leftIcon),this.__html.text=document.createElement("span"),this.__html.text.className="photonui-button-text",this.__html.button.appendChild(this.__html.text),this.__html.rightIcon=document.createElement("span"),this.__html.rightIcon.className="photonui-button-icon",this.__html.button.appendChild(this.__html.rightIcon)},__onButtonClicked:function(a){this._callCallbacks("click",[a])}});g._buttonMixin={_text:g.prototype._text,getText:g.prototype.getText,setText:g.prototype.setText,_textVisible:g.prototype._textVisible,isTextVisible:g.prototype.isTextVisible,setTextVisible:g.prototype.setTextVisible,_leftIconName:g.prototype._leftIconName,getLeftIconName:g.prototype.getLeftIconName,setLeftIconName:g.prototype.setLeftIconName,getLeftIcon:g.prototype.getLeftIcon,setLeftIcon:g.prototype.setLeftIcon,_leftIconVisible:g.prototype._leftIconVisible,isLeftIconVisible:g.prototype.isLeftIconVisible,setLeftIconVisible:g.prototype.setLeftIconVisible,_rightIconName:g.prototype._rightIconName,getRightIconName:g.prototype.getRightIconName,setRightIconName:g.prototype.setRightIconName,getRightIcon:g.prototype.getRightIcon,setRightIcon:g.prototype.setRightIcon,_rightIconVisible:g.prototype._rightIconVisible,isRightIconVisible:g.prototype.isRightIconVisible,setRightIconVisible:g.prototype.setRightIconVisible,_appearance:g.prototype._appearance,getAppearance:g.prototype.getAppearance,setAppearance:g.prototype.setAppearance,_buttonColor:g.prototype._buttonColor,getButtonColor:g.prototype.getButtonColor,setButtonColor:g.prototype.setButtonColor,_update:g.prototype._update,_buildButtonHtml:g.prototype._buildHtml,__onButtonClicked:g.prototype.__onButtonClicked},b.exports=g},{"../helpers.js":22,"../visual/baseicon.js":47,"../widget.js":56}],24:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this._registerWEvents(["value-changed","click"]),this.$super(a),this.inputId=this.name+"-input",this._bindEvent("value-changed",this.__html.checkbox,"change",this.__onChange.bind(this)),this._bindEvent("span-click",this.__html.span,"click",this.__onSpanClick.bind(this)),this._bindEvent("checkbox-click",this.__html.checkbox,"click",this.__onCheckboxClick.bind(this)),this._bindEvent("span-keypress",this.__html.span,"keypress",this.__onSpanKeypress.bind(this)),this.__html.checkbox.name=this.name,this.__html.checkbox.id=this.inputId},getValue:function(){return this.__html.checkbox.checked},setValue:function(a){this.__html.checkbox.checked=a},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget",this.__html.outer.className+=" photonui-checkbox",this.__html.outer.className+=" photonui-widget-fixed-width",this.__html.outer.className+=" photonui-widget-fixed-height",this.__html.checkbox=document.createElement("input"),this.__html.checkbox.type="checkbox",this.__html.outer.appendChild(this.__html.checkbox),this.__html.span=document.createElement("span"),this.__html.span.tabIndex="0",this.__html.outer.appendChild(this.__html.span)},__onChange:function(a){this._callCallbacks("value-changed",[this.value]),"none"==window.getComputedStyle(this.__html.checkbox).display&&this.__html.span.focus()},__onSpanClick:function(a){this.value=!this.value,this._callCallbacks("value-changed",[this.value]),this._callCallbacks("click",[a])},__onCheckboxClick:function(a){this._callCallbacks("click",[a])},__onSpanKeypress:function(a){(32==a.charCode||13==a.keyCode)&&(this.value=!this.value,this._callCallbacks("value-changed",[this.value]))}});b.exports=e},{"../widget.js":56}],25:[function(a,b,c){var d=a("../helpers.js"),e=a("../widget.js"),f=a("../nonvisual/color.js"),g=e.$extend({__init__:function(a){this._color=new f(g.palette[0][0]),this._registerWEvents(["value-changed"]),this.$super(a),this._updateProperties(["palette","value"])},getValue:function(){return this.color.hexString},setValue:function(a){this.color.hexString=a},_color:null,getColor:function(){return this._color},setColor:function(a){a instanceof f&&(this._color=a)},_palette:null,getPalette:function(){return this._palette||g.palette},setPalette:function(a){this._palette=a,a||(a=g.palette),this.__html.palette.removeChild(this.__html.tbody),d.cleanNode(this.__html.tbody);var b,c,e,f;for(f=0;f<a.length;f++){for(b=document.createElement("tr"),e=0;e<a[f].length;e++)c=document.createElement("td"),c.style.backgroundColor=a[f][e],c.onclick=this.__onColorClicked.bind(this,a[f][e]),b.appendChild(c);this.__html.tbody.appendChild(b)}this.__html.palette.appendChild(this.__html.tbody)},getHtml:function(){return this.__html.palette},_buildHtml:function(){this.__html.palette=document.createElement("table"),this.__html.palette.className="photonui-widget photonui-colorpalette",this.__html.tbody=document.createElement("tbody"),this.__html.palette.appendChild(this.__html.tbody)},__onColorClicked:function(a,b){this.value=a,this._callCallbacks("value-changed",[this.color])}});g.palette=[["#000000","#424242","#676767","#989898","#C5C5C5","#FFFFFF"],["#E52131","#ED7130","#F0902C","#F0B922","#EDE118","#7DA638"],["#EA4852","#F08D52","#F3A752","#F9D246","#F0EC51","#A7CF41"],["#F19096","#F5BC93","#F9CB94","#F9E48A","#F2F08E","#C6DE84"],["#F8D1D6","#F9E2D2","#F9E8D3","#FDF8D2","#F9F9CF","#E7F1CD"],["#1E9E85","#2A7DB5","#2751A1","#6C3E98","#A33E97","#DF3795"],["#2FB8A3","#40A1D7","#4072B5","#8963AB","#B462A7","#E262A5"],["#88CEC3","#8CC9E9","#87A8D3","#D2A0C9","#D2A0C9","#EDA0C6"],["#CEEAE7","#CDE9F8","#CFDEEF","#EED9E9","#EED9E9","#F8D7E7"]],b.exports=g},{"../helpers.js":22,"../nonvisual/color.js":41,"../widget.js":56}],26:[function(a,b,c){var d=(a("../helpers.js"),a("../widget.js")),e=a("../nonvisual/color.js"),f=a("../nonvisual/mousemanager.js"),g=d.$extend({__init__:function(a){this._registerWEvents(["value-changed"]),this._color=new e,this.__buffH=document.createElement("canvas"),this.__buffH.width=200,this.__buffH.height=200,this.__buffSB=document.createElement("canvas"),this.__buffSB.width=100,this.__buffSB.height=100,this.__buffSBmask=document.createElement("canvas"),this.__buffSBmask.width=100,this.__buffSBmask.height=100,this.$super(a),this._updateH(),this._updateSB(),this._updateSBmask(),this._updateCanvas(),this._updateProperties(["color"]),this.__mouseManager=new f(this.__html.canvas),this.__mouseManager.registerCallback("click","mouse-move",this.__onMouseMove.bind(this)),this.__mouseManager.registerCallback("mouse-down","mouse-down",this.__onMouseDown.bind(this)),this.__mouseManager.registerCallback("drag-start","drag-start",this.__onDragStart.bind(this)),this._bindEvent("value-changed",this.__html.preview,"change",this.__onValueChanged.bind(this))},getValue:function(){return this.color.hexString},setValue:function(a){this.color.hexString=a,this._updateSB(),this._updateCanvas()},_color:null,getColor:function(){return this._color},setColor:function(a){a instanceof e&&(this._color&&this._color.removeCallback("photonui.colorpicker.value-changed::"+this.name),this._color=a,this._color.registerCallback("photonui.colorpicker.value-changed::"+this.name,"value-changed",function(){this._updateSB(),this._updateCanvas()}.bind(this)),this._updateSB(),this._updateCanvas())},getHtml:function(){return this.__html.outer},__buffH:null,__buffSB:null,__mouseManager:null,__disableSBUpdate:!1,destroy:function(){this.__mouseManager.destroy(),this._color.removeCallback("photonui.colorpicker.value-changed::"+this.name),this.$super()},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-colorpicker",this.__html.canvas=document.createElement("canvas"),this.__html.canvas.width=200,this.__html.canvas.height=200,this.__html.outer.appendChild(this.__html.canvas),this.__html.previewOuter=document.createElement("span"),this.__html.previewOuter.className="photonui-colorpicker-previewouter",this.__html.outer.appendChild(this.__html.previewOuter),this.__html.preview=document.createElement("input"),this.__html.preview.type="text",this.__html.preview.autocomplete="off",this.__html.preview.spellcheck=!1,this.__html.preview.className="photonui-colorpicker-preview",this.__html.previewOuter.appendChild(this.__html.preview)},_updateH:function(){var a=this.__buffH,b=a.getContext("2d"),c=new e;b.clearRect(0,0,a.width,a.height);for(var d=0;360>d;d++)c.hue=360-d,b.beginPath(),b.fillStyle=c.hexString,b.arc(100,100,90,Math.PI*d/180,Math.PI*((d+2)%360)/180,!1),b.lineTo(100,100),b.fill();b.beginPath(),b.fillStyle="#000",b.arc(100,100,73,2*Math.PI,!1),b.globalCompositeOperation="destination-out",b.fill()},_updateSBmask:function(){var a=this.__buffSBmask,b=a.getContext("2d"),c=b.getImageData(0,0,a.width,a.height),d=0,e=0,f=0,g=0;for(f=0;100>f;f++)for(g=0;100>g;g++)d=400*f+4*g,e=(.5*(1-g/100)+.5)*(1-f/100)*255<<0,c.data[d+0]=e,c.data[d+1]=e,c.data[d+2]=e,c.data[d+3]=255*(1-g/100*(1-f/100))<<0;b.putImageData(c,0,0)},_updateSB:function(){if(!this.__disableSBUpdate){var a=this.__buffSB,b=a.getContext("2d"),c=new e({hue:this.color.hue,saturation:100,brightness:100});b.save(),b.clearRect(0,0,a.width,a.height),b.fillStyle=c.hexString,b.rect(0,0,a.width,a.height),b.fill(),b.drawImage(this.__buffSBmask,0,0),b.restore()}},_updateCanvas:function(){var a=this.__html.canvas,b=a.getContext("2d");b.save(),b.clearRect(0,0,a.width,a.height),b.drawImage(this.__buffH,0,0),b.drawImage(this.__buffSB,50,50),b.strokeStyle="#fff",b.shadowColor="rgba(0, 0, 0, .7)",b.shadowBlur=3,b.lineWidth=2,b.beginPath(),b.arc(this.color.saturation+50,100-this.color.brightness+50,6,2*Math.PI,!1),b.stroke(),b.translate(100,100),b.rotate(-this.color.hue*Math.PI/180),b.beginPath(),b.arc(81,0,6,2*Math.PI,!1),b.stroke(),b.restore(),this.__html.preview.style.backgroundColor=this.color.rgbaString,this.__html.preview.value=this.color.hexString},_pointerOnSquare:function(a){return a.x>=50&&a.x<=150&&a.y>=50&&a.y<=150},_pointerOnCircle:function(a){var b=Math.abs(100-a.x),c=Math.abs(100-a.y),d=Math.sqrt(b*b+c*c);return d>=74&&90>=d},_pointerAngle:function(a){var b=Math.abs(100-a.x),c=Math.abs(100-a.y),d=180*Math.atan(c/b)/Math.PI;return a.x<100&&a.y<100?d=180-d:a.x<100&&a.y>=100?d+=180:a.x>=100&&a.y>100&&(d=360-d),0|d},__onMouseMove:function(a,b){this._pointerOnSquare(b)||this._pointerOnCircle(b)?this.__html.canvas.style.cursor="crosshair":this.__html.canvas.style.cursor="default"},__onMouseDown:function(a,b){this._pointerOnSquare(b)?(this.__disableSBUpdate=!0,this.color.saturation=b.x-50,this.color.brightness=150-b.y,this.__disableSBUpdate=!1,this._callCallbacks("value-changed",this.color)):this._pointerOnCircle(b)&&(this.color.hue=this._pointerAngle(b),this._callCallbacks("value-changed",this.color))},__onDragStart:function(a,b){this._pointerOnSquare(b)?(this.__disableSBUpdate=!0,this.__mouseManager.registerCallback("dragging","dragging",this.__onDraggingSquare.bind(this)),this.__mouseManager.registerCallback("drag-end","drag-end",this.__onDragEnd.bind(this))):this._pointerOnCircle(b)&&(this.__mouseManager.registerCallback("dragging","dragging",this.__onDraggingCircle.bind(this)),this.__mouseManager.registerCallback("drag-end","drag-end",this.__onDragEnd.bind(this)))},__onDraggingSquare:function(a,b){this.color.saturation=b.x-50,this.color.brightness=150-b.y,this._callCallbacks("value-changed",this.color)},__onDraggingCircle:function(a,b){this.color.hue=this._pointerAngle(b),this._callCallbacks("value-changed",this.color)},__onDragEnd:function(a,b){this.__mouseManager.removeCallback("dragging"),this.__mouseManager.removeCallback("drag-end"),this.__disableSBUpdate=!1},__onValueChanged:function(){this.color.hexString=this.__html.preview.value,this.__html.preview.value=this.color.hexString,this._callCallbacks("value-changed",this.color)}});b.exports=g},{"../helpers.js":22,"../nonvisual/color.js":41,"../nonvisual/mousemanager.js":43,"../widget.js":56}],27:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this._registerWEvents(["value-changed","keydown","keyup","keypress","selection-changed"]),this.$super(a),this._updateProperties(["value","placeholder"]),this.__html.field.name=this.name},getValue:function(){return this.__html.field.value},setValue:function(a){this.__html.field.value=a},_placeholder:"",getPlaceholder:function(){return this._placeholder},setPlaceholder:function(a){this._placeholder=a,this.__html.field.placeholder=a},getHtml:function(){return this.__html.field},_bindFieldEvents:function(){this._bindEvent("value-changed",this.__html.field,"change",function(a){this._callCallbacks("value-changed",[this.getValue()])}.bind(this)),this._bindEvent("keydown",this.__html.field,"keydown",function(a){this._callCallbacks("keydown",[a])}.bind(this)),this._bindEvent("keyup",this.__html.field,"keyup",function(a){this._callCallbacks("keyup",[a])}.bind(this)),this._bindEvent("keypress",this.__html.field,"keypress",function(a){this._callCallbacks("keypress",[a])}.bind(this)),this._bindEvent("selection-changed",this.__html.field,"select",function(a){this._callCallbacks("selection-changed",[this.__html.field.selectionStart,this.__html.field.selectionEnd,String(this.getValue()).substring(this.__html.field.selectionStart,this.__html.field.selectionEnd),a])}.bind(this))},__onContextMenu:function(a){a.stopPropagation()}});b.exports=e},{"../widget.js":56}],28:[function(a,b,c){var d=a("./field.js"),e=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["value"]),this._bindFieldEvents(),this._unbindEvent("value-changed"),this._bindEvent("keypress",this.__html.field,"keypress",this.__onKeypress.bind(this)),this._bindEvent("keyup",this.__html.field,"keyup",this.__onKeyup.bind(this)),this._bindEvent("keydown",this.__html.field,"keydown",this.__onKeydown.bind(this)),this._bindEvent("change",this.__html.field,"change",this.__onChange.bind(this)),this._bindEvent("mousewheel",this.__html.field,"mousewheel",this.__onMouseWheel.bind(this)),this._bindEvent("mousewheel-firefox",this.__html.field,"DOMMouseScroll",this.__onMouseWheel.bind(this))},_min:null,getMin:function(){return this._min},setMin:function(a){this._min=a},_max:null,getMax:function(){return this._max},setMax:function(a){this._max=a},_step:1,getStep:function(){return this._step},setStep:function(a){this._step=Math.abs(a)},_decimalDigits:null,getDecimalDigits:function(){return this._decimalDigits},setDecimalDigits:function(a){this._decimalDigits=a},_decimalSymbol:".",getDecimalSymbol:function(){return this._decimalSymbol},setDecimalSymbol:function(a){this._decimalSymbol=a},_value:0,getValue:function(){return parseFloat(this._value)},setValue:function(a){this._updateValue(a),this._updateFieldValue()},_updateValue:function(a){a=String(a).replace(",","."),a=a.replace(/ /g,""),a=parseFloat(a),isNaN(a)&&(a=0),null!==this.min&&(a=Math.max(this.min,a)),null!==this.max&&(a=Math.min(this.max,a)),null!==this.decimalDigits&&(a=a.toFixed(this.decimalDigits)),this._value=a},_updateFieldValue:function(){this.__html.field.value=String(this._value).replace(".",this.decimalSymbol)},_validateInput:function(a){return a=String(a),a=a.replace(/ /g,""),/^-?[0-9]*(\.|,)?[0-9]*$/.test(a)&&(0!==this.decimalDigits||/^-?[0-9]*$/.test(a))?null!==this.min&&this.min>=0&&"-"==a[0]?!1:!0:!1},_buildHtml:function(){this.__html.field=document.createElement("input"),this.__html.field.className="photonui-widget photonui-field photonui-numericfield",this.__html.field.type="text"},__onKeypress:function(a){if(!a.ctrlKey&&"ArrowLeft"!=a.key&&"ArrowRight"!=a.key&&"Backspace"!=a.key&&"Delete"!=a.key)if(13==a.keyCode)this._updateFieldValue(),this._callCallbacks("value-changed",[this.value]);else{var b=this.__html.field,c=b.value.slice(0,b.selectionStart)+String.fromCharCode(a.charCode)+b.value.slice(b.selectionEnd);this._validateInput(c)||a.preventDefault()}},__onKeyup:function(a){var b=this.__html.field.value.replace(/[^0-9.,-]*/g,"");b!=this.__html.field.value&&(this.__html.field.value=b),this._updateValue(this.__html.field.value)},__onChange:function(a){this._updateFieldValue(),this._callCallbacks("value-changed",[this.value])},__onMouseWheel:function(a){if(document.activeElement==this.__html.field){var b=null;void 0!==a.wheelDeltaY&&(b=a.wheelDeltaY),void 0!==a.wheelDelta&&(b=a.wheelDelta),void 0!==a.axis&&void 0!==a.detail&&2==a.axis&&(b=-a.detail),null!==b&&(b>=0?this.value+=this.step:this.value-=this.step,a.preventDefault()),this._callCallbacks("value-changed",[this.value])}},__onKeydown:function(a){38==a.keyCode?(this.setValue(this.getValue()+this.step),a.preventDefault(),this._callCallbacks("value-changed",[this.value])):40==a.keyCode&&(this.setValue(this.getValue()-this.step),a.preventDefault(),this._callCallbacks("value-changed",[this.value]))}});b.exports=e},{"./field.js":27}],29:[function(a,b,c){var d=a("../helpers.js"),e=a("./numericfield.js"),f=e.$extend({__init__:function(a){this.$super(a),this.inputId=this.name+"-field",this.__html.field.id=this.inputId,this._updateProperties(["fieldVisible"]),this._bindEvent("slider-mousedown",this.__html.slider,"mousedown",this.__onSliderMouseDown.bind(this)),this._bindEvent("slider-keydown",this.__html.slider,"keydown",this.__onSliderKeyDown.bind(this)),this._bindEvent("slider-mousewheel",this.__html.slider,"mousewheel",this.__onSliderMouseWheel.bind(this)),this._bindEvent("slider-mousewheel-firefox",this.__html.slider,"DOMMouseScroll",this.__onSliderMouseWheel.bind(this)),this._bindEvent("field-contextmenu",this.__html.field,"contextmenu",this.__onFieldContextMenu.bind(this))},_min:0,_max:100,_decimalDigits:0,_fieldVisible:!0,isFieldVisible:function(){return this._fieldVisible},setFieldVisible:function(a){this._fieldVisible=a,a?(this.__html.field.style.display="",this.removeClass("photonui-slider-nofield")):(this.__html.field.style.display="none",this.addClass("photonui-slider-nofield"))},getHtml:function(){return setTimeout(function(){this.value=this.value}.bind(this),10),this.__html.outer},_updateFieldValue:function(){this.$super();var a=this.value-this.min,b=this.max-this.min,c=Math.min(Math.max(a/b,0),1);this.__html.grip.style.left="calc("+Math.floor(100*c)+"% - "+Math.floor(this.__html.grip.offsetWidth*c)+"px)"},_buildHtml:function(){this.$super(),this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-slider photonui-widget-fixed-height",this.__html.slider=document.createElement("div"),this.__html.slider.className="photonui-slider-slider",this.__html.slider.tabIndex=0,this.__html.outer.appendChild(this.__html.slider),this.__html.grip=document.createElement("div"),this.__html.grip.className="photonui-slider-grip",this.__html.slider.appendChild(this.__html.grip),this.__html.outer.appendChild(this.__html.field)},_updateFromMouseEvent:function(a){var b=d.getAbsolutePosition(this.__html.slider).x,c=this.__html.grip.offsetWidth,e=Math.round(a.pageX-b-c/2),f=this.__html.slider.offsetWidth-c-3,g=(this.max-this.min)*e/f+this.min;this.value=Math.round(g/this.step)*this.step,this._callCallbacks("value-changed",[this.value])},__onSliderMouseDown:function(a){this._updateFromMouseEvent(a),this._bindEvent("slider-mousemove",document,"mousemove",this.__onSliderMouseMove.bind(this)),this._bindEvent("slider-mouseup",document,"mouseup",this.__onSliderMouseUp.bind(this))},__onSliderMouseMove:function(a){this._updateFromMouseEvent(a)},__onSliderMouseUp:function(a){this._unbindEvent("slider-mousemove"),this._unbindEvent("slider-mouseup"),this._updateFromMouseEvent(a)},__onSliderKeyDown:function(a){38==a.keyCode||39==a.keyCode?(this.value+=this.step,this._callCallbacks("value-changed",[this.value])):(40==a.keyCode||37==a.keyCode)&&(this.value-=this.step,this._callCallbacks("value-changed",[this.value]))},__onSliderMouseWheel:function(a){var b=null;void 0!==a.wheelDeltaY&&(b=a.wheelDeltaY),void 0!==a.wheelDelta&&(b=a.wheelDelta),void 0!==a.axis&&void 0!==a.detail&&2==a.axis&&(b=-a.detail),null!==b&&(b>=0?this.value+=this.step:this.value-=this.step,a.preventDefault(),a.stopPropagation()),this._callCallbacks("value-changed",[this.value])},__onContextMenu:function(a){a.stopPropagation(),a.preventDefault(),this.contextMenuName&&this.contextMenu.popupXY(a.pageX,a.pageY)},__onFieldContextMenu:function(a){a.stopPropagation()}});b.exports=f},{"../helpers.js":22,"./numericfield.js":28}],30:[function(a,b,c){var d=a("./checkbox.js"),e=d.$extend({__init__:function(a){this.$super(a),this.removeClass("photonui-checkbox"),this.addClass("photonui-switch")}});b.exports=e},{"./checkbox.js":24}],31:[function(a,b,c){var d=a("./field.js"),e=d.$extend({__init__:function(a){this.$super(a),this._bindFieldEvents()},getCols:function(){return parseInt(this.__html.field.cols)},setCols:function(a){this.__html.field.cols=a},getRows:function(){return parseInt(this.__html.field.rows)},setRows:function(a){this.__html.field.rows=a},_buildHtml:function(){this.__html.field=document.createElement("textarea"),this.__html.field.className="photonui-widget photonui-field photonui-textareafield",this.__html.field.cols=20,this.__html.field.rows=3}});b.exports=e},{"./field.js":27}],32:[function(a,b,c){var d=a("./field.js"),e=d.$extend({__init__:function(a){this.$super(a),this._bindFieldEvents()},getType:function(){return this.__html.field.type},setType:function(a){if("text"!=a&&"password"!=a&&"email"!=a&&"search"!=a&&"tel"!=a&&"url"!=a)throw new Error('The type should be "text", "password", "email", "search", "tel" or "url".');this.__html.field.type=a},_buildHtml:function(){this.__html.field=document.createElement("input"),this.__html.field.className="photonui-widget photonui-field photonui-textfield",this.__html.field.type="text"}});b.exports=e},{"./field.js":27}],33:[function(a,b,c){var d=a("./checkbox.js"),e=a("./button.js"),f=d.$extend({__init__:function(a){this._registerWEvents(["click"]),this.$super(a),this.__buttonInit(),this.removeClass("photonui-checkbox"),this.addClass("photonui-togglebutton"),this.removeClass("photonui-widget-fixed-height"),this.removeClass("photonui-widget-fixed-width")},__buttonInit:function(){this._bindEvent("click",this.__html.button,"click",this.__onButtonClicked.bind(this)),this._updateProperties(["text","leftIconName","rightIconName"]),this._update()},__include__:[e._buttonMixin],_buildHtml:function(){this.$super(),this._buildButtonHtml(),this.__html.outer.appendChild(this.__html.button),this.__html.outer.removeChild(this.__html.span),this.__html.span=this.__html.button}});b.exports=f},{"./button.js":23,"./checkbox.js":24}],34:[function(a,b,c){var d=a("../helpers.js"),e=a("./layout.js"),f=e.$extend({__init__:function(a){this.$super(a),this._updateProperties(["orientation"])},_orientation:"vertical",getOrientation:function(){return this._orientation},setOrientation:function(a){if("vertical"!=a&&"horizontal"!=a)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=a,this.removeClass("photonui-layout-orientation-vertical"),this.removeClass("photonui-layout-orientation-horizontal"),this.addClass("photonui-layout-orientation-"+this.orientation),this._updateProperties(["spacing"])},_verticalPadding:0,getVerticalPadding:function(){return this._verticalPadding},setVerticalPadding:function(a){this._verticalPadding=0|a,this.__html.outerbox.style.paddingLeft=this._verticalPadding+"px",this.__html.outerbox.style.paddingRight=this._verticalPadding+"px"},_horizontalPadding:0,getHorizontalPadding:function(){return this._horizontalPadding},setHorizontalPadding:function(a){this._horizontalPadding=0|a,this.__html.outerbox.style.paddingTop=this._horizontalPadding+"px",this.__html.outerbox.style.paddingBottom=this._horizontalPadding+"px"},_spacing:5,getSpacing:function(){return this._spacing},setSpacing:function(a){this._spacing=0|a;for(var b,c,d=this.children,e=this.__html.outerbox.childNodes,f=0,g=0;g<e.length;g++)b=0,c=0,d[f]&&d[f].layoutOptions&&d[f].layoutOptions.order&&(b=0|d[f].layoutOptions.order),d[g]&&d[g].layoutOptions&&d[g].layoutOptions.order&&(c=0|d[g].layoutOptions.order),c>=b&&(f=g),"horizontal"==this.orientation?(e[g].style.marginRight=this._spacing+"px",e[g].style.marginBottom=""):(e[g].style.marginRight="",e[g].style.marginBottom=this._spacing+"px");e.length>0&&(e[f].style.marginRight="",e[f].style.marginBottom="")},getHtml:function(){return this.__html.outerbox},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-boxlayout"},_updateLayout:function(){d.cleanNode(this.__html.outerbox);for(var a=document.createDocumentFragment(),b=this.children,c=null,e=0;e<b.length;e++){var f=this._computeLayoutOptions(b[e]);c=document.createElement("div"),c.className="photonui-container photonui-boxlayout-item",c.className+=" photonui-layout-align-"+f.align,null!==f.order&&(c.style.order=f.order),null!==f.minWidth&&(c.style.minWidth=f.minWidth+"px"),null!==f.maxWidth&&(c.style.maxWidth=f.maxWidth+"px"),null!==f.width&&(c.style.width=f.width+"px"),null!==f.minHeight&&(c.style.minHeight=f.minHeight+"px"),null!==f.maxHeight&&(c.style.maxHeight=f.maxHeight+"px"),null!==f.height&&(c.style.height=f.height+"px"),c.appendChild(b[e].html),a.appendChild(c)}this.__html.outerbox.appendChild(a),this._updateProperties(["spacing"])},_computeLayoutOptions:function(a){var b=a.layoutOptions||{},c={align:"stretch",minWidth:null,maxWidth:null,width:null,minHeight:null,maxHeight:null,height:null,order:null};return["stretch","expand"].indexOf(b.align)>-1?c.align="stretch":["center","middle"].indexOf(b.align)>-1?c.align="center":["start","begin","top","left"].indexOf(b.align)>-1?c.align="start":["end","bottom","right"].indexOf(b.align)>-1&&(c.align="end"),void 0!==b.order&&null!==b.order&&(c.order=0|b.order),void 0!==b.minWidth&&null!==b.minWidth&&(c.minWidth=0|b.minWidth),void 0!==b.maxWidth&&null!==b.maxWidth&&(c.maxWidth=0|b.maxWidth),void 0!==b.width&&null!==b.width&&(c.width=0|b.width,c.minWidth=0|b.width,c.maxWidth=0|b.width),void 0!==b.minHeight&&null!==b.minHeight&&(c.minHeight=0|b.minHeight),void 0!==b.maxHeight&&null!==b.maxHeight&&(c.maxHeight=0|b.maxHeight),void 0!==b.height&&null!==b.height&&(c.height=0|b.height,c.minHeight=0|b.height,c.maxHeight=0|b.height),c}});b.exports=f},{"../helpers.js":22,"./layout.js":37}],35:[function(a,b,c){var d=a("../helpers.js"),e=a("./layout.js"),f=e.$extend({_verticalSpacing:0,getVerticalSpacing:function(){return this._verticalSpacing},setVerticalSpacing:function(a){this._verticalSpacing=a,this._updateLayout()},_horizontalSpacing:2,getHorizontalSpacing:function(){return this._horizontalSpacing},setHorizontalSpacing:function(a){this._horizontalSpacing=a,this._updateLayout()},getHtml:function(){return this.__html.outerbox},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-fluidlayout"},_updateLayout:function(){for(var a=this.children,b=document.createDocumentFragment(),c=null,e=0;e<a.length;e++)c=document.createElement("div"),c.className="photonui-container",c.style.padding="0 "+this.horizontalSpacing+"px "+this.verticalSpacing+"px 0",c.appendChild(a[e].html),b.appendChild(c);d.cleanNode(this.__html.outerbox),this.__html.outerbox.appendChild(b)}});b.exports=f},{"../helpers.js":22,"./layout.js":37}],36:[function(a,b,c){var d=a("../helpers.js"),e=a("./layout.js"),f=null,g=e.$extend({__init__:function(a){this.$super(a),this._updateProperties(["verticalSpacing"]),window.MutationObserver&&(this.__sizinghack_observer=new MutationObserver(this._sizingHack.bind(this)),this.__sizinghack_observer_params={attributes:!0,childList:!0,characterData:!0,subtree:!0},this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params))},_verticalPadding:0,getVerticalPadding:function(){return this._verticalPadding},setVerticalPadding:function(a){this._verticalPadding=0|a,this._updatingLayout=!0,this.__html.outerbox.style.paddingLeft=this._verticalPadding+"px",this.__html.outerbox.style.paddingRight=this._verticalPadding+"px",this._updatingLayout=!1,this._sizingHack()},_horizontalPadding:0,getHorizontalPadding:function(){return this._horizontalPadding},setHorizontalPadding:function(a){this._horizontalPadding=0|a,this._updatingLayout=!0,this.__html.outerbox.style.paddingTop=this._horizontalPadding+"px",this.__html.outerbox.style.paddingBottom=this._horizontalPadding+"px",this._updatingLayout=!1,this._sizingHack()},_verticalSpacing:5,getVerticalSpacing:function(){return this._verticalSpacing},setVerticalSpacing:function(a){this._verticalSpacing=a,this._updateLayout()},_horizontalSpacing:5,getHorizontalSpacing:function(){return this._horizontalSpacing},setHorizontalSpacing:function(a){this._horizontalSpacing=a,this._updateLayout()},getHtml:function(){return this.__html.outerbox},_updatingLayout:!1,_visibilityChanged:function(a){a=void 0!==a?a:this.visible,a&&this._sizingHack(),this.$super(a)},_buildHtml:function(){this.__html.outerbox=document.createElement("div"),this.__html.outerbox.className="photonui-widget photonui-gridlayout",this.__html.grid=document.createElement("table"),this.__html.outerbox.appendChild(this.__html.grid),this.__html.gridBody=document.createElement("tbody"),this.__html.grid.appendChild(this.__html.gridBody)},_updateLayout:function(){function a(a,b){for(var d,e=0;e<c.length;e++)if(d=l._computeLayoutOptions(c[e]),d.x==a&&d.y==b)return{w:c[e],o:d};return null}this._updatingLayout=!0,this.__sizinghack_observer&&this.__sizinghack_observer.disconnect();for(var b,c=this.children,e=1/0,f=1/0,g=-(1/0),h=-(1/0),i=0;i<c.length;i++)b=this._computeLayoutOptions(c[i]),e=Math.min(b.x,e),f=Math.min(b.y,f),g=Math.max(b.x,g),h=Math.max(b.y,h),g=Math.max(b.x+b.cols-1,g),h=Math.max(b.y+b.rows-1,h);var j=g-e+1,k=h-f+1;this.__html.grid.removeChild(this.__html.gridBody),d.cleanNode(this.__html.gridBody);for(var l=this,m=[],n=0;k>n;n++)m[n]=[],m[n].length=j;var o,p,q,r,s,t;for(n=0;k>n;n++){p=document.createElement("tr");for(var u=0;j>u;u++)if(!m[n][u]&&(q=document.createElement("td"),q.className="photonui-gridlayout-cell",r=document.createElement("div"),r.className="photonui-container photonui-gridlayout-wrapper",q.appendChild(r),p.appendChild(q),o=a(u+e,n+f))){r.appendChild(o.w.html);var v=this.horizontalSpacing,w=this.verticalSpacing;if(u+o.o.cols>=j&&(q.className+=" photonui-gridlayout-lastcol",w=0),n+o.o.rows>=k&&(q.className+=" photonui-gridlayout-lastrow",v=0),q.className+=" photonui-layout-verticalalign-"+o.o.verticalAlign,q.className+=" photonui-layout-horizontalalign-"+o.o.horizontalAlign,null!==o.o.minWidth&&(r.style.minWidth=o.o.minWidth+"px",q.style.minWidth=o.o.minWidth+w+"px"),null!==o.o.maxWidth&&(r.style.maxWidth=o.o.maxWidth+"px",q.style.maxWidth=o.o.maxWidth+w+"px"),null!==o.o.width&&(r.style.width=o.o.width+"px",q.style.width=o.o.width+w+"px"),null!==o.o.minHeight&&(r.style.minHeight=o.o.minHeight+"px",q.style.minHeight=o.o.minHeight+v+"px"),null!==o.o.maxHeight&&(r.style.maxHeight=o.o.maxHeight+"px",q.style.maxHeight=o.o.maxHeight+v+"px"),null!==o.o.height&&(r.style.height=o.o.height+"px",q.style.height=o.o.height+v+"px"),o.o.cols>1||o.o.rows>1)for(q.colSpan=o.o.cols,q.rowSpan=o.o.rows,t=n;t<n+o.o.rows;t++)for(s=u;s<u+o.o.cols;s++)m[t][s]=!0}this.__html.gridBody.appendChild(p)}this.__html.grid.appendChild(this.__html.gridBody),this._updateSpacing(),this._updatingLayout=!1,this.__sizinghack_observer&&this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params),this._sizingHack()},_computeLayoutOptions:function(a){var b=a.layoutOptions||{},c={x:0,y:0,cols:1,rows:1,verticalAlign:"stretch",horizontalAlign:"stretch",
minWidth:null,maxWidth:null,width:null,minHeight:null,maxHeight:null,height:null};return a.html&&(a.html.classList.contains("photonui-widget-fixed-height")&&(c.verticalAlign="center"),a.html.classList.contains("photonui-widget-fixed-width")&&(c.horizontalAlign="center")),void 0!==b.gridX&&null!==b.gridX&&(c.x=0|b.gridX),void 0!==b.gridY&&null!==b.gridY&&(c.y=0|b.gridY),void 0!==b.gridWidth&&null!==b.gridWidth&&(c.cols=0|b.gridWidth),void 0!==b.gridHeight&&null!==b.gridHeight&&(c.rows=0|b.gridHeight),void 0!==b.x&&null!==b.x&&(c.x=0|b.x),void 0!==b.y&&null!==b.y&&(c.y=0|b.y),void 0!==b.cols&&null!==b.cols&&(c.cols=0|b.cols),void 0!==b.rows&&null!==b.rows&&(c.rows=0|b.rows),["stretch","expand"].indexOf(b.verticalAlign)>-1?c.verticalAlign="stretch":["center","middle"].indexOf(b.verticalAlign)>-1?c.verticalAlign="center":["start","begin","top"].indexOf(b.verticalAlign)>-1?c.verticalAlign="start":["end","bottom"].indexOf(b.verticalAlign)>-1&&(c.verticalAlign="end"),["stretch","expand"].indexOf(b.horizontalAlign)>-1?c.horizontalAlign="stretch":["center","middle"].indexOf(b.horizontalAlign)>-1?c.horizontalAlign="center":["start","begin","left"].indexOf(b.horizontalAlign)>-1?c.horizontalAlign="start":["end","right"].indexOf(b.horizontalAlign)>-1&&(c.horizontalAlign="end"),b.verticalExpansion===!0?c.verticalAlign="stretch":b.verticalExpansion===!1&&void 0===b.verticalAlign&&(c.verticalAlign="center"),b.horizontalExpansion===!0?c.horizontalAlign="stretch":b.horizontalExpansion===!1&&void 0===b.horizontalAlign&&(c.horizontalAlign="center"),void 0!==b.minWidth&&null!==b.minWidth&&(c.minWidth=0|b.minWidth),void 0!==b.maxWidth&&null!==b.maxWidth&&(c.maxWidth=0|b.maxWidth),void 0!==b.width&&null!==b.width&&(c.width=0|b.width,c.minWidth=0|b.width,c.maxWidth=0|b.width),void 0!==b.minHeight&&null!==b.minHeight&&(c.minHeight=0|b.minHeight),void 0!==b.maxHeight&&null!==b.maxHeight&&(c.maxHeight=0|b.maxHeight),void 0!==b.height&&null!==b.height&&(c.height=0|b.height,c.minHeight=0|b.height,c.maxHeight=0|b.height),c},_updateSpacing:function(){for(var a=this.__html.outerbox.querySelectorAll("#"+this.name+" > table > tbody > tr > td"),b=0;b<a.length;b++)a[b].style.paddingRight=this._verticalSpacing+"px",a[b].style.paddingBottom=this._horizontalSpacing+"px"},_sizingHack:function(){function a(){function a(a){var b;b=a.style.minHeight&&a.style.minHeight==a.style.maxHeight?parseFloat(a.style.minHeight):a.classList.contains("photonui-gridlayout-lastrow")?a.offsetHeight:a.offsetHeight,a.style.height=b+"px"}for(var b=this.__html.outerbox.querySelectorAll("#"+this.name+" > table > tbody > tr > td"),c=0;c<b.length;c++)b[c].style.height="auto";for(c=0;c<b.length;c++)b[c].rowSpan&&b[c].rowSpan>1||a(b[c]);for(c=0;c<b.length;c++)!b[c].rowSpan||b[c].rowSpan<=1||a(b[c]);this._updatingLayout=!1,this.__sizinghack_observer&&this.__sizinghack_observer.observe(this.__html.gridBody,this.__sizinghack_observer_params)}if(!this._updatingLayout&&f!==!1){if(null===f){var b=!1;if("WebkitAppearance"in document.documentElement.style&&(b=!0),"WebKitCSSMatrix"in window&&(b=!0),b)return void(f=!1);f=!0}this._updatingLayout=!0,this.__sizinghack_observer&&this.__sizinghack_observer.disconnect(),setTimeout(a.bind(this),1)}}});b.exports=g},{"../helpers.js":22,"./layout.js":37}],37:[function(a,b,c){var d=a("../widget.js"),e=a("../container/container.js"),f=e.$extend({__init__:function(a){this._childrenNames=[],this.$super(a);for(var b=this.children,c=0;c<b.length;c++)b[c]._parentName=this.name},_childrenNames:[],getChildrenNames:function(){return this._childrenNames},setChildrenNames:function(a){var b,c;for(b=0;b<this._childrenNames.length;b++){c=d.getWidget(this._childrenNames[b]);var e=this._childrenNames.indexOf(c.name);e>=0&&(c._parentName=null)}for(this._childrenNames=[],b=0;b<a.length;b++)c=d.getWidget(a[b]),c&&(c.parent&&c.unparent(),this._childrenNames.push(c.name),c._parentName=this.name);this._updateLayout()},getChildren:function(){for(var a,b=[],c=0;c<this._childrenNames.length;c++)a=d.getWidget(this._childrenNames[c]),a instanceof d&&b.push(a);return b},setChildren:function(a){for(var b=[],c=0;c<a.length;c++)a[c]instanceof d&&b.push(a[c].name);this.childrenNames=b},getChildName:function(){return null},setChildName:function(a){this.childrenNames=[a]},getChild:function(){return null},setChild:function(a){this.children=[a]},addChild:function(a,b){a.parent&&a.unparent(),b&&(a.layoutOptions=b),this._childrenNames.push(a.name),a._parentName=this.name,this._updateLayout()},removeChild:function(a){var b=this._childrenNames.indexOf(a.name);b>=0&&(this._childrenNames.splice(b,1),a._parentName=null),this._updateLayout()},empty:function(){this._lockUpdate(!0);for(var a=this.children,b=0;b<a.length;b++)a[b]&&a[b].destroy();this._lockUpdate(!1)},destroy:function(){this.empty(),this.$super()},_lockUpdate:function(a){a?(this.__lockedUpdateLayout=this._updateLayout,this._updateLayout=function(){}):(this._updateLayout=this.__lockedUpdateLayout,delete this.__lockedUpdateLayout,this._updateLayout())},_updateLayout:function(){throw new Error("you should define the _updateLayout() method when you extend a layout widget.")},_visibilityChanged:function(a){a=void 0!==a?a:this.visible;for(var b=this.children,c=0;c<b.length;c++)this.child instanceof d&&b[c]._visibilityChanged(a);this.$super(a)},__onLocaleChanged:function(){}});b.exports=f},{"../container/container.js":14,"../widget.js":56}],38:[function(a,b,c){var d=a("../helpers.js"),e=a("./layout.js"),f=e.$extend({__init__:function(a){this.$super(a),this._updateProperties(["iconVisible"])},_iconVisible:!0,isIconVisible:function(){return this._iconVisible},setIconVisible:function(a){this._iconVisible=a,a?this.__html.outer.classList.remove("photonui-menu-noicon"):this.__html.outer.classList.add("photonui-menu-noicon")},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-menu photonui-menu-style-default"},_updateLayout:function(){d.cleanNode(this.__html.outer);for(var a=this.children,b=0;b<a.length;b++)this.__html.outer.appendChild(a[b].html)}});b.exports=f},{"../helpers.js":22,"./layout.js":37}],39:[function(a,b,c){var d=a("../helpers.js"),e=a("./layout.js"),f=a("../container/tabitem.js"),g=a("../widget.js"),h=e.$extend({__init__:function(a){this._registerWEvents([]),this.$super(a),this._updateProperties(["activeTab","tabsPosition","padding"])},_tabsPosition:"top",getTabsPosition:function(){return this._tabsPosition},setTabsPosition:function(a){if(["top","bottom","left","right"].indexOf(a)<0)throw new Error('The tabs position should be "top", "bottom", "left" or "right".');this._tabsPosition=a,this.removeClass("photonui-tablayout-tabposition-top"),this.removeClass("photonui-tablayout-tabposition-bottom"),this.removeClass("photonui-tablayout-tabposition-left"),this.removeClass("photonui-tablayout-tabposition-right"),this.addClass("photonui-tablayout-tabposition-"+a)},getHtml:function(){return this.__html.outer},_activeTabName:null,getActiveTabName:function(){return this._activeTabName},setActiveTabName:function(a){var b=g.getWidget(a);if(b instanceof f)return void b.show();if(!this._activeTab)for(var c=this.children,d=0;d<c.length;d++)if(c[d]instanceof f){c[d].show();break}},_padding:10,getPadding:function(){return this._padding},setPadding:function(a){this._padding=a,this.__html.content.style.padding=a+"px"},getActiveTab:function(){return g.getWidget(this.activeTabName)},setActiveTab:function(a){a instanceof g?this.activeTabName=a.name:this.activeTabName=null},setChildrenNames:function(a){this.$super(a),this.activeTabName||(this.activeTabName=null)},addChild:function(a,b){this.$super(a,b),!this.activeTabName&&a instanceof f&&(this.activeTabName=a.name)},removeChild:function(a){this.$super(a),a===this.activeTab&&(this.activeTabName=null)},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-tablayout",this.__html.inner=document.createElement("div"),this.__html.inner.className="photonui-tablayout-innerbox",this.__html.outer.appendChild(this.__html.inner),this.__html.tabs=document.createElement("div"),this.__html.tabs.className="photonui-tablayout-tabs",this.__html.inner.appendChild(this.__html.tabs),this.__html.content=document.createElement("div"),this.__html.content.className="photonui-tablayout-content",this.__html.inner.appendChild(this.__html.content)},_updateLayout:function(){d.cleanNode(this.__html.tabs),d.cleanNode(this.__html.content);for(var a,b=this.children,c=document.createDocumentFragment(),e=document.createDocumentFragment(),g=0;g<b.length;g++)b[g]instanceof f&&(a=this._computeLayoutOptions(b[g]),null!==a.order?b[g].tabHtml.style.order=a.order:b[g].tabHtml.style.order=0,c.appendChild(b[g].tabHtml),e.appendChild(b[g].html));this.__html.tabs.appendChild(c),this.__html.content.appendChild(e)},_computeLayoutOptions:function(a){var b=a.layoutOptions||{},c={order:null};return void 0!==b.order&&null!==b.order&&(c.order=0|b.order),c}});b.exports=h},{"../container/tabitem.js":19,"../helpers.js":22,"../widget.js":56,"./layout.js":37}],40:[function(a,b,c){var d=a("../base.js"),e=a("keyboardjs"),f=d.$extend({__init__:function(){this.__kbd={},this.$super()},__kbd:null,addAccel:function(a,b,c,d){b=b.toLowerCase().replace(/ *\+ */," + ").replace(/ *, */,", ").replace(/ *> */," > "),this.removeAccel(a),this.__kbd[a]={keys:b,safe:void 0===d?!0:d,callback:c,binding:e.on(b,this.__onAccell.bind(this))}},removeAccel:function(a){this.__kbd[a]&&(this.__kbd[a].binding.clear(),delete this.__kbd[a])},destroy:function(){for(var a in this.__kbd)this.removeAccel(a);this.$super()},__onAccell:function(a,b,c){for(var d in this.__kbd)this.__kbd[d].keys==c&&(this.__kbd[d].safe&&(document.activeElement instanceof HTMLInputElement||document.activeElement instanceof HTMLSelectElement||document.activeElement instanceof HTMLTextAreaElement)||(this.__kbd[d].callback(),a.stopPropagation(),a.preventDefault()))}});b.exports=f},{"../base.js":7,keyboardjs:3}],41:[function(a,b,c){var d=a("../base.js"),e=d.$extend({__init__:function(a){this._registerWEvents(["value-changed"]),"object"!=typeof a||Array.isArray(a)?(this.$super(),"string"==typeof a?this.hexString=a:Array.isArray(a)?this.setRGBA(a):arguments.length>=3&&this.setRGBA.apply(this,arguments)):this.$super(a)},getHexString:function(){var a=this.red.toString(16).toUpperCase();1==a.length&&(a="0"+a);var b=this.green.toString(16).toUpperCase();1==b.length&&(b="0"+b);var c=this.blue.toString(16).toUpperCase();return 1==c.length&&(c="0"+c),"#"+a+b+c},setHexString:function(a){if(a=a.replace(" ",""),a.match(/^#[0-9a-f]{6}$/i))this._red=parseInt(a[1]+a[2],16),this._green=parseInt(a[3]+a[4],16),this._blue=parseInt(a[5]+a[6],16),this._updateHSB();else if(a.match(/^#[0-9a-f]{3}$/i))this._red=parseInt(a[1]+a[1],16),this._green=parseInt(a[2]+a[2],16),this._blue=parseInt(a[3]+a[3],16),this._updateHSB();else{var b={white:[255,255,255],silver:[192,192,192],gray:[128,128,128],black:[0,0,0],red:[255,0,0],maroon:[128,0,0],yellow:[255,255,0],olive:[128,128,0],lime:[0,255,0],green:[0,128,0],aqua:[0,255,255],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],fuchsia:[255,0,255],purple:[128,0,128]};void 0!==b[a]&&this.setRGB(b[a])}},getRgbString:function(){return"rgb("+this._red+", "+this._green+", "+this._blue+")"},getRgbaString:function(){return"rgba("+this._red+", "+this._green+", "+this._blue+", "+this._alpha/255+")"},_red:255,getRed:function(){return this._red},setRed:function(a){this._red=Math.max(0,Math.min(255,0|a)),this._updateHSB()},_green:0,getGreen:function(){return this._green},setGreen:function(a){this._green=Math.max(0,Math.min(255,0|a)),this._updateHSB()},_blue:0,getBlue:function(){return this._blue},setBlue:function(a){this._blue=Math.max(0,Math.min(255,0|a)),this._updateHSB()},_alpha:255,getAlpha:function(){return this._alpha},setAlpha:function(a){this._alpha=Math.max(0,Math.min(255,0|a)),this._callCallbacks("value-changed")},_hue:0,getHue:function(){return this._hue},setHue:function(a){this._hue=Math.max(0,Math.min(360,0|a)),this._updateRGB()},_saturation:100,getSaturation:function(){return this._saturation},setSaturation:function(a){this._saturation=Math.max(0,Math.min(100,0|a)),this._updateRGB()},_brightness:100,getBrightness:function(){return this._brightness},setBrightness:function(a){this._brightness=Math.max(0,Math.min(100,0|a)),this._updateRGB()},setRGB:function(){this.setRGBA.apply(this,arguments)},setRGBA:function(){var a=arguments;1==arguments.length&&Array.isArray(arguments[0])&&(a=arguments[0]),a.length<3||(this._red=Math.max(0,Math.min(255,0|a[0])),this._green=Math.max(0,Math.min(255,0|a[1])),this._blue=Math.max(0,Math.min(255,0|a[2])),void 0!==a[3]&&(this._alpha=Math.max(0,Math.min(255,0|a[3]))),this._updateHSB())},getRGB:function(){return[this._red,this._green,this._blue]},getRGBA:function(){return[this._red,this._green,this._blue,this._alpha]},setHSB:function(){var a=arguments;1==arguments.length&&Array.isArray(arguments[0])&&(a=arguments[0]),3==a.length&&(this._hue=Math.max(0,Math.min(360,0|a[0])),this._saturation=Math.max(0,Math.min(100,0|a[1])),this._brightness=Math.max(0,Math.min(100,0|a[2])),this._updateRGB())},toString:function(){return this.hexString},_updateHSB:function(){var a=this._red/255,b=this._green/255,c=this._blue/255,d=Math.min(a,b,c),e=Math.max(a,b,c);e==d?this._hue=0:e==a?this._hue=Math.round((60*(b-c)/(e-d)+360)%360):e==b?this._hue=Math.round(60*(c-a)/(e-d)+120):e==c&&(this._hue=Math.round(60*(a-b)/(e-d)+240)),0===e?this._saturation=0:this._saturation=Math.round(100*(1-d/e)),this._brightness=Math.round(100*e),this._callCallbacks("value-changed")},_updateRGB:function(){var a=this.hue%360,b=this.saturation/100,c=this.brightness/100,d=(a/60|0)%6,e=a/60-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b);switch(d){case 0:this._red=255*c|0,this._green=255*h|0,this._blue=255*f|0;break;case 1:this._red=255*g|0,this._green=255*c|0,this._blue=255*f|0;break;case 2:this._red=255*f|0,this._green=255*c|0,this._blue=255*h|0;break;case 3:this._red=255*f|0,this._green=255*g|0,this._blue=255*c|0;break;case 4:this._red=255*h|0,this._green=255*f|0,this._blue=255*c|0;break;case 5:this._red=255*c|0,this._green=255*f|0,this._blue=255*g|0}this._callCallbacks("value-changed")}});b.exports=e},{"../base.js":7}],42:[function(a,b,c){var d=a("../base.js"),e=d.$extend({__init__:function(a){this.__fileField=document.createElement("input"),this.__fileField.type="file",this.__fileField.addEventListener("change",this.__onFileSelected.bind(this),!1),this.__fileField.style.position="fixed",this.__fileField.style.top=0,this.__fileField.style.left=0,this.__fileField.style.opacity=0,this.__fileField.style.display="none",document.getElementsByTagName("body")[0].appendChild(this.__fileField),this._acceptedMimes=[],this._acceptedExts=[],this._registerWEvents(["file-open"]),this.$super(a)},_acceptedMimes:[],getAcceptedMimes:function(){return this._acceptedMimes},setAcceptedMimes:function(a){this._acceptedMimes=a,this._updateAccepted()},_acceptedExts:[],getAcceptedExts:function(){return this._acceptedExts},setAcceptedExts:function(a){this._acceptedExts=a,this._updateAccepted()},_dropZone:null,getDropZone:function(){return this._dropZone},setDropZone:function(a){this._dropZone&&(this._unbindEvent("document-dragover"),this._unbindEvent("document-drop"),this._unbindEvent("element-dragover"),this._unbindEvent("element-drop")),this._dropZone=a,a&&(this._bindEvent("document-dragover",document,"dragover",function(a){a.preventDefault()}),this._bindEvent("document-drop",document,"drop",function(a){a.preventDefault()}),this._bindEvent("element-dragover",document,"dragover",function(a){}),this._bindEvent("element-drop",document,"drop",this.__onFileDropped.bind(this)))},_multiselect:!1,getMultiselect:function(){return this._multiselect},setMultiselect:function(a){this._multiselect=a,a?this.__fileField.multiple="true":delete this.__fileField.multiple},__fileField:null,open:function(){this.__fileField.style.display="inline-block",this.__fileField.focus(),this.__fileField.click(),this.__fileField.style.display="none"},destroy:function(){document.getElementsByTagName("body")[0].removeChild(this.__fileField),this.$super()},_updateAccepted:function(){for(var a=[],b=0;b<this.acceptedExts.length;b++)a.push("."+this.acceptedExts[b].toLocaleLowerCase());a=a.concat(this.acceptedMimes),this.__fileField.accept=a.join(",")},_openFile:function(a,b,c){for(var d=!1,e=0;e<this.acceptedMimes.length;e++)if(a.type==this.acceptedMimes[e]){d=!0;break}if(!d)for(var f=a.name.split(".").splice(-1),g=0;g<this.acceptedExts.length;g++)if(f==this.acceptedExts[g]){d=!0;break}d&&this._callCallbacks("file-open",[a,b,c])},__onFileDropped:function(a){for(var b in a.dataTransfer.files){var c=a.dataTransfer.files[b];c instanceof File&&this._openFile(c,a.pageX,a.pageY)}},__onFileSelected:function(a){for(var b in this.__fileField.files){var c=this.__fileField.files[b];c instanceof File&&this._openFile(c)}},__onLocaleChanged:function(){}});b.exports=e},{"../base.js":7}],43:[function(a,b,c){var d=a("../helpers.js"),e=a("../base.js"),f=a("../widget.js"),g=e.$extend({__init__:function(a,b){this._registerWEvents(["mouse-event","mouse-down","mouse-up","click","double-click","drag-start","dragging","drag-end","mouse-move","scroll-up","scroll-down"]),a&&(a instanceof f||a instanceof HTMLElement)?(this.$super(b),this.element=a):this.$super(a)},_element:null,getElement:function(){return this._element||document},setElement:function(a){a instanceof f?this._element=a.interactiveNode||a.html:a instanceof HTMLElement?this._element=a:this._element=null,this._updateEvents()},_threshold:5,getThreshold:function(){return this._threshold},setThreshold:function(a){this._threshold=a},_scaleX:1,getScaleX:function(){return this._scaleX},setScaleX:function(a){this._scaleX=a},_scaleY:1,getScaleY:function(){return this._scaleY},setScaleY:function(a){this._scaleY=a},getPageX:function(){return this.__event.pageX||0},getPageY:function(){return this.__event.pageY||0},getX:function(){var a=d.getAbsolutePosition(this.element).x;return(this.pageX-a)*this.scaleX},getY:function(){var a=d.getAbsolutePosition(this.element).y;return(this.pageY-a)*this.scaleY},getDeltaX:function(){return(this.pageX-(void 0!==this.__prevState.pageX?this.__prevState.pageX:this.pageX))*this.scaleX},getDeltaY:function(){return(this.pageY-(void 0!==this.__prevState.pageY?this.__prevState.pageY:this.pageY))*this.scaleY},_action:"",getAction:function(){return this._action},_btnLeft:!1,getBtnLeft:function(){return this._btnLeft},_btnMiddle:!1,getBtnMiddle:function(){return this._btnMiddle},_btnRight:!1,getBtnRight:function(){return this._btnRight},_button:null,getButton:function(){return this._button},__prevState:{},__mouseDownEvent:{},__event:{},_updateEvents:function(){for(var a in this.__events)this._unbindEvent(a);this.element&&(this._bindEvent("mouse-down",this.element,"mousedown",this.__onMouseDown.bind(this)),this._bindEvent("mouse-up",this.element,"mouseup",this.__onMouseUp.bind(this)),this._bindEvent("double-click",this.element,"dblclick",this.__onDoubleClick.bind(this)),this._bindEvent("mouse-move",this.element,"mousemove",this.__onMouseMove.bind(this)),this._bindEvent("mousewheel",this.element,"mousewheel",this.__onMouseWheel.bind(this)),this._bindEvent("mousewheel-firefox",this.element,"DOMMouseScroll",this.__onMouseWheel.bind(this)),this._bindEvent("document-mouse-up",document,"mouseup",this.__onDocumentMouseUp.bind(this)),this._bindEvent("document-mouse-move",document,"mousemove",this.__onDocumentMouseMove.bind(this)))},_dump:function(){return{event:this.__event,action:this.action,pageX:this.pageX,pageY:this.pageY,x:this.x,y:this.y,deltaX:this.deltaX,deltaY:this.deltaY,btnLeft:this.btnLeft,btnMiddle:this.btnMiddle,btnRight:this.btnRight,button:this.button}},_stateMachine:function(a,b){this.__prevState=this._dump(),this._action=a,this.__event=b,this._button=null,0===b.button&&(this._button="left"),1===b.button&&(this._button="middle"),2===b.button&&(this._button="right"),"mouse-down"==a?(this.__mouseDownEvent=b,0===b.button&&(this._btnLeft=!0),1===b.button&&(this._btnMiddle=!0),2===b.button&&(this._btnRight=!0),this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"mouse-up"==a?(0===b.button&&(this._btnLeft=!1),1===b.button&&(this._btnMiddle=!1),2===b.button&&(this._btnRight=!1),this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"drag-end"==a&&(0===b.button&&(this._btnLeft=!1),1===b.button&&(this._btnMiddle=!1),2===b.button&&(this._btnRight=!1)),"mouse-up"==a&&Math.abs(this.pageX-this.__mouseDownEvent.pageX)<=this._threshold&&Math.abs(this.pageY-this.__mouseDownEvent.pageY)<=this._threshold&&(this._action="click",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks("click",[this._dump()])),"double-click"==a&&"click"==this.__prevState.action&&(this._action="double-click",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),"mouse-move"==a&&(this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),"mouse-move"==a&&"drag-start"!=this.__prevState.action&&"dragging"!=this.__prevState.action&&(this.btnLeft||this.btnMiddle||this.btnRight)?(Math.abs(this.pageX-this.__mouseDownEvent.pageX)>this._threshold||Math.abs(this.pageY-this.__mouseDownEvent.pageY)>this._threshold)&&(this._action="drag-start",this.__event=this.__mouseDownEvent,this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()]),this._action="dragging",this.__prevState.event=this.__mouseDownEvent,this.__event=b,this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"dragging"==a||"mouse-move"==a&&("drag-start"==this.__prevState.action||"dragging"==this.__prevState.action)&&(this.btnLeft||this.btnMiddle||this.btnRight)?(this._action="dragging",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])):"drag-end"!=a&&("mouse-up"!=a||"dragging"!=this.__prevState.action&&"drag-start"!=this.__prevState.action||this.btnLeft||this.btnMiddle||this.btnRight)||(this._action="drag-end",this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()])),("scroll-up"==a||"scroll-down"==a)&&(this._callCallbacks("mouse-event",[this._dump()]),this._callCallbacks(this.action,[this._dump()]))},__onMouseDown:function(a){this._stateMachine("mouse-down",a)},__onMouseUp:function(a){this._stateMachine("mouse-up",a)},__onDoubleClick:function(a){this._stateMachine("double-click",a)},__onMouseMove:function(a){this._stateMachine("mouse-move",a)},__onDocumentMouseUp:function(a){("dragging"==this.action||"drag-start"==this.action)&&this._stateMachine("drag-end",a)},__onDocumentMouseMove:function(a){("dragging"==this.action||"drag-start"==this.action)&&this._stateMachine("dragging",a)},__onMouseWheel:function(a){var b=null;void 0!==a.wheelDeltaY&&(b=a.wheelDeltaY),void 0!==a.wheelDelta&&(b=a.wheelDelta),void 0!==a.axis&&void 0!==a.detail&&2==a.axis&&(b=-a.detail),null!==b&&(b>=0?this._stateMachine("scroll-up",a):this._stateMachine("scroll-down",a))}});b.exports=g},{"../base.js":7,"../helpers.js":22,"../widget.js":56}],44:[function(a,b,c){var d=a("../base.js"),e={},f=d.$extend({__init__:function(a){this._icons={},this.$super(a),this._updateProperties(["name"])},_name:"default",getName:function(){return this._name},setName:function(a){e[this.name]==this&&delete e[this.name],this._name=a,e[this.name]=this},_imageUrl:null,getImageUrl:function(){return this._imageUrl},setImageUrl:function(a){if(!a)return void(this._imageUrl=null);if(this._imageUrl!=a){this._imageUrl=a;var b=new Image;b.src=a}},_size:16,getSize:function(){return this._size},setSize:function(a){this._size=a},_icons:{},getIcons:function(){return this._icons},setIcons:function(a){for(var b in a)this._icons[b]=a[b]},getIconPosition:function(a){return{x:this.icons[a][0],y:this.icons[a][1]}},getIconCss:function(a){return"width: "+this.size+"px; height: "+this.size+"px; background: url("+this.imageUrl+") -"+this.getIconPosition(a).x+"px -"+this.getIconPosition(a).y+"px;"},addIcon:function(a,b,c){this.icons={iconName:[b,c]}},removeIcon:function(a){delete this._icons[a]}});f.getSpriteSheet=function(a){return void 0!==e[a]?e[a]:null},b.exports=f},{"../base.js":7}],45:[function(a,b,c){var d=a("stonejs"),e=a("../base.js"),f=e.$extend({__init__:function(a){a=a||{},this._registerWEvents(["locale-changed"]),this.$super(a),this._bindEvent("locale-changed",document,"stonejs-locale-changed",this.__onStonejsLocaleChanged.bind(this)),a.noGlobal||(window._=this.lazyGettext)},getLocale:d.getLocale,setLocale:d.setLocale,addCatalogs:d.addCatalogs,guessUserLanguage:d.guessUserLanguage,gettext:d.gettext,lazyGettext:d.lazyGettext,enableDomScan:d.enableDomScan,updateDomTranslation:d.updateDomTranslation,__onStonejsLocaleChanged:function(){this._callCallbacks("locale-changed",[this.locale])}});b.exports=f},{"../base.js":7,stonejs:4}],46:[function(a,b,c){var d={};d.lib={},d.lib.Class=a("abitbol"),d.lib.KeyboardJS=a("keyboardjs"),d.lib.Stone=a("stonejs"),d.lib.uuid=a("uuid"),d.Helpers=a("./helpers.js"),d.Base=a("./base.js"),d.Widget=a("./widget.js"),d.domInsert=d.Widget.domInsert,d.getWidget=d.Widget.getWidget,d.FileManager=a("./nonvisual/filemanager.js"),d.Translation=a("./nonvisual/translation.js"),d.AccelManager=a("./nonvisual/accelmanager.js"),d.MouseManager=a("./nonvisual/mousemanager.js"),d.BaseIcon=a("./visual/baseicon.js"),d.FAIcon=a("./visual/faicon.js"),d.Image=a("./visual/image.js"),d.SpriteSheet=a("./nonvisual/spritesheet.js"),d.SpriteIcon=a("./visual/spriteicon.js"),d.Canvas=a("./visual/canvas.js"),d.Label=a("./visual/label.js"),d.Text=a("./visual/text.js"),d.ProgressBar=a("./visual/progressbar.js"),d.Separator=a("./visual/separator.js"),d.Button=a("./interactive/button.js"),d.ColorButton=a("./composite/colorbutton.js"),d.CheckBox=a("./interactive/checkbox.js"),d.Switch=a("./interactive/switch.js"),d.ToggleButton=a("./interactive/togglebutton.js"),d.Color=a("./nonvisual/color.js"),d.ColorPalette=a("./interactive/colorpalette.js"),d.ColorPicker=a("./interactive/colorpicker.js"),d.Field=a("./interactive/field.js"),d.NumericField=a("./interactive/numericfield.js"),d.TextAreaField=a("./interactive/textareafield.js"),d.TextField=a("./interactive/textfield.js"),d.Select=a("./composite/select.js"),d.FontSelect=a("./composite/fontselect.js"),d.Slider=a("./interactive/slider.js"),d.Container=a("./container/container.js"),d.Layout=a("./layout/layout.js"),d.BoxLayout=a("./layout/boxlayout.js"),d.FluidLayout=a("./layout/fluidlayout.js"),d.GridLayout=a("./layout/gridlayout.js"),d.Menu=a("./layout/menu.js"),d.MenuItem=a("./container/menuitem.js"),d.SubMenuItem=a("./container/submenuitem.js"),d.Viewport=a("./container/viewport.js"),d.BaseWindow=a("./container/basewindow.js"),d.Window=a("./container/window.js"),d.PopupWindow=a("./container/popupwindow.js"),d.Dialog=a("./container/dialog.js"),d.ColorPickerDialog=a("./composite/colorpickerdialog.js"),d.PopupMenu=a("./composite/popupmenu.js"),d.TabItem=a("./container/tabitem.js"),d.TabLayout=a("./layout/tablayout.js"),b.exports=d},{"./base.js":7,"./composite/colorbutton.js":8,"./composite/colorpickerdialog.js":9,"./composite/fontselect.js":10,"./composite/popupmenu.js":11,"./composite/select.js":12,"./container/basewindow.js":13,"./container/container.js":14,"./container/dialog.js":15,"./container/menuitem.js":16,"./container/popupwindow.js":17,"./container/submenuitem.js":18,"./container/tabitem.js":19,"./container/viewport.js":20,"./container/window.js":21,"./helpers.js":22,"./interactive/button.js":23,"./interactive/checkbox.js":24,"./interactive/colorpalette.js":25,"./interactive/colorpicker.js":26,"./interactive/field.js":27,"./interactive/numericfield.js":28,"./interactive/slider.js":29,"./interactive/switch.js":30,"./interactive/textareafield.js":31,"./interactive/textfield.js":32,"./interactive/togglebutton.js":33,"./layout/boxlayout.js":34,"./layout/fluidlayout.js":35,"./layout/gridlayout.js":36,"./layout/layout.js":37,"./layout/menu.js":38,"./layout/tablayout.js":39,"./nonvisual/accelmanager.js":40,"./nonvisual/color.js":41,"./nonvisual/filemanager.js":42,"./nonvisual/mousemanager.js":43,"./nonvisual/spritesheet.js":44,"./nonvisual/translation.js":45,"./visual/baseicon.js":47,"./visual/canvas.js":48,"./visual/faicon.js":49,"./visual/image.js":50,"./visual/label.js":51,"./visual/progressbar.js":52,"./visual/separator.js":53,"./visual/spriteicon.js":54,"./visual/text.js":55,"./widget.js":56,abitbol:1,keyboardjs:3,stonejs:4,uuid:6}],47:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__onLocaleChanged:function(){}});b.exports=e},{"../widget.js":56}],48:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["width","height"]),this.getContext=this.__html.canvas.getContext.bind(this.__html.canvas),this.__html.canvas.supportsContext&&(this.supportsContext=this.__html.canvas.supportsContext.bind(this.__html.canvas)),this.__html.canvas.setContext&&(this.setContext=this.__html.canvas.setContext.bind(this.__html.canvas)),this.__html.canvas.transferControlToProxy&&(this.transferControlToProxy=this.__html.canvas.transferControlToProxy.bind(this.__html.canvas)),this.toDataURL=this.__html.canvas.toDataURL.bind(this.__html.canvas),this.__html.canvas.toDataURLHD&&(this.toDataURLHD=this.__html.canvas.toDataURLHD.bind(this.__html.canvas)),this.__html.canvas.toBlob&&(this.toBlob=this.__html.canvas.toBlob.bind(this.__html.canvas)),this.__html.canvas.toBlobHD&&(this.toBlobHD=this.__html.canvas.toBlobHD.bind(this.__html.canvas))},getWidth:function(){return this.__html.canvas.width},setWidth:function(a){this.__html.canvas.width=a||300},getHeight:function(){return this.__html.canvas.height},setHeight:function(a){this.__html.canvas.height=a||150},getCanvas:function(){return this.__html.canvas},getHtml:function(){return this.__html.outer},getInteractiveNode:function(){return this.__html.canvas},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-canvas",this.__html.canvas=document.createElement("canvas"),this.__html.outer.appendChild(this.__html.canvas)},__onLocaleChanged:function(){}});b.exports=e},{"../widget.js":56}],49:[function(a,b,c){var d=a("./baseicon.js"),e=d.$extend({__init__:function(a,b){var c={};if(a&&"string"==typeof a){if(c.iconName=a,b&&"object"==typeof b)for(var d in b)c[d]=b[d]}else a&&(c=a);this.$super(c),this._updateProperties(["iconName","size","color"])},_iconName:"",getIconName:function(){return this._iconName},setIconName:function(a){this._iconName=a||"",this.__html.icon.className="fa "+this.iconName+" "+this.size},_size:"",getSize:function(){return this._size},setSize:function(a){this._size=a||"",this.__html.icon.className="fa "+this.iconName+" "+this.size},_color:"inherit",getColor:function(){return this._color},setColor:function(a){this._color=a||"inherit",this.__html.icon.style.color=this.color},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("span"),this.__html.outer.className="photonui-widget photonui-icon photonui-faicon",this.__html.icon=document.createElement("i"),this.__html.outer.appendChild(this.__html.icon)}});b.exports=e},{"./baseicon.js":47}],50:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({_url:"",getUrl:function(){return this._url},setUrl:function(a){this._url=a,this.__html.image.src=a},_width:null,getWidth:function(){return this._width},setWidth:function(a){null!==a?(this._width=a,this.__html.image.width=a):this.__html.image.width=""},_height:null,getHeight:function(){return this._height},setHeight:function(a){null!==a?(this._height=a,this.__html.image.height=a):this.__html.image.height="";
},getHtml:function(){return this.__html.div},_buildHtml:function(){this.__html.div=document.createElement("div"),this.__html.div.className="photonui-widget photonui-image",this.__html.image=document.createElement("img"),this.__html.div.appendChild(this.__html.image)}});b.exports=e},{"../widget.js":56}],51:[function(a,b,c){var d=a("../widget.js"),e=a("../helpers.js"),f=d.$extend({__init__:function(a,b){var c={};if(a&&"string"==typeof a){if(c.text=a,b&&"object"==typeof b)for(var d in b)c[d]=b[d]}else a&&(c=a);c.layoutOptions=c.layoutOptions||{},void 0===c.layoutOptions.verticalExpansion&&(c.layoutOptions.verticalExpansion=!1),this.$super(c),this._updateProperties(["text","textAlign","forInputName"])},_text:"Label",getText:function(){return this._text},setText:function(a){this._text=a,e.cleanNode(this.__html.label);for(var b=a.split("\n"),c=0;c<b.length;c++)this.__html.label.appendChild(document.createTextNode(b[c])),c<b.length-1&&this.__html.label.appendChild(document.createElement("br"))},_textAlign:"left",getTextAlign:function(){return this._textAlign},setTextAlign:function(a){if("left"!=a&&"center"!=a&&"right"!=a)throw new Error("Text alignement sould be 'left', 'center' or 'right'.");this._textAlign=a,this.__html.label.style.textAlign=a},_forInputName:null,getForInputName:function(){return this._forInputName},setForInputName:function(a){this._forInputName=a,this._forInputName?this.forInput?this.__html.label.setAttribute("for",e.escapeHtml(this.forInput.inputId||this.forInput.name)):this.__html.label.setAttribute("for",e.escapeHtml(a)):this.__html.label.removeAttribute("for")},getForInput:function(){return d.getWidget(this.forInputName)},setForInput:function(a){this.forInputName=a.name},getHtml:function(){return this.__html.label},_buildHtml:function(){this.__html.label=document.createElement("label"),this.__html.label.className="photonui-widget photonui-label photonui-widget-fixed-height"}});b.exports=f},{"../helpers.js":22,"../widget.js":56}],52:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["orientation","value","pulsate"])},getHtml:function(){return this.__html.outer},_value:0,getValue:function(){return this._value},setValue:function(a){this._value=Math.min(Math.max(a,0),1),"horizontal"==this.orientation?(this.__html.bar.style.width=Math.floor(100*this.value)+"%",this.__html.bar.style.height=""):(this.__html.bar.style.height=Math.floor(100*this.value)+"%",this.__html.bar.style.width=""),this.__html.textContent.innerHTML=Math.floor(100*this.value)+" %"},_orientation:"horizontal",getOrientation:function(){return this._orientation},setOrientation:function(a){if("vertical"!=a&&"horizontal"!=a)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=a,this.removeClass("photonui-progressbar-vertical"),this.removeClass("photonui-progressbar-horizontal"),this.addClass("photonui-progressbar-"+this.orientation),this.value=this.value},_pulsate:!1,isPulsate:function(){return this._pulsate},setPulsate:function(a){this._pulsate=a,a?(this.addClass("photonui-progressbar-pulsate"),"horizontal"==this.orientation?this.__html.bar.style.width="":this.__html.bar.style.height=""):(this.removeClass("photonui-progressbar-pulsate"),this.value=this.value)},_textVisible:!0,isTextVisible:function(){return this._textVisible},setTextVisible:function(a){this._textVisible=a,this.textVisible?this.__html.text.style.display="":this.__html.text.style.display="none"},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-progressbar",this.__html.filldiv=document.createElement("div"),this.__html.filldiv.className="photonui-progressbar-fill",this.__html.filldiv.innerHTML="xxxxxxxxxxx",this.__html.filldiv.style.opacity=0,this.__html.filldiv.style.pointerEvents="none",this.__html.outer.appendChild(this.__html.filldiv),this.__html.text=document.createElement("div"),this.__html.text.className="photonui-progressbar-text",this.__html.outer.appendChild(this.__html.text),this.__html.textContent=document.createElement("span"),this.__html.text.appendChild(this.__html.textContent),this.__html.bar=document.createElement("div"),this.__html.bar.className="photonui-progressbar-bar",this.__html.outer.appendChild(this.__html.bar)},__onLocaleChanged:function(){}});b.exports=e},{"../widget.js":56}],53:[function(a,b,c){var d=a("../widget.js"),e=d.$extend({__init__:function(a){this.$super(a),this._updateProperties(["orientation"])},_orientation:"horizontal",getOrientation:function(){return this._orientation},setOrientation:function(a){if("vertical"!=a&&"horizontal"!=a)throw new Error('The orientation should be "vertical" or "horizontal".');this._orientation=a,this.removeClass("photonui-separator-vertical"),this.removeClass("photonui-separator-horizontal"),this.addClass("photonui-separator-"+this._orientation),this.removeClass("photonui-widget-fixed-height"),this.removeClass("photonui-widget-fixed-width"),"horizontal"==this._orientation?this.addClass("photonui-widget-fixed-height"):this.addClass("photonui-widget-fixed-width")},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-separator",this.__html.hr=document.createElement("hr"),this.__html.outer.appendChild(this.__html.hr)},__onLocaleChanged:function(){}});b.exports=e},{"../widget.js":56}],54:[function(a,b,c){var d=a("./baseicon.js"),e=a("../nonvisual/spritesheet.js"),f=d.$extend({__init__:function(a,b){var c={};if(a&&"string"==typeof a){if(c.icon=a,b&&"object"==typeof b)for(var d in b)c[d]=b[d]}else a&&(c=a);this.$super(c)},_spriteSheetName:"",getSpriteSheetName:function(){return this._spriteSheetName},setSpriteSheetName:function(a){this._spriteSheetName=a||"",this._update()},_iconName:"",getIconName:function(){return this._iconName},setIconName:function(a){this._iconName=a||"",this._update()},getIcon:function(){return this.spriteSheetName+"/"+this.iconName},setIcon:function(a){var b=a.split("/");this.spriteSheetName=b[0],this.iconName=b[1]},getHtml:function(){return this.__html.outer},_update:function(){var a="";this.spriteSheetName&&this.iconName&&(a=e.getSpriteSheet(this.spriteSheetName).getIconCss(this.iconName)),this.__html.icon.setAttribute("style",a)},_buildHtml:function(){this.__html.outer=document.createElement("span"),this.__html.outer.className="photonui-widget photonui-icon photonui-spriteicon",this.__html.icon=document.createElement("span"),this.__html.outer.appendChild(this.__html.icon)}});b.exports=f},{"../nonvisual/spritesheet.js":44,"./baseicon.js":47}],55:[function(a,b,c){var d=a("stonejs"),e=a("../widget.js"),f=a("../helpers.js"),g=e.$extend({_lastSet:"text",_raw:"",getText:function(){return this.__html.outer.textContent},setText:function(a){this._lastSet="text",this._raw=a,f.cleanNode(this.__html.outer),this.__html.outer.appendChild(document.createTextNode(a))},getRawHtml:function(){return this.__html.outer.innerHTML},setRawHtml:function(a){this._lastSet="rawHtml",this._raw=a,this.__html.outer.innerHTML=a},getHtml:function(){return this.__html.outer},_buildHtml:function(){this.__html.outer=document.createElement("div"),this.__html.outer.className="photonui-widget photonui-text"},__onLocaleChanged:function(){this.$super(),this._raw instanceof d.LazyString&&(this[this._lastSet]=this._raw)}});b.exports=g},{"../helpers.js":22,"../widget.js":56,stonejs:4}],56:[function(a,b,c){var d=a("stonejs"),e=a("uuid"),f=a("./base.js"),g=a("./helpers.js"),h={},i=f.$extend({__init__:function(a){this.__html={},this._layoutOptions={},this._buildHtml(),this._registerWEvents(["show","hide"]),this.$super(a),this._updateProperties(["visible"]),this.name||(this.name="widget-"+e.v4()),a&&a.className&&this.addClass(a.className),this.html&&this._bindEvent("pop-contextmenu",this.html,"contextmenu",this.__onContextMenu.bind(this)),this._bindEvent("locale-changed",document,"stonejs-locale-changed",this.__onLocaleChanged.bind(this)),h[this.name]=this},_name:null,getName:function(){return this._name},setName:function(a){delete h[this.name],this._name=a,h[a]=this,this.html&&(this.html.id=this.name)},_parentName:null,getParentName:function(){return this._parentName},getParent:function(){return i.getWidget(this.parentName)},_visible:!0,isVisible:function(){return this._visible},setVisible:function(a){this._visible=Boolean(a),this.html&&(a?this.html.style.display="":this.html.style.display="none",this._visibilityChanged())},_tooltip:null,getTooltip:function(){return this._tooltip},setTooltip:function(a){this._tooltip=a,a?this.html.title=a:this.html.removeAttribute("title")},_contextMenuName:null,getContextMenuName:function(){return this._contextMenuName},setContextMenuName:function(a){this._contextMenuName=a},getContextMenu:function(){return i.getWidget(this.contextMenuName)},setContextMenu:function(b){var c=a("./container/popupwindow.js");b instanceof c?this.contextMenuName=b.name:this.contextMenuName=null},_layoutOptions:{},getLayoutOptions:function(){return this._layoutOptions},setLayoutOptions:function(a){for(var b in a)this._layoutOptions[b]=a[b]},getHtml:function(){return g.log("debug","getHtml() method is not implemented on this widget."),null},getAbsolutePosition:function(){return this.html?g.getAbsolutePosition(this.html):{x:0,y:0}},getOffsetWidth:function(){return this.html?this.html.offsetWidth:0},getOffsetHeight:function(){return this.html?this.html.offsetHeight:0},__html:{},show:function(){this.visible=!0},hide:function(){this.visible=!1},unparent:function(){this.parent?this.parent.removeChild(this):this.html&&this.html.parentNode&&this.html.parentNode.removeChild(this.html)},destroy:function(){this.$super(),this.unparent(),delete h[this.name]},addClass:function(a){if(this.html){var b=this.html.className.split(" ");b.indexOf(a)<0&&b.push(a),this.html.className=b.join(" ")}},removeClass:function(a){if(this.html){var b=this.html.className.split(" "),c=b.indexOf(a);c>=0&&b.splice(c,1),this.html.className=b.join(" ")}},_buildHtml:function(){g.log("debug","_buildHtml() method not implemented on this widget.")},_visibilityChanged:function(a){a=void 0!==a?a:this.visible,a&&this.visible?this._callCallbacks("show"):this._callCallbacks("hide")},__onContextMenu:function(a){a.stopPropagation(),a.preventDefault(),this.contextMenuName&&this.contextMenu.popupXY(a.pageX,a.pageY)},__onLocaleChanged:function(){for(var a in this)this[a]instanceof d.LazyString&&(this[a]=this[a])}});i.getWidget=function(a){return void 0!==h[a]?h[a]:null},i.e_parent=null,i.domInsert=function(a,b){b=b||i.e_parent||document.getElementsByTagName("body")[0],"string"==typeof b&&(b=document.getElementById(b)),b.appendChild(a.html)},b.exports=i},{"./base.js":7,"./container/popupwindow.js":17,"./helpers.js":22,stonejs:4,uuid:6}]},{},[46])(46)});